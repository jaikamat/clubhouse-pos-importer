{"version":3,"sources":["LandingPage/clubhouse_products.png","LandingPage/ikoria_splash.jpg","LandingPage/core_2021_draft_booster.png","LandingPage/core_2021_collector.jpg","utils/api_resources.js","LandingPage/double_masters.png","Header/logos/magic-ball.png","utils/makeAuthHeader.js","common/SearchBar.js","common/QohLabels.js","utils/parseQoh.js","common/createToast.js","common/CardImage.js","common/MarketPrice.js","utils/ScryfallCard.js","common/Language.js","ManageInventory/ScryfallCardListItem.js","ManageInventory/ScryfallCardList.js","ManageInventory/Home.js","context/SaleContext.js","utils/sortSaleList.js","NewSale/BrowseCardItem.js","NewSale/BrowseCardList.js","common/Price.js","NewSale/SaleLineItem.js","NewSale/SalePriceTotal.js","NewSale/FinishSale.js","NewSale/CustomerSaleList.js","NewSale/PrintList.js","NewSale/SuspendedSale.js","NewSale/Sale.js","BrowseSales/SalesListItem.js","BrowseSales/SalesList.js","BrowseSales/BrowseSales.js","PublicInventory/PublicCardItem.js","PublicInventory/PublicCardList.js","PublicInventory/PublicInventory.js","DeckboxClone/DeckboxCloneForm.js","DeckboxClone/DeckboxCloneRow.js","DeckboxClone/DeckboxClone.js","context/AuthProvider.js","Login/Login.js","Logout/Logout.js","context/ReceivingContext.js","Receiving/ReceivingSearchItem.js","Receiving/ReceivingSearchList.js","Receiving/DefaultPlaceholder.js","Receiving/ReceivingListItem.js","Receiving/CashReport.js","Receiving/ReceivingListModal.js","Receiving/ReceivingListTotals.js","Receiving/printCashReport.js","Receiving/ReceivingList.js","Receiving/Receiving.js","Reports/Reports.js","LandingPage/Card.js","LandingPage/LandingPage.js","Main.js","Header/Header.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","env","process","REACT_APP_ENVIRONMENT","endpoints","FINISH_SALE","ADD_CARD_TO_INVENTORY","RECEIVE_CARDS","GET_INVENTORY_QUERY","GET_SALES_BY_TITLE","GET_SCRYFALL_BULK_BY_TITLE","GET_CARDS_BY_FILTER","GET_SET_NAMES","SUSPEND_SALE","LOGIN","GET_ALL_SALES","GET_CARDS_WITH_INFO","SCRYFALL_AUTOCOMPLETE","SCRYFALL_SEARCH","GET_LIVE_PRICE","makeAuthHeader","Authorization","localStorage","getItem","SearchBar","props","useState","isLoading","setIsLoading","results","setResults","handleResultSelect","e","a","result","setTimeout","$","select","handleSearchSelect","title","console","log","Search","onSearchChange","_","debounce","value","length","axios","get","headers","data","formattedResults","map","el","slice","leading","trailing","onResultSelect","loading","placeholder","selectFirstResult","id","onFocus","target","onBlur","QohLabels","inventoryQty","foilQty","nonfoilQty","FOIL_NM","FOIL_LP","FOIL_MP","FOIL_HP","NONFOIL_NM","NONFOIL_LP","NONFOIL_MP","NONFOIL_HP","parseQoh","foilColor","color","nonfoilColor","Fragment","Label","image","className","Detail","createToast","header","message","duration","toaster","notify","Message","compact","Header","position","style","boxShadow","zIndex","transition","CardImage","state","hovered","mouseOver","setState","mouseOut","this","image_uris","card_faces","hover","Image","src","size","transform","onMouseOver","onMouseOut","normal","React","Component","LabelStyle","styled","foil","MarketPrice","finish","market","setMarket","median","setMedian","setLoading","isFoil","useEffect","_isMounted","params","scryfallId","marketPrices","medianPrices","Math","max","loader","Icon","name","displayPrice","price","toFixed","InventoryCard","card","_qoh","qoh","quantity","qtyToSell","finishCondition","quantities","printed_name","set","set_name","rarity","nonfoil","colors","type_line","frame_effects","lang","border_color","display_name","_createDisplayName","cardImage","_getCardImage","toUpperCase","includes","myImage","LANG_CODES","en","es","fr","de","it","pt","ja","ko","ru","zhs","zht","he","la","grc","ar","sa","px","Language","languageCode","finishes","key","text","cardConditions","checkCardFinish","nonfoilProp","foilProp","selectedFinish","finishDisabled","ScryfallCardListItem","setQuantity","setSelectedFinish","selectedCondition","setSelectedCondition","setFinishDisabled","submitDisable","setSubmitDisable","setInventoryQty","submitLoading","setSubmitLoading","handleInventoryAdd","post","cardInfo","focus","Segment","Item","Group","divided","Content","as","fontSize","String","Description","Form","Field","control","Input","type","label","onChange","val","parseInt","isNaN","Select","options","disabled","Button","primary","onClick","ScryfallCardList","cards","Home","searchResults","setSearchResults","term","matchInStock","modeledData","c","Divider","icon","SaleContext","createContext","SaleProvider","saleListCards","setSaleListCards","_id","notes","list","suspendedSale","setSuspendedSale","restoreSale","response","suspendSale","customerName","delete","saleList","resetSaleState","ops","deleteSuspendedSale","finalizeSale","saleID","sale_data","Sale","Provider","addToSaleList","newCard","oldState","modeledCard","idx","findIndex","splice","push","sortedCards","ORDER","helpSort","arrayConst","colorsLength","cardFace","sort","b","localeCompare","indexOf","sortSaleList","removeFromSaleList","newState","reject","children","createConditionOptions","removeZeroedQuantites","pickBy","p","Object","entries","d","conditionFinish","qty","split","join","createInitialSelectedFinish","keysMapped","keys","k","uniq","BrowseCardItem","selectedFinishCondition","setSelectedFinishCondition","selectedFinishConditionQty","setSelectedFinishConditionQty","quantityToSell","setQuantityToSell","setPrice","conditionOptions","setConditionOptions","useContext","Dropdown","selection","numVal","Number","step","BrowseCardList","Price","num","SaleLineItem","setHovered","Table","Row","Cell","classname","singleLine","circular","SalePriceTotal","total","reduce","acc","FinishSale","submit","setSubmit","showModal","setShowModal","handleFinalizeSale","modalTrigger","floated","Modal","basic","open","trigger","inverted","Actions","CustomerSaleList","Body","clearing","sub","PrintList","printClicked","print","window","display","float","div","ClearMargin","CharLimit","SuspendedSale","saleListLength","sales","setSales","setSaleID","modalOpen","setModalOpen","setCustomerName","setNotes","setDisabled","suspendBtn","restoreBtn","deleteBtn","loadingBtn","setLoadingBtn","getSales","clearFields","submitSuspendSale","submitRestoreSale","submitDeleteSale","Grid","columns","stackable","relaxed","Column","width","substring","TextArea","fluid","s","info","searchTerm","setSearchTerm","alignItems","SalesListItem","saleData","quantitySold","cardList","pre","curr","moment","createTime","format","SalesList","celled","unstackable","HeaderCell","card_list","BrowseSales","salesList","cardName","Wrapper","InventoryWrapper","InventoryRow","ImageWrapper","PublicCardItem","qohParsed","displayFoil","displayNonfoil","borderRadius","gridStyle","flexWrap","alignContent","height","PublicCardList","initialState","PublicInventory","Subheader","formatDropdownOptions","priceFilterDropdownOptions","finishDropdownOptions","sortByDropdownOptions","sortByDirectionDropdownOptions","sortByColorDropdownOptions","typeLineOptions","setName","priceNum","priceFilter","sortBy","colorsArray","sortByDirection","typeLine","setNames","DeckboxCloneForm","editionDropdownOptions","handleSearchBlur","handleChange","handleDropdownChange","setNameOptions","concatWithBlankOption","concat","widths","search","multiple","defaultValue","labelPosition","handleSubmit","conditionMap","NM","LP","MP","HP","Tooltip","image_uri","posX","posY","left","background","DeckboxCloneRow","mouseInside","mouseX","mouseY","mouseEnter","clientX","offsetLeft","clientY","offsetTop","mouseLeave","mouseMove","inventory","condition","onMouseEnter","onMouseLeave","onMouseMove","cursor","v","DeckboxClone","count","currentPage","numPages","pageArray","cachedFilters","showPages","searchTouched","fetchData","filters","page","ceil","pages","range","handlePage","showLeftPageButtons","showRightPageButtons","Container","Dimmer","active","marginTop","Loader","secondary","striped","colSpan","Menu","Footer","AuthContext","AuthProvider","loggedIn","setLoggedIn","handleLogin","username","password","toLowerCase","token","setItem","authed","handleLogout","removeItem","LoginContainer","FormContainer","Login","handleInputChange","login","to","raised","Logout","TRADE_TYPES","CASH","CREDIT","LineItem","cardProps","cashPrice","marketPrice","creditPrice","uuid_key","uuid","tradeType","ReceivingContext","ReceivingProvider","receivingList","setReceivingList","commitToInventory","cardsToCommit","addToList","times","removeFromList","copiedState","remove","activeTradeType","previousState","find","selectAll","selectType","forEach","arr","selectedPrice","resetSearchResults","ReceivingSearchItem","setCashPrice","setCreditPrice","setMarketPrice","handlePriceChange","handleFocus","validateQty","validateTradeTypes","submitDisabled","ReceivingCardList","DefaultPlaceholder","TRADE_TYPE","ReceivingListItem","whiteSpace","CashReport","countByPriceAndID","closeCashModal","chain","filter","temp_uuid","groupBy","mapValues","mergedWithQty","uniqBy","tradeQty","totalCashOut","sumBy","ReceivingListModal","cashTotal","creditTotal","submitToInventory","closeOnDimmerClick","onClose","FlexRow","FlexCol","StatisticColor","Statistic","ReceivingListTotals","showCashModal","setShowCashModal","Or","divToPrint","document","getElementById","popup","write","innerHTML","close","printCashReport","Value","ReceivingList","Receiving","Reports","sales_data","format_legalities","groupByDay","timeStamp","startOf","dailySalesTotals","dailyAverageSales","rangeBuckets","0","1","2","3","4","5","rarityCounts","forOwn","legalityCounts","standard","nonStandard","qtySold","legalities","formattedDailySalesTotals","Date","getTime","formattedDailyAverageSales","formattedRangeBuckets","formattedRarityCounts","y","formattedLegalities","Highcharts","setOptions","thousandsSep","chart","zoomType","subtitle","credits","enabled","xAxis","yAxis","legend","series","tooltip","valueDecimals","min","categories","plotOptions","bar","dataLabels","plotBackgroundColor","plotBorderWidth","plotShadow","pie","distance","property","operator","Text","img","Card","imageSrc","date","BaseContent","ContentContainer","clubhouse_products","Image2","ImageMask","ImageMask2","FlexRowResponsive","SpanStyle","span","FlexColumn","Slogan","h1","button","IconStyled","FooterIcon","BodyText","align","Spacer","FooterStyle","SocialMedia","ServiceCard","content","InfoCard","LandingPage","href","rel","link","role","aria-label","double_masters","core_2021_collector","core_2021_draft_booster","ikoria_splash","BackgroundColor","Main","exact","path","component","pathname","location","fixed","Link","replace","ballLogo","marginRight","alt","item","withRouter","App","Boolean","hostname","match","ReactDOM","render","basename","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"2HAAAA,EAAOC,QAAU,IAA0B,gD,oBCA3CD,EAAOC,QAAU,IAA0B,2C,oBCA3CD,EAAOC,QAAU,IAA0B,qD,oBCA3CD,EAAOC,QAAU,IAA0B,iD,qBCOrCC,EAAgC,gBANJC,8CAA1BC,sBAM8C,QAAU,GAE1DC,EAAY,CACdC,YAAY,yEAAD,OACkEJ,GAC7EK,sBAAsB,iFAAD,OACgEL,GACrFM,cAAc,2EAAD,OACkEN,GAC/EO,oBAAoB,mFAAD,OACoEP,GACvFQ,mBAAmB,uEAAD,OACyDR,GAC3ES,2BAA2B,0FAAD,OACoET,GAC9FU,oBAAoB,+EAAD,OACgEV,GACnFW,cAAc,+EAAD,OACsEX,EADtE,cAEbY,aAAa,0EAAD,OACkEZ,GAC9Ea,MAAM,qEAAD,OACoEb,GACzEc,cAAc,uEAAD,OAC8Dd,EAD9D,UAEbe,oBAAoB,+EAAD,OACgEf,GACnFgB,sBAAuB,8CACvBC,gBAAiB,wCACjBC,eAAe,8EAAD,OAAgFlB,IAGlGF,EAAOC,QAAUI,G,oBCvCjBL,EAAOC,QAAU,IAA0B,4C,oBCA3CD,EAAOC,QAAU,IAA0B,wC,0SCG5B,SAASoB,IAEpB,MADe,CAAEC,cAAc,UAAD,OAAYC,aAAaC,QAAQ,mB,6BCIpD,SAASC,EAAUC,GAAQ,IAAD,EACHC,oBAAS,GADN,mBAC9BC,EAD8B,KACnBC,EADmB,OAEPF,mBAAS,IAFF,mBAE9BG,EAF8B,KAErBC,EAFqB,KA4B/BC,EAAkB,uCAAG,WAAOC,EAAP,kBAAAC,EAAA,6DAAYC,EAAZ,EAAYA,OAInCC,YAAW,kBAAMC,IAAE,cAAcC,WAAU,IAJpB,SAMnBT,GAAa,GANM,SAObH,EAAMa,mBAAmBJ,EAAOK,OAPnB,OAQnBX,GAAa,GARM,gDAUnBY,QAAQC,IAAR,MAVmB,yDAAH,wDAcxB,OACI,kBAACC,EAAA,EAAD,CACIC,eAAgBC,IAAEC,UAxCC,SAACb,EAAD,GAAmB,IAAbc,EAAY,EAAZA,MAC7B,GAAIA,EAAMC,OAAS,EAGf,OAFAnB,GAAa,QACbE,EAAW,IAIXgB,EAAMC,OAAS,IAEnBnB,GAAa,GAEbO,WAAU,sBAAC,gCAAAF,EAAA,sEACgBe,IAAMC,IAAN,UAChBhC,wBADgB,cACW6B,GAC9B,CAAEI,QAAS9B,MAHR,gBACC+B,EADD,EACCA,KAKFC,EAAmBD,EAAKA,KAAKE,KAAI,SAAAC,GAAE,MAAK,CAAEf,MAAOe,MAAOC,MAAM,EAAG,GAEvEzB,EAAWsB,GACXxB,GAAa,GATN,2CAUR,QAmBgD,IAAK,CAAE4B,SAAS,EAAOC,UAAU,IAChFC,eAAgB3B,EAChB4B,QAAShC,EACTE,QAASA,EACT+B,YAAY,oBACZC,mBAAmB,EACnBC,GAAG,YACHC,QAAS,SAAA/B,GAAC,OAAIA,EAAEgC,OAAO3B,UACvB4B,OAAQxC,EAAMwC,S,mECzCX,SAASC,EAAT,GAAsC,IAAD,ECLrC,SAAkBC,GAC7B,IAAIC,EAAU,EACVC,EAAa,EAgBjB,OAdIF,IACAC,GACKD,EAAaG,SAAW,IACxBH,EAAaI,SAAW,IACxBJ,EAAaK,SAAW,IACxBL,EAAaM,SAAW,GAE7BJ,GACKF,EAAaO,YAAc,IAC3BP,EAAaQ,YAAc,IAC3BR,EAAaS,YAAc,IAC3BT,EAAaU,YAAc,IAG7B,CAACT,EAASC,GDZaS,CADkB,EAAhBX,cAAgB,mBACzCC,EADyC,KAChCC,EADgC,KAG1CU,EAAY,GACdX,EAAU,IAAKW,EAAUC,MAAQ,QAErC,IAAMC,EAAe,GAGrB,OAFIZ,EAAa,IAAKY,EAAaD,MAAQ,QAGvC,kBAAC,IAAME,SAAP,KACI,kBAACC,EAAA,EAAD,iBAAWJ,EAAX,CAAsBK,OAAK,EAACC,UAAU,eAAtC,OAEJ,kBAACF,EAAA,EAAMG,OAAP,CAAcD,UAAU,kBAAkBjB,IAEtC,kBAACe,EAAA,EAAD,iBAAWF,EAAX,CAAyBG,OAAK,EAACC,UAAU,kBAAzC,UAEJ,kBAACF,EAAA,EAAMG,OAAP,CAAcD,UAAU,qBAAqBhB,K,sBEjBtCkB,EAfK,SAAC,GAAiD,IAA/CP,EAA8C,EAA9CA,MAAOQ,EAAuC,EAAvCA,OAAQC,EAA+B,EAA/BA,QAA+B,IAAtBC,gBAAsB,MAAX,IAAW,EACjE,OAAOC,IAAQC,QACX,kBACI,kBAACC,EAAA,EAAD,CAASb,MAAOA,EAAOc,SAAO,GAC1B,kBAACD,EAAA,EAAQE,OAAT,KAAiBP,GAChBC,KAGT,CACIO,SAAU,eACVN,SAAUA,K,iBCXhBO,EAAQ,CACVC,UAAW,gCACXC,OAAQ,KACRC,WAAY,uBA8CDC,E,2MA1CXC,MAAQ,CAAEC,SAAS,G,EAEnBC,UAAY,WAAQ,EAAKC,SAAS,CAAEF,SAAS,K,EAE7CG,SAAW,WAAQ,EAAKD,SAAS,CAAEF,SAAS,K,wEAElC,IAAD,EACmDI,KAAKlF,MAArDmF,EADH,EACGA,WAAYC,EADf,EACeA,WAAYzB,EAD3B,EAC2BA,MAD3B,IACkC0B,aADlC,SAGL,GAAI1B,EACA,OAAO,kBAAC2B,EAAA,EAAD,CACHC,IAAK5B,EACL6B,KAAK,OACLhB,MAAK,eAAOA,EAAP,CAAciB,UAAU,GAAD,OAAKP,KAAKL,MAAMC,QAAU,cAAgB,cACtEY,YAAaL,EAAQH,KAAKH,UAAY,KACtCY,WAAYN,EAAQH,KAAKD,SAAW,OAM5C,IAEI,OAAO,kBAACK,EAAA,EAAD,CACHC,IAAKJ,EAAWS,OAChBJ,KAAK,OACLhB,MAAK,eAAOA,EAAP,CAAciB,UAAU,GAAD,OAAKP,KAAKL,MAAMC,QAAU,cAAgB,cACtEY,YAAaL,EAAQH,KAAKH,UAAY,KACtCY,WAAYN,EAAQH,KAAKD,SAAW,OAE1C,MAAO1E,GACL,OAAO,kBAAC+E,EAAA,EAAD,CAAOC,IACVH,EAAW,GAAGD,WAAWS,OACzBJ,KAAK,OACLhB,MAAK,eAAOA,EAAP,CAAciB,UAAU,GAAD,OAAKP,KAAKL,MAAMC,QAAU,cAAgB,cACtEY,YAAaL,EAAQH,KAAKH,UAAY,KACtCY,WAAYN,EAAQH,KAAKD,SAAW,Y,GArC5BY,IAAMC,W,qKCH9B,IAAMC,EAAaC,YAAOtC,IAAPsC,CAAH,KACQ,SAAAhG,GAAK,OAAMA,EAAMiG,KAAO,UAAY,QACpC,SAAAjG,GAAK,OAAMA,EAAMiG,KAAO,kDAAoD,QAGrF,SAASC,EAAT,GAAsC,IAAf7D,EAAc,EAAdA,GAAI8D,EAAU,EAAVA,OAAU,EACpBlG,mBAAS,MADW,mBACzCmG,EADyC,KACjCC,EADiC,OAEpBpG,mBAAS,MAFW,mBAEzCqG,EAFyC,KAEjCC,EAFiC,OAGlBtG,oBAAS,GAHS,mBAGzCiC,EAHyC,KAGhCsE,EAHgC,KAI1CC,EAAoB,SAAXN,EAEfO,qBAAU,YACN,uCAAC,oCAAAlG,EAAA,6DACOmG,GAAa,EACjBH,GAAW,GAFd,SAI0BjF,IAAMC,IAAI9B,iBAAgB,CAC7CkH,OAAQ,CAAEC,WAAYxE,KAL7B,uBAIWX,EAJX,EAIWA,KAGAoF,EAA+BpF,EAA/BoF,aAAcC,EAAiBrF,EAAjBqF,aACJ,GAEdJ,IACIF,GACAJ,EAAUW,KAAKC,IAAIH,EAAab,KAJtB,KAKVM,EAAUS,KAAKC,IAAIF,EAAad,KALtB,OAOVI,EAAUW,KAAKC,IAAIH,EAAalB,OAPtB,KAQVW,EAAUS,KAAKC,IAAIF,EAAanB,OARtB,MAWdY,GAAW,IAnBlB,mBAsBU,kBAAMG,GAAa,KAtB7B,4CAAD,yDAwBD,CAACtE,EAAI8D,IAER,IAAMe,EAAS,yCAAc,kBAACC,EAAA,EAAD,CAAMjF,SAAO,EAACkF,KAAK,aAC1CC,EAAe,SAAAC,GAAK,OAAMA,EAAF,WAAcA,EAAMC,QAAQ,IAAO,OAEjE,OAAO,kBAAC,IAAM9D,SAAP,KACH,kBAACsC,EAAD,CAAYE,KAAMQ,GACbvE,EAAUgF,EAAS,sCAAYG,EAAajB,KAEjD,kBAACL,EAAD,CAAYE,KAAMQ,GACbvE,EAAUgF,EAAS,sCAAYG,EAAaf,MC/ClD,IA0DMkB,EAAb,YACI,WAAYC,GAAO,IAAD,8BACd,4CAAMA,KACDC,KAAOD,EAAKE,IAAMF,EAAKE,IAAM,GAElC,EAAKC,SAAWH,EAAKG,UAAY,KACjC,EAAKC,UAAYJ,EAAKI,WAAa,KACnC,EAAKC,gBAAkBL,EAAKK,iBAAmB,KAC/C,EAAKR,MAAQG,EAAKH,OAAS,EAAIG,EAAKH,MAAQ,KAP9B,EADtB,uEAwBQ,MAAO,EAXFpC,KAAKwC,KAAK7E,SAAW,IACrBqC,KAAKwC,KAAK5E,SAAW,IACrBoC,KAAKwC,KAAK3E,SAAW,IACrBmC,KAAKwC,KAAK1E,SAAW,IAGrBkC,KAAKwC,KAAKzE,YAAc,IACxBiC,KAAKwC,KAAKxE,YAAc,IACxBgC,KAAKwC,KAAKvE,YAAc,IACxB+B,KAAKwC,KAAKtE,YAAc,MAtBrC,0BA4BQ,OAAO8B,KAAKwC,MA5BpB,aA+BYK,GACJ7C,KAAKwC,KAAOK,GAA0B,OAhC9C,GA1DA,WAiCI,WAAYN,GAAO,oBACfvC,KAAK7C,GAAKoF,EAAKpF,GACf6C,KAAKkC,KAAOK,EAAKL,KACjBlC,KAAK8C,aAAeP,EAAKO,cAAgB,KACzC9C,KAAK+C,IAAMR,EAAKQ,IAChB/C,KAAKgD,SAAWT,EAAKS,SACrBhD,KAAKiD,OAASV,EAAKU,OACnBjD,KAAKC,WAAasC,EAAKtC,YAAc,KACrCD,KAAKE,WAAaqC,EAAKrC,YAAc,KACrCF,KAAKkD,QAAUX,EAAKW,QACpBlD,KAAKe,KAAOwB,EAAKxB,KACjBf,KAAKmD,OAASZ,EAAKY,OACnBnD,KAAKoD,UAAYb,EAAKa,UACtBpD,KAAKqD,cAAgBd,EAAKc,eAAiB,GAC3CrD,KAAKsD,KAAOf,EAAKe,MAAQ,GACzBtD,KAAKuD,aAAehB,EAAKgB,aACzBvD,KAAKwD,aAAexD,KAAKyD,qBACzBzD,KAAK0D,UAAY1D,KAAK2D,gBAlD9B,iEAE0B,IACVzB,EAA0DlC,KAA1DkC,KAAMY,EAAoD9C,KAApD8C,aAAcO,EAAsCrD,KAAtCqD,cAAeE,EAAuBvD,KAAvBuD,aAAcD,EAAStD,KAATsD,KAEzD,MAAa,OAATA,EAAqB,GAAN,OAAUpB,EAAV,aAAmBoB,EAAKM,cAAxB,KAEd1B,IAASY,GAAiBA,EACrB,GAAN,OAAUZ,EAAV,gBACgC,IAAzBmB,EAAcjH,QAAiC,eAAjBmH,EAC/B,GAAN,OAAUrB,EAAV,iBACOmB,EAAcQ,SAAS,YACxB,GAAN,OAAU3B,EAAV,eACOmB,EAAcQ,SAAS,eACxB,GAAN,OAAU3B,EAAV,mBAEOA,IAhBnB,sCAqBQ,IAAI4B,EAEJ,IAEIA,EAAU9D,KAAKC,WAAWS,OAC5B,MAAOrF,GACLyI,EAAU9D,KAAKE,WAAW,GAAGD,WAAWS,OAG5C,OAAOoD,MA9Bf,MCDMC,EAAa,CACfC,GAAI,UACJC,GAAI,UACJC,GAAI,SACJC,GAAI,SACJC,GAAI,UACJC,GAAI,aACJC,GAAI,WACJC,GAAI,SACJC,GAAI,UACJC,IAAK,qBACLC,IAAK,sBACLC,GAAI,SACJC,GAAI,QACJC,IAAK,gBACLC,GAAI,SACJC,GAAI,WACJC,GAAI,aAGO,SAASC,EAAT,GAAqC,IAAjBC,EAAgB,EAAhBA,aAC/B,OAAO,kBAAC1G,EAAA,EAAD,CAAOC,OAAK,EAACJ,MAAM,QAAQ0F,EAAWmB,ICZjD,IAAMC,EAAW,CACb,CAAEC,IAAK,UAAWC,KAAM,UAAWlJ,MAAO,WAC1C,CAAEiJ,IAAK,OAAQC,KAAM,OAAQlJ,MAAO,SAGlCmJ,EAAiB,CACnB,CAAEF,IAAK,KAAMC,KAAM,YAAalJ,MAAO,MACvC,CAAEiJ,IAAK,KAAMC,KAAM,aAAclJ,MAAO,MACxC,CAAEiJ,IAAK,KAAMC,KAAM,gBAAiBlJ,MAAO,MAC3C,CAAEiJ,IAAK,KAAMC,KAAM,aAAclJ,MAAO,OAS5C,SAASoJ,EAAgBC,EAAaC,GAClC,OAAKD,GAAeC,EACT,CAAEC,eAAgB,OAAQC,gBAAgB,GAC1CH,IAAgBC,EAChB,CAAEC,eAAgB,UAAWC,gBAAgB,GAC7CH,GAAeC,EACf,CAAEC,eAAgB,UAAWC,gBAAgB,QADjD,EAKI,SAASC,GAAT,GAAyG,IAAzEnD,EAAwE,EAAxEA,IAAK1B,EAAmE,EAAnEA,KAAMmC,EAA6D,EAA7DA,QAAShB,EAAoD,EAApDA,KAAMc,EAA8C,EAA9CA,SAAUD,EAAoC,EAApCA,IAAKE,EAA+B,EAA/BA,OAAQ9F,EAAuB,EAAvBA,GAAIuG,EAAmB,EAAnBA,UAAWJ,EAAQ,EAARA,KAAQ,EACnFvI,mBAAS,GAD0E,mBAC5G2H,EAD4G,KAClGmD,EADkG,OAEvE9K,mBAASwK,EAAgBrC,EAASnC,GAAM2E,gBAF+B,mBAE5GA,EAF4G,KAE5FI,EAF4F,OAGjE/K,mBAAS,MAHwD,mBAG5GgL,EAH4G,KAGzFC,EAHyF,OAIvEjL,mBAASwK,EAAgBrC,EAASnC,GAAM4E,gBAJ+B,mBAI5GA,EAJ4G,KAI5FM,EAJ4F,OAKzElL,oBAAS,GALgE,mBAK5GmL,EAL4G,KAK7FC,GAL6F,QAM3EpL,mBAAS0H,GANkE,qBAM5GjF,GAN4G,MAM9F4I,GAN8F,SAOzErL,oBAAS,GAPgE,qBAO5GsL,GAP4G,MAO7FC,GAP6F,MA6B7GC,GAAkB,uCAAG,WAAOlL,EAAP,sBAAAC,EAAA,+DAAYa,MAE7ByG,EAFiB,UAEI8C,EAFJ,YAEsBK,GAFtB,SAKnBI,IAAiB,GACjBG,IAAiB,GANE,SAQIjK,IAAMmK,KAAK7M,wBAAuB,CACrD+I,SAAUA,EACVE,gBAAiBA,EACjB6D,SAAU,CAAEtJ,KAAI+E,OAAMc,WAAUD,QACjC,CAAExG,QAAS9B,MAZK,gBAQX+B,EARW,EAQXA,KAMRoC,EAAY,CACRP,MAAO,QACPQ,OAAO,GAAD,OAAK6D,EAAL,aAAkBR,EAAlB,YAA0BQ,EAAW,EAAI,QAAU,UAAnD,KACN3D,SAAU,MAGd8G,EAAY,GACZC,EAAkBP,EAAgBrC,EAASnC,GAAM2E,gBACjDM,EAAqB,MACrBC,EAAkBV,EAAgBrC,EAASnC,GAAM4E,gBACjDQ,IAAiB,GACjBG,IAAiB,GACjBF,GAAgB5J,EAAKiG,KAGrBhH,IAAE,cAAciL,QAAQhL,SA7BL,kDA+BnBG,QAAQC,IAAR,MA/BmB,0DAAH,wDAmCxB,OACI,kBAAC6K,EAAA,EAAD,KACI,kBAACC,EAAA,EAAKC,MAAN,CAAYC,SAAO,GACf,kBAACF,EAAA,EAAD,KACI,kBAACA,EAAA,EAAKxG,MAAN,CAAYE,KAAK,QACb,kBAAC,EAAD,CAAW7B,MAAOiF,KAEtB,kBAACkD,EAAA,EAAKG,QAAN,KACI,kBAACH,EAAA,EAAKxH,OAAN,CAAa4H,GAAG,MACX9E,EACA,IACD,uBACIxD,UAAS,sBAAiBqE,EAAjB,eAA2BE,GACpC3D,MAAO,CAAE2H,SAAU,UAEvB,kBAACzI,EAAA,EAAD,CAAOH,MAAM,QACR2E,EADL,KACiBkE,OAAOnE,GAAKa,cAD7B,KAGA,kBAACrG,EAAD,CAAWC,aAAcA,KACxB,IACD,kBAACwD,EAAD,CAAa7D,GAAIA,EAAI8D,OAAQyE,IAC7B,kBAACT,EAAD,CAAUC,aAAc5B,KAE5B,kBAACsD,EAAA,EAAKO,YAAN,KACI,kBAACC,EAAA,EAAD,KACI,kBAACA,EAAA,EAAKP,MAAN,KACI,kBAACO,EAAA,EAAKC,MAAN,CACIC,QAASC,IACTC,KAAK,SACLC,MAAM,WACNtL,MAAOuG,EACPgF,SAlFP,SAACrM,EAAD,GAAmB,IAAbc,EAAY,EAAZA,MACzBwL,EAAMC,SAASzL,GACfuG,EAAWmF,MAAMF,GAAO,GAAKA,EACnC9B,EAAYnD,IAgFoBtF,QA5EhB,WACC,IAAbsF,GAAgBmD,EAAY,KA4EAvI,OAxEjB,WACE,KAAboF,GAAiBmD,EAAY,MAyEL,kBAACuB,EAAA,EAAKC,MAAN,CACII,MAAM,SACNH,QAASQ,IACT3L,MAAOuJ,EACPqC,QAAS5C,EACT6C,SAAUrC,EACV+B,SAhGT,SAACrM,EAAD,OAAMc,EAAN,EAAMA,MAAN,OAAkB2J,EAAkB3J,MAkG/B,kBAACiL,EAAA,EAAKC,MAAN,CACII,MAAM,YACNH,QAASQ,IACT3L,MAAO4J,EACPgC,QAASzC,EACToC,SArGN,SAACrM,EAAD,OAAMc,EAAN,EAAMA,MAAN,OAAkB6J,EAAqB7J,MAuGrC,kBAACiL,EAAA,EAAKa,OAAN,CACIR,MAAM,oBACNH,QAASW,IACTC,SAAO,EACPF,SACiB,IAAbtF,GACa,KAAbA,GACAwD,EAEJiC,QAAS5B,GACTvJ,QAASqJ,IAVb,iBCxJrB,SAAS+B,GAAiBtN,GACrC,OAAOA,EAAMuN,MAAM3L,KAAI,SAAA6F,GACnB,OAAO,kBAACqD,GAAD,eACHR,IAAK7C,EAAKpF,IACNoF,EAFD,CAGHE,IAAKF,EAAKE,U,wBCCP,SAAS6F,KAAQ,IAAD,EACevN,mBAAS,IADxB,mBACpBwN,EADoB,KACLC,EADK,KAGrB7M,EAAkB,uCAAG,WAAM8M,GAAN,mBAAAnN,EAAA,+EAEIe,IAAMC,IACzBjC,sBAAqB,CACrBqH,OAAQ,CAAE9F,MAAO6M,EAAMC,cAAc,GACrCnM,QAAS9B,MALM,gBAEX+B,EAFW,EAEXA,KAMFmM,EAAcnM,EAAKE,KAAI,SAAAkM,GAAC,OAAI,IAAItG,EAAcsG,MAEpDJ,EAAiBG,GAVE,gDAYnB9M,QAAQC,IAAR,MAZmB,yDAAH,sDAgBxB,OACI,kBAAC,IAAMyC,SAAP,KACI,kBAAC1D,EAAD,CAAWc,mBAAoBA,IAE/B,kBAACyD,GAAA,EAAD,CAAQ4H,GAAG,MAAX,oBACA,kBAAC6B,GAAA,EAAD,OAEEN,EAAcnM,QACZ,kBAACuK,EAAA,EAAD,CAAS1J,aAAW,GAChB,kBAACmC,GAAA,EAAD,CAAQ0J,MAAI,GACR,kBAAC7G,EAAA,EAAD,CAAMC,KAAK,WACX,sGAIZ,kBAACkG,GAAD,CAAkBC,MAAOE,K,iCClC9B,IAAMQ,GAAcC,0BAEdC,GAAe,SAAAnO,GAAU,IAAD,EACSC,mBAAS,IADlB,mBAC1BmO,EAD0B,KACXC,EADW,OAESpO,mBAAS,CAC/CqO,IAAK,GACLlH,KAAM,GACNmH,MAAO,GACPC,KAAM,KANuB,mBAE1BC,EAF0B,KAEXC,EAFW,KAkD3BC,EAAW,uCAAG,WAAMtM,GAAN,mBAAA7B,EAAA,+EAEWe,IAAMC,IAAN,UAAapC,eAAb,YAA6BiD,IAFxC,gBAEJX,EAFI,EAEJA,KACFmM,EAAcnM,EAAK8M,KAAK5M,KAAI,SAAAkM,GAAC,OAAI,IAAItG,EAAcsG,MAEzDO,EAAiBR,GACjBa,EAAiBhN,GAEjBoC,EAAY,CAAEP,MAAO,QAASQ,OAAO,mBAAD,OAAqBrC,EAAK0F,KAA1B,aARxB,kDAUZrG,QAAQC,IAAI,KAAE4N,UACd9K,EAAY,CAAEP,MAAO,MAAOQ,OAAO,UAXvB,0DAAH,sDAkBX8K,EAAW,uCAAG,qCAAArO,EAAA,yDAASsO,EAAT,EAASA,aAAcP,EAAvB,EAAuBA,MAC/BD,EAAQG,EAARH,IADQ,UAINA,EAJM,gCAIK/M,IAAMwN,OAAN,UAAgB3P,eAAhB,YAAgCkP,IAJrC,uBAMW/M,IAAMmK,KAAKtM,eAAc,CAC5C0P,aAAcA,EACdP,MAAOA,EACPS,SAAUZ,IATF,gBAMJ1M,EANI,EAMJA,KAMRuN,IAEAnL,EAAY,CAAEP,MAAO,QAASQ,OAAO,GAAD,OAAKrC,EAAKwN,IAAI,GAAG9H,KAAjB,2BAdxB,kDAgBZrG,QAAQC,IAAI,KAAE4N,UACd9K,EAAY,CAAEP,MAAO,MAAOQ,OAAO,QAAUC,QAAQ,GAAD,OAAK,KAAE4K,SAASlN,QAjBxD,0DAAH,sDAqBXyN,EAAmB,uCAAG,8BAAA3O,EAAA,sEAEZ8N,EAAcG,EAAdH,IAAKlH,EAASqH,EAATrH,KAFO,SAGd7F,IAAMwN,OAAN,UAAgB3P,eAAhB,YAAgCkP,IAHlB,OAKpBW,IAEAnL,EAAY,CAAEP,MAAO,QAASQ,OAAO,GAAD,OAAKqD,EAAL,yBAPhB,gDASpBrG,QAAQC,IAAI,KAAE4N,UACd9K,EAAY,CAAEP,MAAO,MAAOQ,OAAO,UAVf,yDAAH,qDAiBnBqL,EAAY,uCAAG,kCAAA5O,EAAA,yDACT8N,EAAQG,EAARH,IADS,UAKPA,EALO,gCAKI/M,IAAMwN,OAAN,UAAgB3P,eAAhB,YAAgCkP,IALpC,uBAOU/M,IAAMmK,KAAK9M,cAAa,CAAE2O,MAAOa,GAAiB,CAAE3M,QAAS9B,MAPvE,gBAOL+B,EAPK,EAOLA,KAEF2N,EAAS3N,EAAK4N,UAAUC,KAAKF,OAEnCvL,EAAY,CACRP,MAAO,QACPQ,OAAQ,8BACRC,QAAQ,qBAAD,OAAuBqL,KAGlCJ,IAjBa,kDAmBbnL,EAAY,CACRP,MAAO,MACPQ,OAAQ,QACRC,QAAQ,yBAGZiL,IACAlO,QAAQC,IAAI,KAAE4N,UA1BD,0DAAH,qDA8BZK,EAAiB,WACnBZ,EAAiB,IACjBK,EAAiB,CACbJ,IAAK,GACLlH,KAAM,GACNmH,MAAO,GACPC,KAAM,MAId,OAAO,kBAACP,GAAYuB,SAAb,CAAsBnO,MAAO,CAChC+M,gBACAK,gBACAgB,cAzIkB,SAAChI,EAAMK,EAAiBD,EAAWP,GACrD,IAAMoI,EAAO,eAAQjI,EAAR,CAAcK,kBAAiBD,YAAWP,UACjDqI,EAAQ,aAAOvB,GACfwB,EAAc,IAAIpI,EAAckI,GAGhCG,EAAMF,EAASG,WAAU,SAAAjO,GAC3B,OACIA,EAAGQ,KAAOqN,EAAQrN,IAAMR,EAAGiG,kBAAoBA,MAI1C,IAAT+H,EACAF,EAASI,OAAOF,EAAK,EAAGD,GAExBD,EAASK,KAAKJ,GAIlB,IAAMK,ECtCC,SAAsB1C,GACjC,IAAM2C,EAAQ,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,QAAS,YAAa,QAM9D,SAASC,EAAS1I,GACd,IAAI2I,EAAa,KAEbC,EAAe,KACfC,EAAW,KAEf,IAEID,EAAe5I,EAAKY,OAAO/G,OAC3BgP,EAAW7I,EACb,MAAOlH,GACL,IAEI8P,EAAe5I,EAAKrC,WAAW,GAAGiD,OAAO/G,OACzCgP,EAAW7I,EAAKrC,WAAW,GAC7B,MAAO7E,GACL8P,EAAe5I,EAAKY,OAAO/G,OAC3BgP,EAAW7I,GAuBnB,OAlBqB,IAAjB4I,EACAD,EAAa,YACW,IAAjBC,EACPD,EAAaE,EAASjI,OAAO,GACtBgI,EAAe,IACtBD,EAAa,SAIE,cAAfA,GACIE,EAAShI,UAAUS,SAAS,UAC5BqH,EAAa,QAKhBA,IAAcA,EAAa,QAEzBA,EAWX,OARkB7C,EAAMgD,MAAK,SAAC/P,EAAGgQ,GAC7B,OAAOhQ,EAAE4G,KAAKqJ,cAAcD,EAAEpJ,SAGTmJ,MAAK,SAAC/P,EAAGgQ,GAC9B,OAAON,EAAMQ,QAAQP,EAAS3P,IAAM0P,EAAMQ,QAAQP,EAASK,ODjBvCG,CAAahB,GAEjCtB,EAAiB4B,IAqHjBW,mBA/GuB,SAACvO,EAAIyF,GAC5B,IAAM+I,EAAW1P,IAAE2P,OAAF,aAAa1C,IAAgB,SAAAvM,GAC1C,OAAOA,EAAGQ,KAAOA,GAAMR,EAAGiG,kBAAoBA,KAGlDuG,EAAiBwC,IA2GjBlC,cACAE,cACAM,sBACAC,eACAH,mBAECjP,EAAM+Q,WExJf,SAASC,GAAuBrJ,EAAKtF,GACjC,IAAM4O,EAAwB9P,IAAE+P,OAAOvJ,GAAK,SAAAwJ,GAAC,OAAIA,EAAI,KAErD,OAAOC,OAAOC,QAAQJ,GAAuBrP,KAAI,SAAA0P,GAAM,IAAD,cACnBA,EADmB,GAC3CC,EAD2C,KAC1BC,EAD0B,KAGlD,MAAO,CACHjH,KAAK,GAAD,OAAKgH,EAAgBE,MAAM,KAAKC,KAAK,OAArC,mBAAsDF,GAC1DnQ,MAAOkQ,EACPjH,IAAI,GAAD,OAAKjI,GAAL,OAAUkP,OAUzB,SAASI,GAA4BhK,GACjC,IAAMsJ,EAAwB9P,IAAE+P,OAAOvJ,GAAK,SAAAwJ,GAAC,OAAIA,EAAI,KAE/CS,EAAazQ,IAAE0Q,KAAKZ,GAAuBrP,KAAI,SAAAkQ,GAAC,OAAIA,EAAEL,MAAM,KAAK,MAEvE,OADqBtQ,IAAE4Q,KAAKH,GACRlB,QAAQ,YAAc,EAAI,UAAY,OAG/C,SAASsB,GAAehS,GAAQ,IAAD,EACoBC,mBAAS,IAD7B,mBACnCgS,EADmC,KACVC,EADU,OAE0BjS,mBAAS,GAFnC,mBAEnCkS,EAFmC,KAEPC,EAFO,OAGEnS,mBAAS,GAHX,mBAGnCoS,EAHmC,KAGnBC,EAHmB,OAIhBrS,mBAAS,GAJO,mBAInCqH,EAJmC,KAI5BiL,EAJ4B,OAKEtS,mBAAS0R,GAA4B3R,EAAM2H,MAL7C,mBAKnCiD,EALmC,KAKnBI,EALmB,OAMM/K,mBAAS+Q,GAAuBhR,EAAM2H,IAAK3H,EAAMqC,KANvD,mBAMnCmQ,EANmC,KAMjBC,EANiB,KAOlChD,EAAkBiD,qBAAWzE,IAA7BwB,cA2DR,OAAO,kBAAC5D,EAAA,EAAD,KACH,kBAACC,EAAA,EAAKC,MAAN,CAAYC,SAAO,GACf,kBAACF,EAAA,EAAD,KACI,kBAACA,EAAA,EAAKxG,MAAN,CAAYE,KAAK,QACb,kBAAC,EAAD,CACIL,WAAYnF,EAAMmF,WAClBC,WAAYpF,EAAMoF,cAG1B,kBAAC0G,EAAA,EAAKG,QAAN,KACI,kBAACH,EAAA,EAAKxH,OAAN,CAAa4H,GAAG,MACXlM,EAAMoH,KAAM,IACb,uBACIxD,UAAS,sBAAiB5D,EAAMiI,IAAvB,eAAiCjI,EAAMmI,QAChD3D,MAAO,CAAE2H,SAAU,UAEvB,kBAACzI,EAAA,EAAD,CAAOH,MAAM,QACRvD,EAAMkI,SADX,KACuBkE,OAAOpM,EAAMiI,KAAKa,cADzC,KAGA,kBAACrG,EAAD,CAAWC,aAAc1C,EAAM2H,MAC9B,IACD,kBAACzB,EAAD,CAAa7D,GAAIrC,EAAMqC,GAAI8D,OAAQyE,IACnC,kBAACT,EAAD,CAAUC,aAAcpK,EAAMwI,QAElC,kBAACsD,EAAA,EAAKO,YAAN,KACI,kBAACC,EAAA,EAAD,KACI,kBAACA,EAAA,EAAKP,MAAN,KACI,kBAACO,EAAA,EAAKC,MAAN,CACI3I,UAAU,mBACV4I,QAASmG,KACTC,WAAS,EACTzQ,YAAY,mBACZ8K,QAASuF,EACTnR,MAAO4Q,EACPtF,MAAM,0BACNC,SA7EM,SAACrM,EAAD,GAAmB,IAAbc,EAAY,EAAZA,MACxC2J,EAAkB3J,EAAMoQ,MAAM,KAAK,IACnCS,EAA2B7Q,GAC3B+Q,EAA8BpS,EAAM2H,IAAItG,IACxCiR,EAAkB,MA2EM,kBAAChG,EAAA,EAAKC,MAAN,CACI3I,UAAU,WACV4I,QAASC,IACTC,KAAK,SACLC,MAAM,mBACNtL,MAAOgR,EACPzF,SApGH,SAACrM,EAAD,GAAmB,IAAbc,EAAY,EAAZA,MAC/B,GAAc,KAAVA,EAAJ,CAKA,IAAIwR,EAAS/F,SAASzL,GAElBwR,EAASV,IAA4BU,EAASV,IAE9CpF,MAAO8F,IAAYA,EAAS,KAAGA,EAAS,GAE5CP,EAAkBO,QAVdP,EAAkB,KAmGMpF,UAAWiF,EACX7P,QAAS,SAAA/B,GAAC,OAAIA,EAAEgC,OAAO3B,YAE3B,kBAAC0L,EAAA,EAAKC,MAAN,CACI3I,UAAU,aACV4I,QAASC,IACTC,KAAK,SACLC,MAAM,QACNtL,MAAOiG,EACPsF,SAxFN,SAACrM,EAAD,GAAmB,IAAbc,EAAY,EAAZA,MAC5B,GAAc,KAAVA,EAAJ,CAKA,IAAIwR,EAASC,OAAOzR,IAEhB0L,MAAO8F,IAAYA,EAAS,KAAKA,EAAS,GAE9CN,EAASM,QARLN,EAAS,KAuFerF,UAAWiF,EACX7P,QAAS,SAAA/B,GAAC,OAAIA,EAAEgC,OAAO3B,UACvBmS,KAAM,KAEV,kBAACzG,EAAA,EAAKa,OAAN,CACIvJ,UAAU,cACV+I,MAAM,eACNH,QAASW,IACTC,SAAO,EACPC,QArFR,WAAO,IACnB1F,EAAY3H,EAAZ2H,IAAKtF,EAAOrC,EAAPqC,GAEboN,EAAc,eACLzP,GACLiS,EACAI,EACA/K,GAIJ4K,EAA2B,IAC3BE,EAA8B,GAC9BE,EAAkB,GAClBC,EAAS,GACTE,EAAoBzB,GAAuBrJ,EAAKtF,IAChD2I,EAAkB2G,GAA4BhK,IAG9ChH,IAAE,cAAciL,QAAQhL,UAmEIsM,UAAWmF,GANf,eCnKjB,SAASW,GAAT,GAA0C,IAAhBrF,EAAe,EAAfA,KAAMJ,EAAS,EAATA,MAS3C,OAAqB,IAAjBA,EAAMjM,OACC,kBAACuK,EAAA,EAAD,CAAS1J,aAAW,GACvB,kBAACmC,GAAA,EAAD,CAAQ0J,MAAI,GACR,kBAAC7G,EAAA,EAAD,CAAMC,KAAK,WACX,8BAVJuG,IAASJ,EAAMjM,OACR,+CAAoB,4BAAKqM,IAE7B,8DAYJJ,EAAM3L,KAAI,SAAA6F,GACb,OAAO,kBAACuK,GAAD,eACH1H,IAAK7C,EAAKpF,IACNoF,EAFD,CAGHE,IAAKF,EAAKE,U,cClBPsL,GAND,SAAC,GAAa,IAAXC,EAAU,EAAVA,IACP5L,EAAQwL,OAAOI,GAAK3L,QAAQ,GAClC,OAAIwF,MAAMzF,GAAe,uCAClB,kCAAQA,ICAJ,SAAS6L,GAAT,GAA6F,IAArEzK,EAAoE,EAApEA,aAAcT,EAAsD,EAAtDA,IAAKH,EAAiD,EAAjDA,gBAAiBD,EAAgC,EAAhCA,UAAWP,EAAqB,EAArBA,MAAOa,EAAc,EAAdA,OAAQ9F,EAAM,EAANA,GAAM,EACzEpC,oBAAS,GADgE,mBAChG6E,EADgG,KACvFsO,EADuF,KAG/FxC,EAAuB8B,qBAAWzE,IAAlC2C,mBAER,OACI,kBAACyC,GAAA,EAAMC,IAAP,KACI,kBAACD,GAAA,EAAME,KAAP,KAAY,wBAAIC,UAAU,mBAAmB9K,IAC7C,kBAAC2K,GAAA,EAAME,KAAP,CAAYE,YAAU,GAClB,uBACI7P,UAAS,sBAAiBqE,EAAjB,eAA2BE,GACpC3D,MAAO,CAAE2H,SAAU,UAEvB,kBAACzI,EAAA,EAAD,CAAOH,MAAM,QAAQ0E,EAAIa,gBAE7B,kBAACuK,GAAA,EAAME,KAAP,KACI,yBAAK3P,UAAU,mBACViE,EADL,OACmB,kBAAC,GAAD,CAAOqL,IAAK5L,IAD/B,MAC4CQ,IAGhD,kBAACuL,GAAA,EAAME,KAAP,KACI,kBAACpG,EAAA,EAAD,CACIa,KAAK,SACL0F,UAAQ,EACRrG,QAAS,kBAAMuD,EAAmBvO,EAAIyF,IACtCpC,YAAa,kBAAM0N,GAAW,IAC9BzN,WAAY,kBAAMyN,GAAW,IAC7B7P,MAAOuB,EAAU,MAAQ,SC7B7C,IAWe6O,GAXQ,SAAC,GAAkB,IAAhB3E,EAAe,EAAfA,SAChB4E,EAAQ5E,EAAS1N,OACjB0N,EAAS6E,QACP,SAACC,EAAKjH,GAAN,OAAciH,EAAMhH,SAASD,EAAIhF,WAAaiL,OAAOjG,EAAIvF,SACzD,GAEF,EAEN,OAAO,yBAAKjF,GAAG,oBAAmB,kBAAC,GAAD,CAAO6Q,IAAKU,M,UCPnC,SAASG,KAAc,IAAD,EACL9T,mBAAS,CAAEiC,SAAS,EAAOgL,UAAU,IADhC,mBAC1B8G,EAD0B,KAClBC,EADkB,OAEChU,oBAAS,GAFV,mBAE1BiU,EAF0B,KAEfC,EAFe,KAGzB/E,EAAiBsD,qBAAWzE,IAA5BmB,aAEFgF,EAAkB,uCAAG,sBAAA5T,EAAA,6DACvByT,EAAU,CAAE/R,SAAS,EAAMgL,UAAU,IADd,SAEjBkC,IAFiB,2CAAH,qDAKlBiF,EAAe,kBAAClH,EAAA,EAAD,CAAQmH,QAAQ,QAAQlH,SAAO,EAChDC,QAAS,kBAAM8G,GAAa,KADX,iBAKrB,OAAO,kBAACI,GAAA,EAAD,CACHC,OAAK,EACLC,KAAMP,EACNQ,QAASL,GACT,kBAACE,GAAA,EAAMtI,QAAP,KACI,kBAAC3H,GAAA,EAAD,CAAQqQ,UAAQ,EAACzI,GAAG,MAApB,uBAGA,2MAOJ,kBAACqI,GAAA,EAAMK,QAAP,KACI,kBAACzH,EAAA,EAAD,CACIqH,OAAK,EACLjR,MAAM,MACNoR,UAAQ,EACRtH,QAAS,kBAAM8G,GAAa,KAC5B,kBAAChN,EAAA,EAAD,CAAMC,KAAK,WALf,OAOA,kBAAC+F,EAAA,EAAD,CACI5J,MAAM,QACNoR,UAAQ,EACRtH,QAAS+G,EACTlS,QAAS8R,EAAO9R,QAChBgL,SAAU8G,EAAO9G,UACjB,kBAAC/F,EAAA,EAAD,CAAMC,KAAK,cANf,UCpCG,SAASyN,GAAT,GAAyC,IAAb7F,EAAY,EAAZA,SACvC,OAAwB,IAApBA,EAAS1N,OACF,kBAACuK,EAAA,EAAD,CAAS1J,aAAW,GACvB,kBAACmC,GAAA,EAAD,CAAQ0J,MAAI,GACR,kBAAC7G,EAAA,EAAD,CAAMC,KAAK,SADf,4CAOD,kBAAC,IAAM3D,SAAP,KACH,kBAAC4P,GAAA,EAAD,KACI,kBAACA,GAAA,EAAMyB,KAAP,KACK9F,EAASpN,KAAI,SAAA6F,GACV,OAAO,kBAAC0L,GAAD,iBACC1L,EADD,CAEH6C,IAAG,UAAK7C,EAAKpF,IAAV,OAAeoF,EAAKK,iBAApB,OAAsCL,EAAKI,mBAM9D,kBAACgE,EAAA,EAAD,CAASkJ,UAAQ,GACb,kBAACzQ,GAAA,EAAD,CAAQgQ,QAAQ,QACZ,kBAAChQ,GAAA,EAAD,CAAQ0Q,KAAG,GAAX,YACA,kBAAC,GAAD,CAAgBhG,SAAUA,KAE9B,kBAAC+E,GAAD,Q,WCrBSkB,G,2MACjBpQ,MAAQ,CAAEqQ,cAAc,G,EAExBC,MAAQ,WACJ,EAAKnQ,SAAS,CAAEkQ,cAAc,IAAQ,WAClCE,OAAOD,QACP,EAAKnQ,SAAS,CAAEkQ,cAAc,Q,wEAI5B,IACE9G,EAAkBlJ,KAAKlF,MAAvBoO,cACA8G,EAAiBhQ,KAAKL,MAAtBqQ,aAER,OAAI9G,EAAc9M,OAAS,EAEnB,kBAAC,IAAMmC,SAAP,KACI,kBAAC0J,EAAA,EAAD,CAAQ3I,MAAO,CAAE6Q,QAAS,eAAgBC,MAAO,SAAWjI,QAASnI,KAAKiQ,MAAOnH,MAAI,GACjF,kBAAC7G,EAAA,EAAD,CAAMC,KAAK,WAGf,yBAAK/E,GAAG,UAAUmC,MAAO,CAAE6Q,QAASH,EAAe,eAAiB,SAChE,4BAAK9G,EAAcxM,KAAI,SAAAkM,GAAC,OA5BpC,SAAC,GAAuE,IAArEzL,EAAoE,EAApEA,GAAIqG,EAAgE,EAAhEA,aAAcb,EAAkD,EAAlDA,UAAWC,EAAuC,EAAvCA,gBAAiBI,EAAsB,EAAtBA,SAAUZ,EAAY,EAAZA,MACnE,OAAO,wBAAIgD,IAAKjI,GACZ,2BAAIqG,EAAJ,OAAsBb,EAAtB,MAAoCC,EAApC,MAAwDI,EAAxD,MAAoE,kBAAC,GAAD,CAAOgL,IAAK5L,MA0BpCgM,CAAIxF,OAChC,8BAAM,wCAAa,kBAAC,GAAD,CAAgBkB,SAAUZ,QAKlD,S,GA5BoBvI,IAAMC,W,sZCN7C,IAAMiI,GAAU/H,IAAOuP,IAAV,MAKPC,GAAcxP,IAAOuP,IAAV,MAKXE,GAAYzP,IAAOmL,EAAV,MAMA,SAASuE,GAAT,GAA+F,IAAtE/G,EAAqE,EAArEA,YAAaQ,EAAwD,EAAxDA,oBAAqBwG,EAAmC,EAAnCA,eAAgB9G,EAAmB,EAAnBA,YAAaxM,EAAM,EAANA,GAAM,EAC/EpC,mBAAS,IADsE,mBAClG2V,EADkG,KAC3FC,EAD2F,OAE7E5V,mBAAS,IAFoE,mBAElGoP,EAFkG,KAE1FyG,EAF0F,OAGvE7V,oBAAS,GAH8D,mBAGlG8V,EAHkG,KAGvFC,EAHuF,OAIjE/V,mBAAS,IAJwD,mBAIlG6O,EAJkG,KAIpFmH,EAJoF,OAK/EhW,mBAAS,IALsE,mBAKlGsO,EALkG,KAK3F2H,EAL2F,OAMzEjW,oBAAS,GANgE,mBAMlGiN,EANkG,KAMxFiJ,EANwF,OAOrElW,mBAAS,CACzCmW,YAAY,EACZC,YAAY,EACZC,WAAW,IAV0F,mBAOlGC,EAPkG,KAOtFC,EAPsF,KAanGC,EAAQ,uCAAG,8BAAAjW,EAAA,sEACUe,IAAMC,IAAIpC,gBADpB,gBACLsC,EADK,EACLA,KACRmU,EAASnU,GAFI,2CAAH,qDAKRgV,EAAc,WAChBT,EAAgB,IAChBC,EAAS,IACTJ,EAAU,KAIdpP,qBAAU,WAAQ+P,MAAe,CAACpU,IAElC,IAAMgS,EAAe,kBAAClH,EAAA,EAAD,CACjB9K,GAAG,mBACHmC,MAAO,CAAE6Q,QAAS,eAAgBC,MAAO,SACzCjI,QAAS,kBAAM2I,GAAa,IAC5BhI,KAAK,wBAEH2I,EAAiB,uCAAG,sBAAAnW,EAAA,6DACtB2V,GAAY,GACZK,EAAc,CAAEJ,YAAY,IAFN,SAGhBvH,EAAY,CAAEC,eAAcP,UAHZ,cAItByH,GAAa,GAJS,SAKhBS,IALgB,OAMtBC,IACAP,GAAY,GACZK,EAAc,CAAEJ,YAAY,IARN,4CAAH,qDAWjBQ,EAAiB,uCAAG,sBAAApW,EAAA,6DACtB2V,GAAY,GACZK,EAAc,CAAEH,YAAY,IAFN,SAGhB1H,EAAYU,GAHI,OAItB2G,GAAa,GACbU,IACAP,GAAY,GACZK,EAAc,CAAEH,YAAY,IAPN,2CAAH,qDAUjBQ,EAAgB,uCAAG,sBAAArW,EAAA,6DACrB2V,GAAY,GACZK,EAAc,CAAEF,WAAW,IAFN,SAGfnH,IAHe,OAIrB6G,GAAa,GACbU,IACAP,GAAY,GACZK,EAAc,CAAEF,WAAW,IAPN,2CAAH,qDAUtB,OAAO,kBAAC,IAAM7S,SAAP,KACH,kBAAC8Q,GAAA,EAAD,CAAOG,QAASL,EAAcI,KAAMsB,GAChC,kBAACxB,GAAA,EAAMjQ,OAAP,mBACA,kBAACiQ,GAAA,EAAMtI,QAAP,KACI,kBAAC6K,GAAA,EAAD,CAAMC,QAAS,EAAGC,WAAS,EAACC,QAAQ,QAC/BtB,EAAiB,GAAK,kBAAC,IAAMlS,SAAP,KACnB,kBAACqT,GAAA,EAAKI,OAAN,CAAaC,MAAM,KACf,4CACA,kBAAC7K,EAAA,EAAD,KACI,kBAACkJ,GAAD,KACI,kBAAClJ,EAAA,EAAKG,MAAN,CACIpK,GAAG,oBACHsK,MAAM,gBACNxK,YAAY,0BACZd,MAAOyN,EACPlC,SAAU,SAACrM,EAAD,OAAMc,EAAN,EAAMA,MAAN,OAAkB4U,EAAgB5U,EAAM+V,UAAU,EAAG,SAEvE,kBAAC5B,GAAD,KACI,kBAACC,GAAD,KAAY3G,EAAaxN,OAAzB,QAEJ,kBAACkU,GAAD,KACI,kBAAClJ,EAAA,EAAK+K,SAAN,CACI1K,MAAM,QACNxK,YAAY,gCACZd,MAAOkN,EACP3B,SAAU,SAACrM,EAAD,OAAMc,EAAN,EAAMA,MAAN,OAAkB6U,EAAS7U,EAAM+V,UAAU,EAAG,UAEhE,kBAAC5B,GAAD,KACI,kBAACC,GAAD,KAAYlH,EAAMjN,OAAlB,SAEJ,kBAACgL,EAAA,EAAKa,OAAN,CACI9K,GAAG,sBACH+K,SAAO,EAACF,SAAUA,IAAa4B,EAC/B5M,QAASqU,EAAWH,WACpB/I,QAASsJ,GAJb,kBASR,kBAACG,GAAA,EAAKI,OAAN,CAAaC,MAAM,KAAI,kBAAC,GAAD,QAE3B,kBAACL,GAAA,EAAKI,OAAN,CAAaC,MAAM,KACf,4CACCvB,EAAMtU,OAAS,GAAK,kBAAC,IAAMmC,SAAP,KACjB,kBAAC6I,EAAA,EAAD,KACI,kBAACA,EAAA,EAAKU,OAAN,CACIsK,OAAK,EACL3K,MAAM,6BACNM,QAAS2I,EAAMhU,KAAI,SAAA2V,GACf,MAAO,CACHjN,IAAKiN,EAAEjJ,IACP/D,KAAMgN,EAAEnQ,KACR/F,MAAOkW,EAAEjJ,QAGjBnM,YAAY,gBACZyK,SAAU,SAACrM,EAAD,OAAMc,EAAN,EAAMA,MAAN,OAAkByU,EAAUzU,MAE1C,kBAACiL,EAAA,EAAKa,OAAN,CAAaC,SAAO,EAACF,SAAUA,IAAamC,EAAQnN,QAASqU,EAAWF,WAAYhJ,QAASuJ,GAA7F,kBAGU,IAAjBhB,EAAMtU,QAAgB,kBAAC8C,EAAA,EAAD,CAASoT,MAAI,GAChC,kBAACpT,EAAA,EAAQE,OAAT,iBADmB,2BAOnC,kBAACiQ,GAAA,EAAMK,QAAP,OACOvS,GAAM,kBAAC8K,EAAA,EAAD,CAAQ5J,MAAM,MAAM2J,SAAUA,EAAUhL,QAASqU,EAAWD,UAAWjJ,QAASwJ,GAAhF,uBACT,kBAAC1J,EAAA,EAAD,CAAQC,SAAO,EAACF,SAAUA,EAAUG,QAAS,kBAAM2I,GAAa,KAAhE,aC9ID,SAASzG,KAAQ,IAAD,EAQvBmD,qBAAWzE,IANXG,EAFuB,EAEvBA,cACAK,EAHuB,EAGvBA,cACAE,EAJuB,EAIvBA,YACAQ,EALuB,EAKvBA,oBACAN,EANuB,EAMvBA,YANuB,KAOvBI,eAGsChP,mBAAS,KAVxB,mBAUpBwN,EAVoB,KAULC,EAVK,OAWSzN,mBAAS,IAXlB,mBAWpBwX,EAXoB,KAWRC,EAXQ,KAmBrBpX,EAAkB,uCAAG,WAAMqN,GAAN,mBAAAnN,EAAA,+EAEIe,IAAMC,IAAIjC,sBAAqB,CAClDqH,OAAQ,CAAE9F,MAAO6M,EAAMC,cAAc,GACrCnM,QAAS9B,MAJM,gBAEX+B,EAFW,EAEXA,KAKFmM,EAAcnM,EAAKE,KAAI,SAAAkM,GAAC,OAAI,IAAItG,EAAcsG,MAEpDJ,EAAiBG,GACjB6J,EAAc/J,GAEM,IAAhBjM,EAAKJ,QAAgBX,IAAE,cAAciL,QAAQhL,SAZ9B,kDAcnBG,QAAQC,IAAI,KAAE4N,UAdK,0DAAH,sDAkBxB,OACI,kBAAC,IAAMnL,SAAP,KACI,kBAACqT,GAAA,EAAKxD,IAAN,CAAU9O,MAAO,CAAE6Q,QAAS,OAAQsC,WAAY,WAC5C,kBAAC5X,EAAD,CAAWc,mBAAoBP,KAEnC,6BACA,kBAACwW,GAAA,EAAD,CAAME,WAAW,GACb,kBAACF,GAAA,EAAKxD,IAAN,KACI,kBAACwD,GAAA,EAAKI,OAAN,CAAaC,MAAM,MACf,kBAAC7S,GAAA,EAAD,CAAQ4H,GAAG,KAAK1H,MAAO,CAAE6Q,QAAS,iBAAlC,aAEA,kBAACtH,GAAA,EAAD,MAEA,kBAACiF,GAAD,CAAgBrF,KAAM8J,EAAYlK,MAAOE,KAG7C,kBAACqJ,GAAA,EAAKI,OAAN,CAAaC,MAAM,KACf,kBAAC7S,GAAA,EAAD,CAAQ4H,GAAG,KAAK1H,MAAO,CAAE6Q,QAAS,gBAAkBhT,GAAG,eAC3B,KAAvBoM,EAAcrH,KAAc,aAA5B,UAA8CqH,EAAcrH,KAA5D,aAGL,kBAACsO,GAAD,CACI/G,YAAaA,EACbE,YAAaA,EACb8G,eAAgBvH,EAAc9M,OAC9B6N,oBAAqBA,EACrB9M,GAAIoM,EAAcH,MAEtB,kBAAC,GAAD,CAAWF,cAAeA,IAE1B,kBAACL,GAAA,EAAD,MAEA,kBAAC8G,GAAD,CAAkB7F,SAAUZ,Q,yBC9DrCwJ,GAjBO,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,SACfC,EADwC,EAAfC,SACDlE,QAC1B,SAACmE,EAAKC,GAAN,OAAeD,EAAMC,EAAKpQ,YAC1B,GAGJ,OACI,kBAACwL,GAAA,EAAMC,IAAP,KACI,kBAACD,GAAA,EAAME,KAAP,KAAasE,EAASxI,QACtB,kBAACgE,GAAA,EAAME,KAAP,KACK2E,KAAOL,EAASM,YAAYC,OAAO,wBAExC,kBAAC/E,GAAA,EAAME,KAAP,KAAauE,KCYVO,GAxBG,SAAC,GAAc,IAAZ7J,EAAW,EAAXA,KACjB,OACI,kBAAC6E,GAAA,EAAD,CAAOiF,QAAM,EAACC,aAAW,EAAClU,SAAO,GAC7B,kBAACgP,GAAA,EAAM/O,OAAP,KACI,kBAAC+O,GAAA,EAAMC,IAAP,KACI,kBAACD,GAAA,EAAMmF,WAAP,gBACA,kBAACnF,GAAA,EAAMmF,WAAP,qBACA,kBAACnF,GAAA,EAAMmF,WAAP,wBAIR,kBAACnF,GAAA,EAAMyB,KAAP,KACKtG,EAAK5M,KAAI,gBAAG0N,EAAH,EAAGA,UAAWmJ,EAAd,EAAcA,UAAWnK,EAAzB,EAAyBA,IAAzB,OACN,kBAAC,GAAD,CACIuJ,SAAUvI,EACVyI,SAAUU,EACVnO,IAAKgE,UCyBdoK,G,2MApCX7T,MAAQ,CAAE8T,UAAW,GAAIC,SAAU,I,EAEnC/X,mB,uCAAqB,WAAM+X,GAAN,iBAAApY,EAAA,sEACMe,IAAMC,IAAIxC,qBAAoB,CACjD4H,OAAQ,CAAEgS,SAAUA,GACpBnX,QAAS9B,MAHI,gBACT+B,EADS,EACTA,KAKR,EAAKsD,SAAS,CAAE2T,UAAWjX,EAAMkX,SAAUA,IAN1B,2C,8HASX,IAAD,EAC2B1T,KAAKL,MAA7B8T,EADH,EACGA,UAAWC,EADd,EACcA,SAEnB,OACI,6BACI,kBAAC7Y,EAAD,CAAWc,mBAAoBqE,KAAKrE,qBAEpC,kBAACyD,GAAA,EAAD,CAAQ4H,GAAG,MAAX,gBACA,kBAAC6B,GAAA,EAAD,MAEA,8BACI,4BACkB,KAAb6K,GACG,4BACKD,EAAUrX,OADf,gBACoCsX,KAKhD,kBAAC,GAAD,CAAWpK,KAAMmK,S,GA/BP7S,a,q5BCH1B,IAAM+S,GAAU7S,IAAOuP,IAAV,MAKPuD,GAAmB9S,IAAOuP,IAAV,MAUhBwD,GAAe/S,IAAOuP,IAAV,MAOZyD,GAAehT,IAAOuP,IAAV,MAQH,SAAS0D,GAAT,GAAmC,IAATxR,EAAQ,EAARA,KAC7BpF,EAAkBoF,EAAlBpF,GAAIuG,EAAcnB,EAAdmB,UADiC,cAEfnB,EAAKyR,UAFU,GAEtCvW,EAFsC,KAE7BC,EAF6B,KAIvCuW,EACF,kBAACJ,GAAD,KACI,kBAACrV,EAAA,EAAD,CAAOH,MAAM,OAAOI,OAAK,GAAzB,OAA8B,kBAACD,EAAA,EAAMG,OAAP,KAAelB,IAC7C,kBAACuD,EAAD,CAAa7D,GAAIA,EAAI8D,OAAO,UAI9BiT,EACF,kBAACL,GAAD,KACI,kBAACrV,EAAA,EAAD,CAAOH,MAAM,OAAOI,OAAK,GAAzB,UAAiC,kBAACD,EAAA,EAAMG,OAAP,KAAejB,IAChD,kBAACsD,EAAD,CAAa7D,GAAIA,KAIzB,OAAO,kBAAC,IAAMoB,SAAP,KACH,kBAACoV,GAAD,KACI,kBAACG,GAAD,KACI,kBAAC1T,EAAA,EAAD,CAAOC,IAAKqD,EAAWpD,KAAK,SAAShB,MAAO,CAAE6U,aAAc,WAEhE,kBAACP,GAAD,KACKnW,EAAU,EAAIwW,EAAc,KAC5BvW,EAAa,EAAIwW,EAAiB,QCxDnD,IAAME,GAAY,CACdjE,QAAS,OACTkE,SAAU,OACVC,aAAc,eACdC,OAAQ,QAGG,SAASC,GAAT,GAAoC,IAAVnM,EAAS,EAATA,MACrC,OAAO,kBAACuJ,GAAA,EAAD,CAAMtS,MAAO8U,IACf/L,EAAM3L,KAAI,SAAAkM,GAAC,OACR,kBAACmL,GAAD,CACI3O,IAAKwD,EAAEzL,GACPoF,KAAMqG,QCFtB,IAAM6L,GAAe,CACjBlM,cAAe,GACfW,cAAe,GACfqJ,WAAY,IAGKmC,G,2MACjB/U,MAAQ8U,G,EAERrZ,mB,uCAAqB,WAAMqN,GAAN,mBAAAnN,EAAA,+EAEUe,IAAMC,IAAIjC,sBAAqB,CAClDqH,OAAQ,CAAE9F,MAAO6M,EAAMC,cAAc,KAH5B,gBAELlM,EAFK,EAELA,KAIFmM,EAAcnM,EAAKE,KAAI,SAAAkM,GAAC,OAAI,IAAItG,EAAcsG,MAEpD,EAAK9I,SAAS,CAAEyI,cAAeI,EAAa4J,WAAY9J,IAR3C,gDAUb5M,QAAQC,IAAR,MAVa,yD,8HAcX,IAAD,EAIDkE,KAAKL,MAFL4I,EAFC,EAEDA,cACAgK,EAHC,EAGDA,WAWJ,OACI,kBAAC,IAAMhU,SAAP,KACI,kBAACqT,GAAA,EAAKxD,IAAN,CAAU9O,MAAO,CAAE6Q,QAAS,OAAQsC,WAAY,WAC5C,kBAAC5X,EAAD,CAAWc,mBAAoBqE,KAAK5E,sBAExC,6BACA,kBAACwW,GAAA,EAAD,CAAME,WAAW,GACb,kBAACF,GAAA,EAAKI,OAAN,KACI,kBAAC5S,GAAA,EAAD,CAAQ4H,GAAG,MAAX,mBAEI,kBAAC5H,GAAA,EAAOuV,UAAR,KACI,iHAIR,kBAAC9L,GAAA,EAAD,OAEEN,EAAcnM,QACZ,kBAACuK,EAAA,EAAD,CAAS1J,aAAW,GAChB,kBAACmC,GAAA,EAAD,CAAQ0J,MAAI,GACR,kBAAC7G,EAAA,EAAD,CAAMC,KAAK,WACX,8BA3BpBqQ,IAAehK,EAAcnM,OACtB,2BAAG,4BAAKmW,GAAR,oBAEJ,mDA4BK,kBAACiC,GAAD,CAAgBnM,MAAOE,W,GAxDF5H,IAAMC,W,SCd7CgU,GAAwB,CAC1B,CAAExP,IAAK,KAAMjJ,MAAO,GAAIkJ,KAAM,QAC9B,CAAED,IAAK,KAAMjJ,MAAO,WAAYkJ,KAAM,YACtC,CAAED,IAAK,KAAMjJ,MAAO,SAAUkJ,KAAM,UACpC,CAAED,IAAK,KAAMjJ,MAAO,WAAYkJ,KAAM,YACtC,CAAED,IAAK,KAAMjJ,MAAO,UAAWkJ,KAAM,WACrC,CAAED,IAAK,KAAMjJ,MAAO,SAAUkJ,KAAM,UACpC,CAAED,IAAK,KAAMjJ,MAAO,SAAUkJ,KAAM,UACpC,CAAED,IAAK,KAAMjJ,MAAO,SAAUkJ,KAAM,UACpC,CAAED,IAAK,KAAMjJ,MAAO,UAAWkJ,KAAM,WACrC,CAAED,IAAK,KAAMjJ,MAAO,QAASkJ,KAAM,SACnC,CAAED,IAAK,KAAMjJ,MAAO,YAAakJ,KAAM,aACvC,CAAED,IAAK,KAAMjJ,MAAO,QAASkJ,KAAM,SACnC,CAAED,IAAK,KAAMjJ,MAAO,OAAQkJ,KAAM,QAClC,CAAED,IAAK,KAAMjJ,MAAO,YAAakJ,KAAM,cAGrCwP,GAA6B,CAC/B,CAAEzP,IAAK,MAAOjJ,MAAO,MAAOkJ,KAAM,MAClC,CAAED,IAAK,MAAOjJ,MAAO,MAAOkJ,KAAM,MAClC,CAAED,IAAK,MAAOjJ,MAAO,KAAMkJ,KAAM,KACjC,CAAED,IAAK,MAAOjJ,MAAO,KAAMkJ,KAAM,MAG/ByP,GAAwB,CAC1B,CAAE1P,IAAK,eAAgBjJ,MAAO,GAAIkJ,KAAM,QACxC,CAAED,IAAK,UAAWjJ,MAAO,UAAWkJ,KAAM,WAC1C,CAAED,IAAK,OAAQjJ,MAAO,OAAQkJ,KAAM,SAGlC0P,GAAwB,CAC1B,CAAE3P,IAAK,YAAajJ,MAAO,QAASkJ,KAAM,SAC1C,CAAED,IAAK,YAAajJ,MAAO,OAAQkJ,KAAM,cAGvC2P,GAAiC,CACnC,CAAE5P,IAAK,cAAejJ,MAAO,EAAGkJ,KAAM,aACtC,CAAED,IAAK,aAAcjJ,OAAQ,EAAGkJ,KAAM,eAGpC4P,GAA6B,CAC/B,CAAE7P,IAAK,IAAKjJ,MAAO,IAAKkJ,KAAM,SAC9B,CAAED,IAAK,IAAKjJ,MAAO,IAAKkJ,KAAM,QAC9B,CAAED,IAAK,IAAKjJ,MAAO,IAAKkJ,KAAM,SAC9B,CAAED,IAAK,IAAKjJ,MAAO,IAAKkJ,KAAM,OAC9B,CAAED,IAAK,IAAKjJ,MAAO,IAAKkJ,KAAM,UAG5B6P,GAAkB,CACpB,CAAE9P,IAAK,KAAMjJ,MAAO,GAAIkJ,KAAM,QAC9B,CAAED,IAAK,WAAYjJ,MAAO,WAAYkJ,KAAM,YAC5C,CAAED,IAAK,WAAYjJ,MAAO,WAAYkJ,KAAM,YAC5C,CAAED,IAAK,cAAejJ,MAAO,cAAekJ,KAAM,eAClD,CAAED,IAAK,UAAWjJ,MAAO,UAAWkJ,KAAM,WAC1C,CAAED,IAAK,OAAQjJ,MAAO,OAAQkJ,KAAM,QACpC,CAAED,IAAK,eAAgBjJ,MAAO,eAAgBkJ,KAAM,gBACpD,CAAED,IAAK,UAAWjJ,MAAO,UAAWkJ,KAAM,WAC1C,CAAED,IAAK,SAAUjJ,MAAO,SAAUkJ,KAAM,WAGtCoP,GAAe,CACjB7Y,MAAO,GACPuZ,QAAS,GACTjC,OAAQ,GACRkC,SAAU,GACVC,YAAa,MACbpU,OAAQ,GACRqU,OAAQ,QACRC,YAAa,GACbC,iBAAkB,EAClBC,SAAU,GACVC,SAAU,IAGOC,G,2MACjBhW,M,aAAUiW,uBAAwB,IAAOnB,I,EAEzC9Y,mBAAqB,SAAAuG,GAAI,OAAI,EAAKpC,SAAS,CAAElE,MAAOsG,K,EAGpD2T,iBAAmB,SAACxa,EAAG+Q,GAAJ,OAAU,EAAKtM,SAAS,CAAElE,MAAOP,EAAEgC,OAAOlB,S,EAE7D2Z,aAAe,SAACza,EAAD,OAAMc,EAAN,EAAMA,MAAN,OAAkB,EAAK2D,SAAL,gBAAiBzE,EAAEgC,OAAO6E,KAAO/F,K,EAElE4Z,qBAAuB,SAAC1a,EAAGmB,GAAJ,OAAa,EAAKsD,SAAL,gBAAiBtD,EAAK0F,KAAO1F,EAAKL,S,yNAG3CE,IAAMC,IAAIrC,iB,gBAAzBuC,E,EAAAA,KACFwZ,EAAiBxZ,EAAKE,KAAI,SAAC0P,EAAGzB,GAChC,MAAO,CAAEvF,IAAI,MAAD,OAAQuF,GAAOxO,MAAOiQ,EAAG/G,KAAM+G,MAEzC6J,EAAwB,CAAC,CAAE7Q,IAAK,QAASjJ,MAAO,GAAIkJ,KAAM,SAAU6Q,OAAOF,GACjFhW,KAAKF,SAAS,CAAE8V,uBAAwBK,I,qIAGlC,IAAD,SAYDjW,KAAKL,MAVL/D,EAFC,EAEDA,MACAuZ,EAHC,EAGDA,QACAjC,EAJC,EAIDA,OACAkC,EALC,EAKDA,SACAC,EANC,EAMDA,YACApU,EAPC,EAODA,OACAqU,EARC,EAQDA,OACAE,EATC,EASDA,gBACAD,EAVC,EAUDA,YACAE,EAXC,EAWDA,SAIEtS,EAASoS,EAAYlK,OAAOmB,KAAK,IAEvC,OACI,kBAAC7F,EAAA,EAAD,KACI,uCACA,kBAACS,EAAA,EAAD,KACI,kBAACA,EAAA,EAAKP,MAAN,CAAYsP,OAAO,KACf,kBAAC/O,EAAA,EAAKC,MAAN,KACI,4CACA,kBAACxM,EAAD,CACIc,mBAAoBqE,KAAKrE,mBACzBQ,MAAO6D,KAAKL,MAAM/D,MAClBsG,KAAK,QACL5E,OAAQ0C,KAAK6V,oBAGrB,kBAACzO,EAAA,EAAKC,MAAN,CACIC,QAASQ,IACTL,MAAM,SACNxK,YAAY,SACZ8K,QAAS6M,GACT1S,KAAK,SACLwF,SAAU1H,KAAK+V,uBAEnB,kBAAC3O,EAAA,EAAKC,MAAN,CACIC,QAASQ,IACTL,MAAM,UACNxK,YAAY,UACZmZ,QAAM,EACNrO,QAAS/H,KAAKL,MAAMiW,uBACpB1T,KAAK,UACLwF,SAAU1H,KAAK+V,uBAEnB,kBAAC3O,EAAA,EAAKC,MAAN,CACIC,QAASQ,IACTL,MAAM,SACNxK,YAAY,SACZ8K,QAAS+M,GACT5S,KAAK,SACLwF,SAAU1H,KAAK+V,wBAGvB,kBAAC3O,EAAA,EAAKP,MAAN,CAAYsP,OAAO,KAEf,kBAAC/O,EAAA,EAAKC,MAAN,CACIC,QAASQ,IACTuO,UAAQ,EACR5O,MAAM,SACNxK,YAAY,SACZ8K,QAASkN,GACT/S,KAAK,cACLwF,SAAU1H,KAAK+V,uBAGnB,kBAAC3O,EAAA,EAAKC,MAAN,CACIC,QAASQ,IACTL,MAAM,YACNxK,YAAY,YACZ8K,QAASmN,GACThT,KAAK,WACLwF,SAAU1H,KAAK+V,uBAEnB,kBAAC3O,EAAA,EAAKC,MAAN,KACI,+CACA,kBAACE,EAAA,EAAD,CACIE,MAAO,kBAACgG,GAAA,EAAD,CACH1F,QAAS8M,GACT3S,KAAK,cACLoU,aAAa,MACb5O,SAAU1H,KAAK+V,uBAEnB9Y,YAAY,gBACZsZ,cAAc,OACdrU,KAAK,WACLsF,KAAK,SACLE,SAAU1H,KAAK+V,yBAK3B,4BAAK,gBAEL,kBAAC3O,EAAA,EAAKP,MAAN,KACI,kBAACO,EAAA,EAAKC,MAAN,CACIC,QAASQ,IACTL,MAAM,UACNxK,YAAY,GACZ8K,QAASgN,GACTuB,aAAa,QACbpU,KAAK,SACLwF,SAAU1H,KAAK+V,uBAEnB,kBAAC3O,EAAA,EAAKC,MAAN,CACIC,QAASQ,IACTL,MAAM,QACNM,QAASiN,GACTsB,cAAe,EACfpU,KAAK,kBACLwF,SAAU1H,KAAK+V,wBAIvB,kBAAC3O,EAAA,EAAKP,MAAN,KACI,kBAACO,EAAA,EAAKa,OAAN,CAAaC,SAAO,EAACC,QAAS,kBAAM,EAAKrN,MAAM0b,aAAa,CACxD5a,QACAuZ,UACAjC,SACAkC,WACAC,cACApU,SACAqU,SACAE,kBACArS,SACAqE,KAAMiO,MAVV,iB,GA3IsB9U,IAAMC,WC5E9C6V,GAAe,CACjBC,GAAI,YACJC,GAAI,aACJC,GAAI,gBACJC,GAAI,cAGFC,GAAU,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,UAAWC,EAAiB,EAAjBA,KAAiB,EAAXC,KAChC,OACI,yBAAK3X,MAAO,CACRD,SAAU,WACV6X,KAAK,GAAD,OAAKF,EAAL,MACJ/E,MAAO,QACPsC,OAAQ,QACRJ,aAAc,kBACd5U,UAAW,oCACX4X,WAAY,wFAEZ,kBAAC/W,EAAA,EAAD,CACId,MAAO,CAAE6U,aAAc,mBACvB7T,KAAK,QACLD,IAAK0W,MAMAK,G,2MACjBzX,MAAQ,CAAE0X,aAAa,EAAOC,OAAQ,EAAGC,OAAQ,G,EAEjDC,WAAa,SAACnc,GACV,IAAMic,EAASjc,EAAEoc,QAAUpc,EAAEgC,OAAOqa,WAC9BH,EAASlc,EAAEsc,QAAUtc,EAAEgC,OAAOua,UACpC,EAAK9X,SAAS,CAAEuX,aAAa,EAAMC,SAAQC,Y,EAG/CM,WAAa,SAACxc,GAAD,OAAO,EAAKyE,SAAS,CAAEuX,aAAa,K,EAEjDS,UAAY,SAACzc,GACT,IAAMic,EAASjc,EAAEoc,QAAUpc,EAAEgC,OAAOqa,WAC9BH,EAASlc,EAAEsc,QAAUtc,EAAEgC,OAAOua,UACpC,EAAK9X,SAAS,CAAEwX,SAAQC,Y,wEAGlB,IAAD,EACgEvX,KAAKlF,MAAlEid,EADH,EACGA,UAAW7V,EADd,EACcA,KAAMc,EADpB,EACoBA,SAAUZ,EAD9B,EAC8BA,MAAOW,EADrC,EACqCA,IAAKE,EAD1C,EAC0CA,OAAQ8T,EADlD,EACkDA,UADlD,EAEmC/W,KAAKL,MAArC0X,EAFH,EAEGA,YAAaC,EAFhB,EAEgBA,OAAQC,EAFxB,EAEwBA,OACvBtW,EAAS8W,EAAUnL,EAAEL,MAAM,KAAK,GAChCyL,EAAYD,EAAUnL,EAAEL,MAAM,KAAK,GAEzC,OAAO,kBAAC4B,GAAA,EAAMC,IAAP,KACH,kBAACD,GAAA,EAAME,KAAP,KACI,0BACI4J,aAAcjY,KAAKwX,WACnBU,aAAclY,KAAK6X,WACnBM,YAAanY,KAAK8X,UAClBxY,MAAO,CAAE8Y,OAAQ,SAEhBlW,EAAM,KAEC,SAAXjB,GAAqB,kBAACgB,EAAA,EAAD,CAAMC,KAAK,OAAO7D,MAAM,SAC7CgZ,GAAe,kBAAC,GAAD,CAASN,UAAWA,EAAWC,KAAMM,EAAQL,KAAMM,KAEvE,kBAACpJ,GAAA,EAAME,KAAP,KAAY,uBAAG3P,UAAS,sBAAiBqE,EAAjB,eAA2BE,GAAU3D,MAAO,CAAE2H,SAAU,UAAa,IAAKjE,GAClG,kBAACmL,GAAA,EAAME,KAAP,KAAaoI,GAAauB,IAC1B,kBAAC7J,GAAA,EAAME,KAAP,KAAa0J,EAAUM,GACvB,kBAAClK,GAAA,EAAME,KAAP,KAAY,kBAAC,GAAD,CAAOL,IAAK5L,U,GAvCSzB,IAAMC,W,wCCtB9B0X,G,2MACjB3Y,MAAQ,CACJnD,KAAM,GACN+b,MAAO,EACPC,YAAa,EACbC,SAAU,EACVC,UAAW,GACX1d,WAAW,EACX2d,cAAe,GACfC,UAAW,GACXC,eAAe,G,EAGnBC,U,uCAAY,WAAOC,EAASC,GAAhB,uBAAA1d,EAAA,sEAEJ,EAAKwE,SAAS,CAAE9E,WAAW,IAFvB,SAImBqB,IAAMC,IAAItC,sBAAqB,CAClD0H,OAAO,eAAMqX,EAAP,CAAgBC,WALtB,gBAIIxc,EAJJ,EAIIA,KAIFic,EAAW3W,KAAKmX,KAAKzc,EAAKkS,MAvB9B,KAwBIwK,EAAQjd,IAAEkd,MAAM,EAAGV,EAAW,GAMhCG,EADAI,GAAQ,EACIE,EAAMtc,MAAM,EAAG,GACpBoc,GAAQP,EAAW,EACdS,EAAMtc,MAAM6b,EAAW,EAAGA,GAE1BS,EAAMtc,MAAMoc,EAAO,EAAGA,EAAO,GAG7C,EAAKlZ,SAAS,CACVtD,KAAMA,EAAK6L,MACXkQ,MAAO/b,EAAKkS,MACZ1T,WAAW,EACXyd,SAAUA,EACVD,YAAaQ,EACbJ,UAAWA,EACXC,eAAe,IA7Bf,kDAgCJhd,QAAQC,IAAR,MAhCI,0D,0DAoCZ0a,a,uCAAe,WAAOuC,GAAP,SAAAzd,EAAA,6DACX,EAAKwE,SAAS,CAAE6Y,cAAeI,IADpB,SAEL,EAAKD,UAAUC,EAAS,GAFnB,2C,wDAKfK,W,uCAAa,WAAOJ,GAAP,SAAA1d,EAAA,sEACH,EAAKwd,UAAU,EAAKnZ,MAAMgZ,cAAeK,GADtC,OAET,EAAKlZ,SAAS,CAAE0Y,YAAaQ,IAFpB,2C,8HAKH,IAAD,SACqDhZ,KAAKL,MAAvDnD,EADH,EACGA,KAAMxB,EADT,EACSA,UAAWwd,EADpB,EACoBA,YAAaC,EADjC,EACiCA,SAAUF,EAD3C,EAC2CA,MAC1Cc,IAAwC,IAAhBb,GACxBc,IAAyBd,IAAgBC,GAE/C,OAAO,kBAACc,GAAA,EAAD,KACH,kBAACC,GAAA,EAAD,CAAQC,OAAQze,EAAWyU,UAAQ,EAACuJ,MAAI,EAAC1Z,MAAO,CAAEoa,UAAW,YACzD,kBAACC,GAAA,EAAD,CAAQrZ,KAAK,SAAb,YAEJ,kBAACqG,EAAA,EAAD,CAASiT,WAAS,GACd,kBAAC3X,EAAA,EAAD,CAAMC,KAAK,uBAAuB7D,MAAM,SAD5C,6IAIA,kBAAC,GAAD,CAAkBmY,aAAcxW,KAAKwW,iBAElCha,EAAKJ,QAAU,kBAAC+R,GAAA,EAAD,CAAOiF,QAAM,EAACyG,SAAO,EAAC1a,SAAO,GAC3C,kBAACgP,GAAA,EAAM/O,OAAP,KACI,kBAAC+O,GAAA,EAAMC,IAAP,KACI,kBAACD,GAAA,EAAMmF,WAAP,CAAkBwG,QAAQ,KACtB,kBAACC,GAAA,EAAD,CAAM3K,QAAQ,QACV,kBAAC2K,GAAA,EAAKnT,KAAN,qBAAyB4R,EAAzB,OAA0CC,IAE9C,kBAACsB,GAAA,EAAD,CAAM3K,QAAQ,SACTiK,GAAuB,kBAACU,GAAA,EAAKnT,KAAN,CAAWI,GAAG,IAAI8B,MAAI,EAACX,QAAS,kBAAM,EAAKiR,WAAWZ,EAAc,KACxF,kBAACvW,EAAA,EAAD,CAAMC,KAAK,kBAGf,kBAAC,IAAM3D,SAAP,KACKyB,KAAKL,MAAMiZ,UAAUlc,KAAI,SAAAuP,GACtB,OACI,kBAAC8N,GAAA,EAAKnT,KAAN,CACIxB,IAAG,eAAU6G,GACb9D,QAAS,kBAAM,EAAKiR,WAAWnN,IAC/BwN,OAAQjB,IAAgBvM,EACxBjE,SAAUwQ,IAAgBvM,EAC1BjF,GAAG,KACFiF,OAMhBqN,GAAwB,kBAACS,GAAA,EAAKnT,KAAN,CAAWI,GAAG,IAAI8B,MAAI,EAACX,QAAS,kBAAM,EAAKiR,WAAWZ,EAAc,KACzF,kBAACvW,EAAA,EAAD,CAAMC,KAAK,uBAO/B,kBAACiM,GAAA,EAAM/O,OAAP,KACI,kBAAC+O,GAAA,EAAMC,IAAP,KACI,kBAACD,GAAA,EAAMmF,WAAP,aACA,kBAACnF,GAAA,EAAMmF,WAAP,gBACA,kBAACnF,GAAA,EAAMmF,WAAP,kBACA,kBAACnF,GAAA,EAAMmF,WAAP,YACA,kBAACnF,GAAA,EAAMmF,WAAP,gBAIR,kBAACnF,GAAA,EAAMyB,KAAP,KACKpT,EAAKE,KAAI,SAAA0P,GAAC,OAAI,kBAAC,GAAD,iBAAqBA,EAArB,CAAwBhH,IAAG,UAAKgH,EAAEhD,KAAP,OAAagD,EAAE2L,UAAUnL,UAGvE,kBAACuB,GAAA,EAAM6L,OAAP,KACI,kBAAC7L,GAAA,EAAMC,IAAP,KACI,kBAACD,GAAA,EAAMmF,WAAP,CAAkBwG,QAAQ,KACtB,kBAACC,GAAA,EAAD,CAAM3K,QAAQ,QACV,kBAAC2K,GAAA,EAAKnT,KAAN,uBAA2B2R,IAE/B,kBAACwB,GAAA,EAAD,CAAM3K,QAAQ,SACTiK,GAAuB,kBAACU,GAAA,EAAKnT,KAAN,CACpBI,GAAG,IACH8B,MAAI,EACJX,QAAS,kBAAM,EAAKiR,WAAWZ,EAAc,KAE7C,kBAACvW,EAAA,EAAD,CAAMC,KAAK,kBAGf,kBAAC,IAAM3D,SAAP,KACKyB,KAAKL,MAAMiZ,UAAUlc,KAAI,SAAAuP,GACtB,OACI,kBAAC8N,GAAA,EAAKnT,KAAN,CACIxB,IAAG,eAAU6G,GACb9D,QAAS,kBAAM,EAAKiR,WAAWnN,IAC/BwN,OAAQjB,IAAgBvM,EACxBjE,SAAUwQ,IAAgBvM,EAC1BjF,GAAG,KACFiF,OAMhBqN,GAAwB,kBAACS,GAAA,EAAKnT,KAAN,CACrBI,GAAG,IACH8B,MAAI,EACJX,QAAS,kBAAM,EAAKiR,WAAWZ,EAAc,KAE7C,kBAACvW,EAAA,EAAD,CAAMC,KAAK,yBAQjC1F,EAAKJ,QACH,kBAACuK,EAAA,EAAD,CAAS1J,aAAW,GAChB,kBAACmC,GAAA,EAAD,CAAQ0J,MAAI,GACR,kBAAC7G,EAAA,EAAD,CAAMC,KAAK,WACVlC,KAAKL,MAAMkZ,cACR,mBACA,6C,GA5KclY,IAAMC,WCJnCqZ,GAActZ,IAAMqI,gBAElB,SAASkR,GAAapf,GAAQ,IAAD,EACRC,qBAAWJ,aAAaC,QAAQ,kBADxB,mBACjCuf,EADiC,KACvBC,EADuB,KAGlCC,EAAW,uCAAG,WAAOC,EAAUC,GAAjB,iBAAAjf,EAAA,+EAEWe,IAAMmK,KAAKrM,QAAO,CACrCmgB,SAAUA,EAASE,cACnBD,SAAUA,GACX,CAAEhe,QAAS9B,MALF,qBAEJ+B,EAFI,EAEJA,MAKCie,MAPG,wBAQR9f,aAAa+f,QAAQ,gBAAiBle,EAAKie,OAC3CL,IAAczf,aAAaC,QAAQ,kBAT3B,kBAWD,CAAE+f,QAAQ,IAXT,iCAaD,CAAEA,QAAQ,IAbT,0DAgBZ9e,QAAQC,IAAR,MAhBY,0DAAH,wDAoBX8e,EAAY,uCAAG,sBAAAtf,EAAA,sEAEbX,aAAakgB,WAAW,iBACxBT,IAAczf,aAAaC,QAAQ,kBAHtB,kBAKN,CAAE+f,QAAQ,IALJ,gCAOb9e,QAAQC,IAAR,MAPa,wDAAH,qDAWlB,OAAO,kBAACme,GAAY3P,SAAb,CAAsBnO,MAAO,CAAEge,WAAUE,cAAaO,iBACxD9f,EAAM+Q,U,4RCnCf,IAAMiP,GAAiBha,IAAOuP,IAAV,MAMd0K,GAAgBja,YAAO6F,IAAP7F,CAAH,MAKb2T,GAAe,CAAE6F,SAAU,GAAIC,SAAU,GAAIvd,SAAS,GAE7C,SAASge,KAAS,IAAD,EACFjgB,mBAAS0Z,IADP,mBACrB9U,EADqB,KACdG,EADc,OAEM0N,qBAAWyM,IAArCE,EAFoB,EAEpBA,SAAUE,EAFU,EAEVA,YAEZY,EAAoB,SAAC5f,EAAD,OAAMc,EAAN,EAAMA,MAAN,OAAkB2D,EAAS,eAAKH,EAAN,gBAActE,EAAEgC,OAAO6E,KAAO/F,MAE5E+e,EAAK,uCAAG,4BAAA5f,EAAA,6DACVwE,EAAS,CAAE9C,SAAS,IADV,SAGeqd,EAAY1a,EAAM2a,SAAU3a,EAAM4a,UAHjD,kBAGFI,OAIJ/b,EAAY,CACRP,MAAO,QACPQ,OAAQ,UACRC,QAAQ,2BAGZgB,EAAS2U,IACT7V,EAAY,CACRP,MAAO,MACPQ,OAAQ,QACRC,QAAQ,wCAjBN,2CAAH,qDAsBX,OAAIqb,EAAiB,kBAAC,IAAD,CAAUgB,GAAG,sBAE3B,kBAACL,GAAD,KACH,kBAACC,GAAD,CAAeK,QAAM,EAACpe,QAAS2C,EAAM3C,SACjC,kBAACoK,EAAA,EAAD,KACI,kBAACA,EAAA,EAAKC,MAAN,KACI,kBAACD,EAAA,EAAKG,MAAN,CACI7I,UAAU,iBACVwD,KAAK,WACLjF,YAAY,WACZwK,MAAM,WACNtL,MAAOwD,EAAM2a,UAAY,GACzB5S,SAAUuT,KAGlB,kBAAC7T,EAAA,EAAKC,MAAN,KACI,kBAACD,EAAA,EAAKG,MAAN,CACI7I,UAAU,iBACVwD,KAAK,WACLjF,YAAY,WACZuK,KAAK,WACLC,MAAM,WACNtL,MAAOwD,EAAM4a,UAAY,GACzB7S,SAAUuT,KAGlB,kBAAChT,EAAA,EAAD,CACIC,SAAO,EACPkK,OAAK,EACLhD,QAAQ,QACR5H,KAAK,SACLW,QAAS+S,EACTxc,UAAU,YACVsJ,UAAWrI,EAAM2a,WAAa3a,EAAM4a,UAPxC,aC9DDc,OARf,WAKI,OAFAT,EAFyBpN,qBAAWyM,IAA5BW,gBAID,kBAAC,IAAD,CAAUO,GAAG,Y,qBCAlBG,GAAc,CAAEC,KAAM,OAAQC,OAAQ,UAGtCC,G,YACF,WAAYC,GAAY,IAAD,sBACnB,4CAAMA,IADa,IAGXC,EAAwCD,EAAxCC,UAAWC,EAA6BF,EAA7BE,YAAaC,EAAgBH,EAAhBG,YAHb,OAKnB,EAAKF,UAAYA,EACjB,EAAKC,YAAcA,EACnB,EAAKC,YAAcA,EACnB,EAAKC,SAAWC,OAEO,EAAKC,UAAR,IAAhBH,EAAoCP,GAAYC,KAC9BD,GAAYE,OAXf,E,2BADJlZ,GAgBV2Z,GAAmBtb,IAAMqI,gBAE/B,SAASkT,GAAkBphB,GAAQ,IAAD,EACKC,mBAAS,IADd,mBAC9BwN,EAD8B,KACfC,EADe,OAEKzN,mBAAS,IAFd,mBAE9BohB,EAF8B,KAEfC,EAFe,KAU/BzgB,EAAkB,uCAAG,WAAM8M,GAAN,iBAAAnN,EAAA,+EAEIe,IAAMC,IAAIjC,sBAAqB,CAClDqH,OAAQ,CAAE9F,MAAO6M,EAAMC,cAAc,GACrCnM,QAAS9B,MAJM,gBAEX+B,EAFW,EAEXA,KAKRgM,EAAiBhM,EAAKE,KAAI,SAAA0P,GAAC,OAAI,IAAI9J,EAAc8J,OAP9B,gDASnBvQ,QAAQC,IAAR,MATmB,yDAAH,sDAqElBugB,EAAiB,uCAAG,4BAAA/gB,EAAA,sEAEZghB,EAAgBH,EAAczf,KAAI,SAAA6F,GAEpC,MAAO,CAAEG,SAAU,EAAGE,gBAD+BL,EAA7CK,gBAC+BzF,GADcoF,EAA5BpF,GACkB+E,KADUK,EAAxBL,KACoBc,SADIT,EAAlBS,SACwBD,IADNR,EAARQ,QAH/B,SAOZ1G,IAAMmK,KAAK5M,gBAAe,CAAEyO,MAAOiU,GAAiB,CAAE/f,QAAS9B,MAPnD,OASlB+N,EAAiB,IACjB4T,EAAiB,IAEjBxd,EAAY,CACRP,MAAO,QACPQ,OAAO,GAAD,OAAKsd,EAAc/f,OAAnB,mCACN2C,SAAU,MAfI,gDAkBlBlD,QAAQC,IAAR,MACA8C,EAAY,CACRP,MAAO,MACPQ,OAAO,0BACPE,SAAU,MAtBI,yDAAH,qDA6BvB,OAAO,kBAACkd,GAAiB3R,SAAlB,CACHnO,MAAO,CACHoM,gBACA4T,gBACAxgB,qBACA4gB,UAvFU,SAAC7Z,EAAUgZ,GACzB,IAGM/P,EAHa,aAAOwQ,GAGKjG,OAAOja,IAAEugB,MAAM9Z,GAAU,kBAAM,IAAI+Y,GAASC,OAE3EU,EAAiBngB,IAAEqZ,OAAO3J,EAAU,UAkFhC8Q,eA5Ee,SAAAX,GACnB,IAAMY,EAAW,aAAOP,GACxBlgB,IAAE0gB,OAAOD,GAAa,SAAArhB,GAAC,OAAIA,EAAEygB,WAAaA,KAC1CM,EAAiBM,IA0EbE,gBAnEgB,SAACd,EAAUE,GAC/B,IAAMa,EAAa,aAAOV,GACbU,EAAcC,MAAK,SAAAzhB,GAAC,OAAIA,EAAEygB,WAAaA,KAC/CE,UAAYV,GAAYU,GAC7BI,EAAiBS,IAgEbE,UAxDU,SAAAC,GACd,IAAMvS,EAAQ,aAAO0R,GACbZ,EAAiBD,GAAjBC,KAAMC,EAAWF,GAAXE,OAEd/Q,EAASwS,SAAQ,SAAC1a,EAAMoI,EAAKuS,GACzB,IAAIC,EAAgB,EAEhBH,IAAezB,EAAM4B,EAAgB5a,EAAKoZ,UACrCqB,IAAexB,IAAQ2B,EAAgB5a,EAAKsZ,aAEjDsB,EAAgB,IAAGD,EAAIvS,GAAKqR,UAAYgB,MAGhDZ,EAAiB3R,IA4Cb4R,oBACAe,mBAZmB,kBAAM5U,EAAiB,OAc7C1N,EAAM+Q,UC5If,IAAM1G,GAAW,CACb,CAAEC,IAAK,UAAWC,KAAM,UAAWlJ,MAAO,WAC1C,CAAEiJ,IAAK,OAAQC,KAAM,OAAQlJ,MAAO,SAGlCmJ,GAAiB,CACnB,CAAEF,IAAK,KAAMC,KAAM,YAAalJ,MAAO,MACvC,CAAEiJ,IAAK,KAAMC,KAAM,aAAclJ,MAAO,MACxC,CAAEiJ,IAAK,KAAMC,KAAM,gBAAiBlJ,MAAO,MAC3C,CAAEiJ,IAAK,KAAMC,KAAM,aAAclJ,MAAO,OAS5C,SAASoJ,GAAgBrC,EAASnC,GAC9B,OAAKmC,GAAWnC,EACL,CAAE2E,eAAgB,OAAQC,gBAAgB,GAC1CzC,IAAYnC,EACZ,CAAE2E,eAAgB,UAAWC,gBAAgB,GAC7CzC,GAAWnC,EACX,CAAE2E,eAAgB,UAAWC,gBAAgB,QADjD,EAKI,SAAS0X,GAAoBviB,GAAQ,IAAD,EACfC,mBAAS,GADM,mBACxC2H,EADwC,KAC9BmD,EAD8B,OAEb9K,mBAAS,GAFI,mBAExC4gB,EAFwC,KAE7B2B,EAF6B,OAGTviB,mBAAS,GAHA,mBAGxC8gB,EAHwC,KAG3B0B,EAH2B,OAIGxiB,mBAAS,MAJZ,mBAIxCgL,EAJwC,KAIrBC,EAJqB,OAKTjL,mBAAS,GALA,mBAKxC6gB,EALwC,KAK3B4B,EAL2B,OAMHziB,mBACxCwK,GAAgBzK,EAAMoI,QAASpI,EAAMiG,MAAM2E,gBAPA,mBAMxCA,EANwC,KAMxBI,EANwB,KAWzCH,EAAiBJ,GAAgBzK,EAAMoI,QAASpI,EAAMiG,MAAM4E,eAE1D4W,EAAc/O,qBAAWyO,IAAzBM,UAOFkB,EAAoB,SAACpiB,EAAD,GAAmB,IAAbc,EAAY,EAAZA,MACxBwL,EAAMiG,OAAOzR,IAAU,EAG3B,OAFIwL,EAAM,IAAGA,EAAM,GAEXtM,EAAEgC,OAAO6E,MACb,IAAK,YACDob,EAAa3V,GACb,MACJ,IAAK,mBACD6V,EAAe7V,GACf,MACJ,IAAK,cACD4V,EAAe5V,KAcrB+V,EAAc,SAAAriB,GAAC,OAAIA,EAAEgC,OAAO3B,UA4C9BuE,EAQAnF,EARAmF,WACAiC,EAOApH,EAPAoH,KACAc,EAMAlI,EANAkI,SACAD,EAKAjI,EALAiI,IACAE,EAIAnI,EAJAmI,OACA/C,EAGApF,EAHAoF,WACA/C,EAEArC,EAFAqC,GACAmG,EACAxI,EADAwI,KAGJ,OACI,kBAACqD,EAAA,EAAD,KACI,kBAACC,EAAA,EAAKC,MAAN,CAAYC,SAAO,GACf,kBAACF,EAAA,EAAD,KACI,kBAACA,EAAA,EAAKxG,MAAN,CAAYE,KAAK,SACb,kBAAC,EAAD,CACIL,WAAYA,EACZC,WAAYA,EACZC,OAAO,KAGf,kBAACyG,EAAA,EAAKG,QAAN,KACI,kBAACH,EAAA,EAAKxH,OAAN,CAAa4H,GAAG,MACX9E,EACA,IACD,uBACIxD,UAAS,sBAAiBqE,EAAjB,eAA2BE,GACpC3D,MAAO,CAAE2H,SAAU,UAEvB,kBAACzI,EAAA,EAAD,CAAOH,MAAM,QACR2E,EADL,KACiBkE,OAAOnE,GAAKa,cAD7B,KAGA,kBAACrG,EAAD,CAAWC,aAAc1C,EAAM2H,MAC9B,IACD,kBAACzB,EAAD,CAAa7D,GAAIA,EAAI8D,OAAQyE,IAC7B,kBAACT,EAAD,CAAUC,aAAc5B,KAE5B,kBAACsD,EAAA,EAAKO,YAAN,KACI,kBAACC,EAAA,EAAD,KACI,kBAACA,EAAA,EAAKP,MAAN,CAAYsP,OAAO,MACf,kBAAC/O,EAAA,EAAKC,MAAN,CACIC,QAASC,IACTC,KAAK,SACLC,MAAM,WACNtL,MAAOuG,EACPgF,SAhGP,SAACrM,EAAD,GAAmB,IAAbc,EAAY,EAAZA,MAC3BwL,EAAMC,SAASzL,EAAO,KAAO,EAC7BwL,EAAM,IAAGA,EAAM,GACfA,EAAM,KAAIA,EAAM,IACpB9B,EAAY8B,IA6FoBvK,QAAS,SAAA/B,GAAC,OAAIA,EAAEgC,OAAO3B,UACvBgD,UAAU,uBAEd,kBAAC0I,EAAA,EAAKC,MAAN,CACII,MAAM,eACNvF,KAAK,cACLoF,QAASC,IACTC,KAAK,SACLrL,MAAO0f,EACPnU,SAAU+V,EACVrgB,QAASsgB,EACT7P,KAAK,OACLnP,UAAU,qBAEd,kBAAC0I,EAAA,EAAKC,MAAN,CACII,MAAM,aACNvF,KAAK,YACLoF,QAASC,IACTC,KAAK,SACLrL,MAAOwf,EACPjU,SAAU+V,EACVrgB,QAASsgB,EACT7P,KAAK,OACLnP,UAAU,mBAEd,kBAAC0I,EAAA,EAAKC,MAAN,CACII,MAAM,eACNvF,KAAK,mBACLoF,QAASC,IACTC,KAAK,SACLrL,MAAOyf,EACPlU,SAAU+V,EACVrgB,QAASsgB,EACT7P,KAAK,OACL7F,SAAwB,IAAd2T,GAAiC,KAAdA,EAC7Bjd,UAAU,sBAGlB,kBAAC0I,EAAA,EAAKP,MAAN,CAAYsP,OAAO,MACf,kBAAC/O,EAAA,EAAKC,MAAN,CACII,MAAM,SACNH,QAASQ,IACT3L,MAAOuJ,EACPqC,QAAS5C,GACT6C,SAAUrC,EACV+B,SAtKT,SAACrM,EAAD,OAAMc,EAAN,EAAMA,MAAN,OAAkB2J,EAAkB3J,MAwK/B,kBAACiL,EAAA,EAAKC,MAAN,CACII,MAAM,YACNH,QAASQ,IACT3L,MAAO4J,EACPgC,QAASzC,GACToC,SA3KN,SAACrM,EAAD,OAAMc,EAAN,EAAMA,MAAN,OAAkB6J,EAAqB7J,MA6KrC,kBAACiL,EAAA,EAAKa,OAAN,CACIR,MAAM,eACNH,QAASW,IACTC,SAAO,EACPF,SArHb,WACnB,IAAM2V,EAA2B,IAAbjb,GAA+B,KAAbA,EAChCkb,GAAsBjC,IAAcE,EAG1C,OAAIF,EAAY,EACLgC,GAAeC,IAHkB,IAAhBhC,GAAqC,KAAhBA,GAM1C+B,GAAeC,EA4GoBC,GACV1V,QAnJT,WACvBoU,EAAU7Z,EAAD,eACF5H,EADE,CAEL6gB,YACAC,cACAC,cACAjZ,gBAAgB,GAAD,OAAK8C,EAAL,YAAuBK,MAG1CF,EAAY,GACZyX,EAAa,GACbE,EAAe,GACfD,EAAe,GACfvX,EAAqB,MACrBF,EAAkBP,GAAgBzK,EAAMoI,QAASpI,EAAMiG,MAAM2E,gBAE7D9G,EAAY,CACRP,MAAO,QACPQ,OAAO,GAAD,OAAK6D,EAAL,aAAkB5H,EAAMoH,KAAxB,sBACNnD,SAAU,MAIdtD,IAAE,cAAciL,QAAQhL,WAuHI,cChOrB,SAASoiB,KAGpB,OAF0BtQ,qBAAWyO,IAA7B1T,cAEa7L,KAAI,SAAAkM,GACrB,OAAO,kBAACyU,GAAD,eACHjY,IAAKwD,EAAEzL,IACHyL,EAFD,CAGHnG,IAAKmG,EAAEnG,UCRJ,SAASsb,GAAT,GAAmD,IAArBtE,EAAoB,EAApBA,OAAQ5N,EAAY,EAAZA,SACjD,OAAO,kBAAC,IAAMtN,SAAP,KACFkb,GACG,kBAAC9S,EAAA,EAAD,CAAS1J,aAAW,GAChB,kBAACmC,GAAA,EAAD,CAAQ0J,MAAI,GACR,kBAAC7G,EAAA,EAAD,CAAMC,KAAK,WACX,4BAAK2J,MCHzB,IAAMmS,GAAqB,OAArBA,GAAqC,SAE5B,SAASC,GAAT,GAAyH,IAA5Fza,EAA2F,EAA3FA,aAAcT,EAA6E,EAA7EA,IAAKE,EAAwE,EAAxEA,OAAQ0Y,EAAgE,EAAhEA,UAAWE,EAAqD,EAArDA,YAAajZ,EAAwC,EAAxCA,gBAAiBkZ,EAAuB,EAAvBA,SAAUE,EAAa,EAAbA,UAC9GT,EAAiByC,GAAXxC,EAAWwC,GAD0G,EAErGjjB,oBAAS,GAF4F,mBAE5H6E,EAF4H,KAEnHsO,EAFmH,OAGvFV,qBAAWyO,IAA/CQ,EAH2H,EAG3HA,eAAgBG,EAH2G,EAG3GA,gBAExB,OACI,kBAACzO,GAAA,EAAMC,IAAP,KACI,kBAACD,GAAA,EAAME,KAAP,KAAY,2BAAI7K,IAChB,kBAAC2K,GAAA,EAAME,KAAP,CAAYE,YAAU,GAClB,uBACI7P,UAAS,sBAAiBqE,EAAjB,eAA2BE,GACpC3D,MAAO,CAAE2H,SAAU,UAEvB,kBAACzI,EAAA,EAAD,CAAOH,MAAM,QAAQ0E,EAAIa,gBAE7B,kBAACuK,GAAA,EAAME,KAAP,KACI,yBAAK/O,MAAO,CAAE4e,WAAY,WAA1B,QACS,2BAAG,kBAAC,GAAD,CAAOlQ,IAAK2N,MAExB,yBAAKrc,MAAO,CAAE4e,WAAY,WAA1B,UACW,2BAAG,kBAAC,GAAD,CAAOlQ,IAAK6N,MAE1B,2BAAIjZ,EAAgB2J,MAAM,KAAK,GAA/B,MAAsC3J,EAAgB2J,MAAM,KAAK,KAErE,kBAAC4B,GAAA,EAAME,KAAP,KACI,kBAACpG,EAAA,EAAD,CACIwR,OAAQuC,IAAcT,EACtBld,MAAO2d,IAAcT,EAAO,OAAS,KACrCpT,QAAS,kBAAMyU,EAAgBd,EAAUP,IACzCvT,SAAwB,IAAd2T,EACV7S,MAAI,GAEJ,kBAAC7G,EAAA,EAAD,CAAMC,KAAK,kBAGnB,kBAACiM,GAAA,EAAME,KAAP,KACI,kBAACpG,EAAA,EAAD,CACIwR,OAAQuC,IAAcR,EACtBnd,MAAO2d,IAAcR,EAAS,OAAS,KACvCrT,QAAS,kBAAMyU,EAAgBd,EAAUN,IACzCxT,SAA0B,IAAhB6T,EACV/S,MAAI,GAEJ,kBAAC7G,EAAA,EAAD,CAAMC,KAAK,0BAGnB,kBAACiM,GAAA,EAAME,KAAP,KACI,kBAACpG,EAAA,EAAD,CACIa,KAAK,SACL0F,UAAQ,EACRrG,QAAS,kBAAMsU,EAAeX,IAC9Btb,YAAa,kBAAM0N,GAAW,IAC9BzN,WAAY,kBAAMyN,GAAW,IAC7B7P,MAAOuB,EAAU,MAAQ,S,cCtD9B,SAASue,GAAT,GAAwD,IAAlChC,EAAiC,EAAjCA,cAE3BiC,GAF4D,EAAlBC,eAEtBpiB,IAAEqiB,MAAMnC,GAC7BoC,QAAO,SAAA3V,GAAC,MAAoB,SAAhBA,EAAEoT,aACdtf,KAAI,SAAAkM,GAGD,OAAO,eAAKA,EAAZ,CAAe4V,UAAU,GAAD,OAAK5V,EAAEzL,GAAP,YAAayL,EAAE+S,UAAf,YAA4B/S,EAAEgT,YAA9B,YAA6ChT,EAAEhG,sBAE1E6b,QAAQ,aACRC,WAAU,SAAA/W,GAAG,OAAIA,EAAIvL,UACrBD,SAUCwiB,EARgB1iB,IAAEqiB,MAAMnC,GACzBoC,QAAO,SAAA3V,GAAC,MAAoB,SAAhBA,EAAEoT,aACdtf,KAAI,SAAAkM,GACD,OAAO,eAAKA,EAAZ,CAAe4V,UAAU,GAAD,OAAK5V,EAAEzL,GAAP,YAAayL,EAAE+S,UAAf,YAA4B/S,EAAEgT,YAA9B,YAA6ChT,EAAEhG,sBAE1Egc,OAAO,aACPziB,QAE+BO,KAAI,SAAAkM,GACpC,OAAO,eAAKA,EAAZ,CAAeiW,SAAUT,EAAkBxV,EAAE4V,gBAG3CM,EAAe7iB,IAAEqiB,MAAMnC,GACxBoC,QAAO,SAAA3V,GAAC,MAAoB,SAAhBA,EAAEoT,aACd+C,OAAM,SAAAnW,GAAC,OAAIA,EAAE+S,aACbxf,QAEL,OAAO,kBAAC,IAAMoC,SAAP,KACH,yBAAKpB,GAAG,eACJ,kBAACgR,GAAA,EAAD,CAAOiF,QAAM,GACT,kBAACjF,GAAA,EAAM/O,OAAP,KACI,kBAAC+O,GAAA,EAAMC,IAAP,KACI,kBAACD,GAAA,EAAMmF,WAAP,CAAkBwG,QAAS,GAA3B,mBAEJ,kBAAC3L,GAAA,EAAMC,IAAP,KACI,kBAACD,GAAA,EAAMmF,WAAP,kBACA,kBAACnF,GAAA,EAAMmF,WAAP,qBACA,kBAACnF,GAAA,EAAMmF,WAAP,kBACA,kBAACnF,GAAA,EAAMmF,WAAP,iBACA,kBAACnF,GAAA,EAAMmF,WAAP,mBACA,kBAACnF,GAAA,EAAMmF,WAAP,mBAGR,kBAACnF,GAAA,EAAMyB,KAAP,KACK+O,EAAcjiB,KAAI,SAAAkM,GACf,OAAO,kBAACuF,GAAA,EAAMC,IAAP,CAAWhJ,IAAKwD,EAAE4V,WACrB,kBAACrQ,GAAA,EAAME,KAAP,KAAazF,EAAE1G,MACf,kBAACiM,GAAA,EAAME,KAAP,KAAY,kBAAC,GAAD,CAAOL,IAAKpF,EAAEgT,eAC1B,kBAACzN,GAAA,EAAME,KAAP,KAAazF,EAAEhG,iBACf,kBAACuL,GAAA,EAAME,KAAP,KAAazF,EAAEiW,UACf,kBAAC1Q,GAAA,EAAME,KAAP,KAAY,kBAAC,GAAD,CAAOL,IAAKpF,EAAE+S,aAC1B,kBAACxN,GAAA,EAAME,KAAP,KAAY,kBAAC,GAAD,CAAOL,IAAKpF,EAAEiW,SAAWjW,EAAE+S,kBAInD,kBAACxN,GAAA,EAAM6L,OAAP,KACI,kBAAC7L,GAAA,EAAMmF,WAAP,CAAkBwG,QAAS,GAA3B,UAAqC,kBAAC,GAAD,CAAO9L,IAAK8Q,SC7DtD,SAASE,GAAT,GAAyD,IAA3BC,EAA0B,EAA1BA,UAAWC,EAAe,EAAfA,YAAe,EACrCnkB,oBAAS,GAD4B,mBAC5DiC,EAD4D,KACnDsE,EADmD,OAEjCvG,oBAAS,GAFwB,mBAE5DiU,EAF4D,KAEjDC,EAFiD,OAItBzB,qBAAWyO,IAAhDE,EAJ2D,EAI3DA,cAAeE,EAJ4C,EAI5CA,kBAEjB8C,EAAiB,uCAAG,sBAAA7jB,EAAA,6DACtBgG,GAAW,GADW,SAEhB+a,IAFgB,OAGtB/a,GAAW,GAHW,2CAAH,qDAMvB,OAAO,kBAAC+N,GAAA,EAAD,CACH+P,oBAAoB,EACpB5P,QACI,kBAACvH,EAAA,EAAD,CACI9K,GAAG,gBACHkB,MAAM,OACN2J,SAAmC,IAAzBmU,EAAc/f,OACxB+L,QAAS,kBAAM8G,GAAa,KAJhC,uBAQJM,KAAMP,EACNqQ,QAAS,kBAAMpQ,GAAa,IAC5BK,OAAK,EAAChQ,MAAO,CAAEoa,UAAW,SAC1B,kBAACta,GAAA,EAAD,0CACA,kBAACiQ,GAAA,EAAMtI,QAAP,KACI,2BAAG,+FACH,4BACKoV,EAAczf,KAAI,SAAAkM,GACf,OAAO,wBAAIxD,IAAKwD,EAAEkT,UAAWlT,EAAE1G,KAAxB,MAAiC0G,EAAE5F,SAAnC,IAA8C4F,EAAE7F,IAAIa,cAApD,SAGf,6BACI,2BAAG,sDACH,4BACKqb,EAAY,EAAI,4BAAI,kBAAC,GAAD,CAAOjR,IAAKiR,IAAhB,uBAAwD,KACxEC,EAAc,EAAI,4BAAI,kBAAC,GAAD,CAAOlR,IAAKkR,IAAhB,oBAAuD,QAItF,kBAAC7P,GAAA,EAAMK,QAAP,KACI,kBAACzH,EAAA,EAAD,CAAQqH,OAAK,EAACjR,MAAM,MAAMoR,UAAQ,EAACtH,QAAS,kBAAM8G,GAAa,KAA/D,UACA,kBAAChH,EAAA,EAAD,CACI9K,GAAG,gBACHkB,MAAM,QACNoR,UAAQ,EACRzS,QAASA,EACTgL,SAAUhL,EACVmL,QAASgX,GANb,Y,6eCxCZ,IAAMG,GAAUxe,IAAOuP,IAAV,MAOPkP,GAAUze,IAAOuP,IAAV,MAQPmP,GAAiB1e,YAAO2e,KAAUjhB,MAAjBsC,CAAH,MAIdkd,GAAqB,OAArBA,GAAqC,SAE5B,SAAS0B,KAAuB,IACnCnE,EAAiByC,GAAXxC,EAAWwC,GADiB,EAEAjjB,oBAAS,GAFT,mBAEnC4kB,EAFmC,KAEpBC,EAFoB,OAGLpS,qBAAWyO,IAAxCE,EAHkC,EAGlCA,cAAeY,EAHmB,EAGnBA,UAGjBsB,EAAiB,kBAAMuB,GAAiB,IAOxCX,EAAY9C,EAAcxN,QAAO,SAACC,EAAKmE,GAEzC,OAAOnE,GADOmE,EAAKiJ,YAAcT,EAAOxI,EAAK4I,UAAY,KAE1D,GAEGuD,EAAc/C,EAAcxN,QAAO,SAACC,EAAKmE,GAE3C,OAAOnE,GADSmE,EAAKiJ,YAAcR,EAASzI,EAAK8I,YAAc,KAEhE,GAEH,OAAO,kBAAClV,EAAA,EAAD,KACH,kBAAC2Y,GAAD,KACI,kBAACC,GAAD,KACI,kBAACtX,EAAA,EAAOpB,MAAR,KACI,kBAACoB,EAAA,EAAD,CAAQ9K,GAAG,kBAAkBgL,QAAS,kBAAM4U,EAAUiB,MAAtD,mBACA,kBAAC/V,EAAA,EAAO4X,GAAR,MACA,kBAAC5X,EAAA,EAAD,CAAQ9K,GAAG,oBAAoBgL,QAAS,kBAAM4U,EAAUiB,MAAxD,sBAEJ,kBAAC3O,GAAA,EAAD,CACIE,KAAMoQ,EACNnQ,QACI,kBAACvH,EAAA,EAAD,CACI5J,MAAO4gB,EAAY,EAAI,QAAU,KACjCjX,SAAwB,IAAdiX,EACV9W,QAhCF,kBAAMyX,GAAiB,KA6BzB,yBAOJ,kBAACvQ,GAAA,EAAMtI,QAAP,KACI,kBAACoX,GAAD,CACIhC,cAAeA,EACfkC,eAAgBA,KAExB,kBAAChP,GAAA,EAAMK,QAAP,KACI,kBAACzH,EAAA,EAAD,CAAQE,QAvCE,WAC1ByX,GAAiB,GCMV,WACX,IAAME,EAAaC,SAASC,eAAe,eACrCC,EAAQ/P,OAAOX,KAAK,GAAI,UAC9B0Q,EAAMF,SAASxQ,OACf0Q,EAAMF,SAASG,MAAf,UACAD,EAAMF,SAASG,MAAf,UACAD,EAAMF,SAASG,MAAf,8BACAD,EAAMF,SAASG,MAAf,iBApDY,ioBAoDZ,aACAD,EAAMF,SAASG,MAAf,WACAD,EAAMF,SAASG,MAAf,kCACAD,EAAMF,SAASG,MAAf,UAAwBJ,EAAWK,YACnCF,EAAMF,SAASG,MAAf,WACAD,EAAMF,SAASG,MAAf,WACAD,EAAMF,SAASK,QDlBXC,IAqCwDhiB,MAAM,QAA9C,gBACA,kBAAC4J,EAAA,EAAD,CAAQE,QAASkW,GAAjB,aAIZ,kBAACkB,GAAD,KACI,kBAAC5Y,EAAA,EAAD,KACI,6BACI,kBAAC8Y,GAAA,EAAD,CAAWnf,KAAK,QACZ,kBAACkf,GAAD,iBACA,kBAACC,GAAA,EAAUa,MAAX,CAAiBnjB,GAAG,cAAa,kBAAC,GAAD,CAAO6Q,IAAKiR,MAEjD,kBAACQ,GAAA,EAAD,CAAWnf,KAAK,QACZ,kBAACkf,GAAD,mBACA,kBAACC,GAAA,EAAUa,MAAX,CAAiBnjB,GAAG,gBAAe,kBAAC,GAAD,CAAO6Q,IAAKkR,OAGvD,kBAACF,GAAD,CACIC,UAAWA,EACXC,YAAaA,QE3FtB,SAASqB,GAAT,GAAmC,IAAVlY,EAAS,EAATA,MACpC,OAAO,kBAAC,IAAM9J,SAAP,KACF8J,EAAMjM,OAAS,GAAK,kBAAC+R,GAAA,EAAD,CAAOhP,SAAO,EAACmB,KAAK,SACrC,kBAAC6N,GAAA,EAAMyB,KAAP,CAAYlR,UAAU,wBACjB2J,EAAM3L,KAAI,SAAA6F,GAAS,IACRL,EAAuGK,EAAvGL,KAAMsB,EAAiGjB,EAAjGiB,aAAcT,EAAmFR,EAAnFQ,IAAKE,EAA8EV,EAA9EU,OAAQ0Y,EAAsEpZ,EAAtEoZ,UAAWE,EAA2DtZ,EAA3DsZ,YAAajZ,EAA8CL,EAA9CK,gBAAiBkZ,EAA6BvZ,EAA7BuZ,SAAUE,EAAmBzZ,EAAnByZ,UAAWvZ,EAAQF,EAARE,IACvG,OAAO,kBAACwb,GAAD,CACH/b,KAAMA,EACNsB,aAAcA,EACdT,IAAKA,EACLE,OAAQA,EACR0Y,UAAWA,EACXE,YAAaA,EACbjZ,gBAAiBA,EACjBkZ,SAAUA,EACVE,UAAWA,EACXvZ,IAAKA,EACL2C,IAAK0W,SAMpBzT,EAAMjM,OAAS,GAAK,kBAACsjB,GAAD,OCpBd,SAASc,KAAa,IAAD,EAM5BhT,qBAAWyO,IAJX1T,EAF4B,EAE5BA,cACA4T,EAH4B,EAG5BA,cACAxgB,EAJ4B,EAI5BA,mBACAyhB,EAL4B,EAK5BA,mBAQJ,OAJA5b,qBAAU,WACN,OAAO,kBAAM4b,OACd,IAEI,kBAAC,IAAM7e,SAAP,KACH,kBAAC1D,EAAD,CAAWc,mBAAoBA,IAC/B,6BACA,kBAACiW,GAAA,EAAD,CAAME,WAAW,GACb,kBAACF,GAAA,EAAKxD,IAAN,KACI,kBAACwD,GAAA,EAAKI,OAAN,CAAaC,MAAM,MACf,kBAAC7S,GAAA,EAAD,CAAQ4H,GAAG,KAAK1H,MAAO,CAAE6Q,QAAS,iBAAlC,eAEA,kBAACtH,GAAA,EAAD,MAEA,kBAACkV,GAAD,CAAoBtE,QAASlR,EAAcnM,QAA3C,oCAIA,kBAAC,GAAD,OAEJ,kBAACwV,GAAA,EAAKI,OAAN,CAAaC,MAAM,KACf,kBAAC7S,GAAA,EAAD,CAAQ4H,GAAG,KAAK1H,MAAO,CAAE6Q,QAAS,iBAAlC,WACCgM,EAAc/f,OAAS,GACpB,kBAACgD,GAAA,EAAD,CAAQgQ,QAAQ,QAAQ9P,MAAO,CAAE6Q,QAAS,iBAA1C,gBAA0EgM,EAAc/f,QAG5F,kBAACyM,GAAA,EAAD,MAEA,kBAACkV,GAAD,CAAoBtE,QAAS0C,EAAc/f,QAA3C,wCAIA,kBAACmkB,GAAD,CAAelY,MAAO8T,Q,wBCzC3B,SAASsE,KAAU,MAEA1lB,oBAAS,GAFT,mBAEvBiC,EAFuB,KAEdsE,EAFc,KAqQ9B,OAjQAE,qBAAU,WACN,sBAAC,0DAAAlG,EAAA,6DACGgG,GAAW,GADd,SAG0BjF,IAAMC,IAAIlC,iBAHpC,gBAGWoC,EAHX,EAGWA,KACAkkB,EAAkClkB,EAAlCkkB,WAAYC,EAAsBnkB,EAAtBmkB,kBAEdC,EAAa3kB,IAAEwiB,QAAQiC,GAAY,SAAAtU,GAAC,OAAI4G,KAAO5G,EAAEhC,UAAUyW,WAAWC,QAAQ,OAAO5N,YAErF6N,EAAmB,GACnBC,EAAoB,GACpBC,EAAe,CACjBC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,GAEDC,EAAe,GAGrBvlB,IAAEwlB,OAAOb,GAAY,SAACjZ,EAAKvC,GACvB2b,EAAiB3b,GAAOuC,EAAIgH,QAAO,SAACC,EAAKmE,GAAN,OAAenE,EAAMmE,EAAK3I,UAAUsE,QAAO,MAIlFzS,IAAEwlB,OAAOb,GAAY,SAACjZ,EAAKvC,GACvB4b,EAAkB5b,GAAOuC,EAAIgH,QAAO,SAACC,EAAKmE,GAAN,OAAenE,EAAMmE,EAAK3I,UAAUsE,QAAO,GAAK/G,EAAIvL,UAItFiM,EAAQ,GACdqY,EAAWzD,SAAQ,SAAA7Q,GAAC,OAAI/D,EAAMyC,KAAN,MAAAzC,EAAK,aAAS+D,EAAEmH,eACxClL,EAAM4U,SAAQ,SAAArU,GACNA,EAAExG,OAAS,IAAOwG,EAAExG,MAAQ,IAAG6e,EAAa,IAAMrY,EAAEjG,WACpDiG,EAAExG,OAAS,GAAKwG,EAAExG,MAAQ,IAAG6e,EAAa,IAAMrY,EAAEjG,WAClDiG,EAAExG,OAAS,GAAKwG,EAAExG,MAAQ,KAAI6e,EAAa,IAAMrY,EAAEjG,WACnDiG,EAAExG,OAAS,IAAMwG,EAAExG,MAAQ,KAAI6e,EAAa,IAAMrY,EAAEjG,WACpDiG,EAAExG,OAAS,IAAMwG,EAAExG,MAAQ,KAAI6e,EAAa,IAAMrY,EAAEjG,WACpDiG,EAAExG,OAAS,KAAI6e,EAAa,IAAMrY,EAAEjG,cAI5C0F,EAAM4U,SAAQ,SAAArU,GACN4Y,EAAa5Y,EAAE3F,QACfue,EAAa5Y,EAAE3F,SAAW2F,EAAEjG,UAE5B6e,EAAa5Y,EAAE3F,QAAU2F,EAAEjG,aAK7B+e,EAAiB,CAAEC,SAAU,EAAGC,YAAa,GAEnDjB,EAAkB1D,SAAQ,SAAArU,GACtB,IAAMiZ,EAAUjZ,EAAEjG,UAEbiG,EAAEkZ,aAEuB,UAA1BlZ,EAAEkZ,WAAWH,SACbD,EAAeC,UAAYE,EAE3BH,EAAeE,aAAeC,MAKhCE,EAA4B7V,OAAOC,QAAQ4U,GAAkBrkB,KAAI,SAAAC,GAAE,MAAI,CAAC,IAAIqlB,KAAKrlB,EAAG,IAAIslB,UAAWtlB,EAAG,OAEtGulB,EAA6BhW,OAAOC,QAAQ6U,GAAmBtkB,KAAI,SAAAC,GAAE,MAAI,CAAC,IAAIqlB,KAAKrlB,EAAG,IAAIslB,UAAWtlB,EAAG,OAExGwlB,EAAwBjW,OAAOC,QAAQ8U,GAAcvkB,KAAI,SAAA0P,GAAC,OAAIA,EAAE,MAEhEgW,EAAwBlW,OAAOC,QAAQqV,GAAc9kB,KAAI,SAAA0P,GAAC,MAAK,CAAElK,KAAMkK,EAAE,GAAIiW,EAAGjW,EAAE,OAElFkW,EAAsBpW,OAAOC,QAAQuV,GAAgBhlB,KAAI,SAAA0P,GAAC,MAAK,CAAElK,KAAMkK,EAAE,GAAIiW,EAAGjW,EAAE,OAExF9K,GAAW,GAEXihB,KAAWC,WAAW,CAClBlf,KAAM,CACFmf,aAAc,OAItBF,KAAWG,MAAM,cAAe,CAC5BA,MAAO,CACHC,SAAU,KAEd/mB,MAAO,CACHyJ,KAAM,mBAEVud,SAAU,CACNvd,KAAM,0BAEVwd,QAAS,CACLC,SAAS,GAEbC,MAAO,CACHvb,KAAM,WACN5L,MAAO,CACHyJ,KAAM,SAGd2d,MAAO,CACHpnB,MAAO,CACHyJ,KAAM,YAGd4d,OAAQ,CACJH,SAAS,GAEbI,OAAQ,CAAC,CACL1b,KAAM,SACNhL,KAAMulB,EACN7f,KAAM,cACNihB,QAAS,CACLC,cAAe,IAEpB,CACC5b,KAAM,SACNhL,KAAM0lB,EACNhgB,KAAM,gBACNihB,QAAS,CACLC,cAAe,OAK3Bb,KAAWG,MAAM,gBAAiB,CAC9BA,MAAO,CACHlb,KAAM,OAEV5L,MAAO,CACHyJ,KAAM,8BAEVud,SAAU,CACNvd,KAAM,YAEV2d,MAAO,CACHK,IAAK,EACLznB,MAAO,CACHyJ,KAAM,gBAGd0d,MAAO,CACHO,WAAY,CACR,gBACA,gBACA,gBACA,kBACA,kBACA,aAGRC,YAAa,CACTC,IAAK,CACDC,WAAY,CACRX,SAAS,KAIrBG,OAAQ,CACJH,SAAS,GAEbD,QAAS,CACLC,SAAS,GAEbI,OAAQ,CAAC,CACLhhB,KAAM,cACN1F,KAAM2lB,MAIdI,KAAWG,MAAM,eAAgB,CAC7BA,MAAO,CACHgB,oBAAqB,KACrBC,gBAAiB,KACjBC,WAAY,KACZpc,KAAM,OAEV5L,MAAO,CACHyJ,KAAM,yBAEVud,SAAU,CACNvd,KAAM,YAEVke,YAAa,CACTM,IAAK,CACDJ,WAAY,CACRX,SAAS,EACT5P,OAAQ,kDACR4Q,UAAW,GACXvF,OAAQ,CACJwF,SAAU,aACVC,SAAU,IACV7nB,MAAO,IAGfgH,OAAQ,CAAC,UAAW,UAAW,UAAW,aAGlD8f,OAAQ,CACJH,SAAS,GAEbD,QAAS,CACLC,SAAS,GAEbI,OAAQ,CAAC,CACLhhB,KAAM,aACN1F,KAAM4lB,MAIdG,KAAWG,MAAM,oBAAqB,CAClCA,MAAO,CACHgB,oBAAqB,KACrBC,gBAAiB,KACjBC,WAAY,KACZpc,KAAM,OAEV5L,MAAO,CACHyJ,KAAM,kCAEVud,SAAU,CACNvd,KAAM,YAEVke,YAAa,CACTM,IAAK,CACDJ,WAAY,CACRX,SAAS,EACT5P,OAAQ,kDACR4Q,UAAW,GACXvF,OAAQ,CACJwF,SAAU,aACVC,SAAU,IACV7nB,MAAO,IAGfgH,OAAQ,CAAC,UAAW,UAAW,UAAW,aAGlD8f,OAAQ,CACJH,SAAS,GAEbD,QAAS,CACLC,SAAS,GAEbI,OAAQ,CAAC,CACLhhB,KAAM,aACN1F,KAAM8lB,MA1PjB,2CAAD,KA8PD,IAGC,kBAAC,IAAM/jB,SAAP,KACI,kBAACoI,EAAA,EAAD,CAASiT,WAAS,GACd,kBAAC3X,EAAA,EAAD,CAAMC,KAAK,uBAAuB7D,MAAM,SAD5C,2IAIA,kBAACsI,EAAA,EAAD,CAAS3J,QAASA,GACd,yBAAKG,GAAG,cAAcmC,MAAO,CAAE2S,MAAO,OAAQsC,OAAQ,YAE1D,kBAAC3C,GAAA,EAAD,CAAMC,QAAS,EAAGC,WAAW,GACzB,kBAACF,GAAA,EAAKI,OAAN,KACI,kBAACrL,EAAA,EAAD,CAAS3J,QAASA,GACd,yBAAKG,GAAG,gBAAgBmC,MAAO,CAAE2S,MAAO,OAAQsC,OAAQ,aAGhE,kBAAC3C,GAAA,EAAKI,OAAN,KACI,kBAACrL,EAAA,EAAD,CAAS3J,QAASA,GACd,yBAAKG,GAAG,eAAemC,MAAO,CAAE2S,MAAO,OAAQsC,OAAQ,aAG/D,kBAAC3C,GAAA,EAAKI,OAAN,KACI,kBAACrL,EAAA,EAAD,CAAS3J,QAASA,GACd,yBAAKG,GAAG,oBAAoBmC,MAAO,CAAE2S,MAAO,OAAQsC,OAAQ,e,0tBChSpF,IAAM0P,GAAOnjB,IAAOmL,EAAV,MAMJ7L,GAAQU,IAAOojB,IAAV,MAILnd,GAAUjG,IAAOuP,IAAV,MAIPkJ,GAAYzY,IAAOuP,IAAV,MAaA,SAAS8T,GAAT,GAAqD,IAArCC,EAAoC,EAApCA,SAAUvlB,EAA0B,EAA1BA,OAAQwlB,EAAkB,EAAlBA,KAAMxY,EAAY,EAAZA,SACnD,OAAO,kBAAC,GAAD,KACH,kBAAC,GAAD,CAAOxL,IAAK+jB,IACZ,kBAACrd,GAAD,KACI,4BAAI,2BAAIlI,IACR,2BAAG,4BAAKwlB,IACR,kBAACJ,GAAD,KAAOpY,K,40JCzBnB,IAAM8H,GAAU7S,IAAOuP,IAAV,MAMPiU,GAAcxjB,IAAOuP,IAAV,MAQXkU,GAAmBzjB,IAAOuP,IAAV,MAWhBjQ,GAAQU,IAAOuP,IAAV,KACWmU,MAUhBC,GAAS3jB,IAAOuP,IAAV,KACUmU,MAUhBE,GAAY5jB,IAAOuP,IAAV,MAUTsU,GAAa7jB,IAAOuP,IAAV,MASVxH,GAAU/H,IAAOuP,IAAV,MAMPiP,GAAUxe,IAAOuP,IAAV,MAMPuU,GAAoB9jB,YAAOwe,GAAPxe,CAAH,MASjB+jB,GAAY/jB,IAAOgkB,KAAV,MAITC,GAAajkB,IAAOuP,IAAV,MAMV2U,GAASlkB,IAAOmkB,GAAV,MAUN7lB,GAAS0B,IAAOmL,EAAV,MAUN0I,GAAY7T,IAAOmL,EAAV,MAGF,SAACnR,GAAD,OAAWA,EAAMuD,OAAS,WAQjC4J,GAASnH,IAAOokB,OAAV,MAoBNtT,GAAO9Q,IAAOuP,IAAV,MAWJ8U,GAAarkB,YAAOmB,IAAPnB,CAAH,MAKVskB,GAAatkB,YAAOmB,IAAPnB,CAAH,MAIVukB,GAAWvkB,IAAOmL,EAAV,MACG,SAAAnR,GAAK,OAAIA,EAAMwF,MAAQ,UAC3B,SAAAxF,GAAK,OAAIA,EAAMuD,OAAS,WACnB,SAAAvD,GAAK,MAAoB,WAAhBA,EAAMwqB,MAAqB,SAAW,UAG3DC,GAASzkB,IAAOuP,IAAV,MAEE,SAAAvV,GAAK,OAAIA,EAAMyZ,QAAU,KAGjCiR,GAAc1kB,IAAOuP,IAAV,MAYXoV,GAAc3kB,IAAOuP,IAAV,MAMXqV,GAAc,SAAC,GAAuE,IAAD,IAApE5c,YAAoE,MAA7D,QAA6D,MAApDjK,cAAoD,MAA3C,SAA2C,MAAjC8mB,eAAiC,MAAvB,UAAuB,EAAZL,EAAY,EAAZA,MAC3E,OAAO,kBAACP,GAAD,KACH,kBAACI,GAAD,CAAY3W,UAAQ,EAACtM,KAAM4G,EAAMxI,KAAK,SACtC,kBAACqU,GAAD,KAAY9V,GACZ,kBAACwmB,GAAD,CAAUhnB,MAAM,OAAOinB,MAAOA,GACzBK,KAKPC,GAAW,SAAC,GAAuE,IAAD,IAApE9c,YAAoE,MAA7D,QAA6D,MAApDjK,cAAoD,MAA3C,SAA2C,MAAjC8mB,eAAiC,MAAvB,UAAuB,EAAZL,EAAY,EAAZA,MACxE,OAAO,kBAACP,GAAD,KACH,kBAAC9iB,EAAA,EAAD,CAAMC,KAAM4G,EAAMxI,KAAK,QACvB,kBAACqU,GAAD,KAAY9V,GACZ,kBAACwmB,GAAD,CAAUhnB,MAAM,OAAOinB,MAAOA,GACzBK,KAKE,SAASE,KACpB,OAAO,kBAAC,GAAD,KACH,kBAACvB,GAAD,KACI,kBAACC,GAAD,KACI,kBAACkB,GAAD,KACI,6BACI,uBAAGK,KAAK,6BAA6BzoB,OAAO,SAAS0oB,IAAI,uBACrD,kBAACX,GAAD,CAAYY,MAAI,EAAC9jB,KAAK,UAAU5B,KAAK,SAEzC,uBAAGwlB,KAAK,yCAAyCzoB,OAAO,SAAS0oB,IAAI,uBACjE,kBAACX,GAAD,CAAYY,MAAI,EAAC9jB,KAAK,WAAW5B,KAAK,WAIlD,kBAACilB,GAAD,CAAQhR,OAAO,OACf,kBAAC,GAAD,KACI,kBAACyQ,GAAD,8BAA8B,0BAAMiB,KAAK,MAAMC,aAAW,YAA5B,iBAC9B,kBAACvR,GAAD,CAAWtW,MAAM,SAAjB,mGACA,kBAACumB,GAAD,KAII,kBAAC,KAAD,CAAMzJ,GAAG,qBACL,kBAAC,GAAD,KAAQ,8CAGhB,kBAACuJ,GAAD,MACA,kBAAC,GAAD,OAGJ,kBAAC,GAAD,KACI,kBAAC,GAAD,qBAEJ,kBAACa,GAAD,CAAQhR,OAAO,OACf,kBAAC,GAAD,KACI,kBAAC4P,GAAD,CAAMC,SAAU+B,KACZtnB,OAAO,yBACPwlB,KAAK,cACL,6LAGA,4BACI,+DACA,oEACA,yEACA,yEAGR,kBAACF,GAAD,CAAMC,SAAUgC,KACZvnB,OAAO,+BACPwlB,KAAK,cACL,wMAIJ,kBAACF,GAAD,CAAMC,SAAUiC,KACZxnB,OAAO,uBACPwlB,KAAK,cACL,wMAIJ,kBAACF,GAAD,CAAMC,SAAUkC,KACZznB,OAAO,oBACPwlB,KAAK,cACL,mOAGA,ofAMR,kBAACkB,GAAD,CAAQhR,OAAO,OAEf,kBAAC,GAAD,KACI,kBAACgR,GAAD,CAAQhR,OAAO,OACf,kBAAC,GAAD,KACI,kBAAC,GAAD,sBAEJ,kBAAC,GAAD,KACI,kBAACI,GAAD,4CAEJ,kBAAC4Q,GAAD,CAAQhR,OAAO,OACf,kBAAC,GAAD,KACI,kBAAC,GAAD,CACIzL,KAAK,MACLjK,OAAO,0BACP8mB,QAAQ,2HACRL,MAAM,WAEV,kBAAC,GAAD,CACIzmB,OAAO,sBACP8mB,QAAQ,kHACRL,MAAM,WAEV,kBAAC,GAAD,CACIxc,KAAK,cACLjK,OAAO,2BACP8mB,QAAQ,yIACRL,MAAM,YAGd,kBAACX,GAAD,MACA,kBAACF,GAAD,OAEJ,kBAACc,GAAD,CAAQhR,OAAO,OACf,kBAAC,GAAD,KACI,kBAAC,GAAD,CACIzL,KAAK,QACLjK,OAAO,QACP8mB,QAAQ,+CACRL,MAAM,WAEV,kBAAC,GAAD,CACIxc,KAAK,iBACLjK,OAAO,WACP8mB,QAAQ,8CACRL,MAAM,WAEV,kBAAC,GAAD,CACIxc,KAAK,QACLjK,OAAO,UACP8mB,QAAQ,oBAGhB,kBAACJ,GAAD,CAAQhR,OAAO,SAGvB,kBAACiR,GAAD,KACI,kBAACX,GAAD,KACI,kBAAC,KAAD,CAAM1J,GAAG,SAAShe,GAAG,aACjB,kBAACqB,EAAA,EAAD,CAAOwI,GAAG,IAAI3I,MAAM,SAApB,iBAGR,kBAACwmB,GAAD,KAAW,kBAACQ,GAAD,CAAU/kB,KAAK,OAAOjC,MAAM,SAA5B,4BACX,kBAACwmB,GAAD,KAAW,kBAACQ,GAAD,CAAU/kB,KAAK,OAAOjC,MAAM,QAA5B,0B,mRC/VvB,IAAMkmB,GAAmBzjB,IAAOuP,IAAV,MAMhBkW,GAAkBzlB,IAAOuP,IAAV,MAKN,SAASmW,KACpB,OAAO,kBAAC,IAAD,KACH,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWd,KACjC,kBAACU,GAAD,KACI,kBAAC,GAAD,CAAkBppB,GAAG,qBACjB,kBAAC,IAAD,CAAOspB,OAAK,EAACC,KAAK,oBAAoBC,UAAWre,KACjD,kBAAC,IAAD,CAAOme,OAAK,EAACC,KAAK,YAAYC,UAAWtc,KACzC,kBAAC,IAAD,CAAOoc,OAAK,EAACC,KAAK,gBAAgBC,UAAWnT,KAC7C,kBAAC,IAAD,CAAOiT,OAAK,EAACC,KAAK,oBAAoBC,UAAWrO,KACjD,kBAAC,IAAD,CAAOmO,OAAK,EAACC,KAAK,oBAAoBC,UAAWjS,KACjD,kBAAC,IAAD,CAAO+R,OAAK,EAACC,KAAK,aAAaC,UAAWnG,KAC1C,kBAAC,IAAD,CAAOiG,OAAK,EAACC,KAAK,WAAWC,UAAWlG,KACxC,kBAAC,IAAD,CAAOgG,OAAK,EAACC,KAAK,SAASC,UAAW3L,KACtC,kBAAC,IAAD,CAAOyL,OAAK,EAACC,KAAK,UAAUC,UAAWtL,Q,yBChCjD/b,GAAQ,CACV6X,WAAY,oCACZ5X,UAAW,+BAGf,SAASH,GAAOtE,GAAQ,IACZqf,EAAa3M,qBAAWyM,IAAxBE,SACAyM,EAAa9rB,EAAM+rB,SAAnBD,SAER,OAAO,kBAAC7M,GAAA,EAAD,CAAMtK,UAAQ,EAACqX,MAAM,MAAMxnB,MAAOA,IACrC,kBAACya,GAAA,EAAKnT,KAAN,CAAWI,GAAI+f,KAAMC,SAAO,EAAC7L,GAAG,KAC5B,yBAAK9a,IAAK4mB,KAAU3nB,MAAO,CAAE4nB,YAAa,OAASC,IAAI,SACvD,8BAAM,sDAEV,kBAACpN,GAAA,EAAKA,KAAN,CAAW1a,SAAS,SAChB,kBAAC0a,GAAA,EAAKnT,KAAN,CAAW6S,OAAqB,sBAAbmN,EAAkCvnB,SAAS,QAAQ2H,GAAI+f,KAAMC,SAAO,EAAC7L,GAAG,qBAA3F,UAGChB,GAAY,kBAAC1M,GAAA,EAAD,CAAU2Z,MAAI,EAACte,KAAK,QAC7B,kBAAC2E,GAAA,EAASsM,KAAV,KACI,kBAACtM,GAAA,EAAS7G,KAAV,CAAe6S,OAAqB,sBAAbmN,EAAkC5f,GAAI+f,KAAMC,SAAO,EAAC7L,GAAG,qBAC1E,kBAAClZ,EAAA,EAAD,CAAMC,KAAK,OAAO7D,MAAM,SAD5B,oBAGA,kBAACoP,GAAA,EAAS7G,KAAV,CAAe6S,OAAqB,cAAbmN,EAA0B5f,GAAI+f,KAAMC,SAAO,EAAC7L,GAAG,aAClE,kBAAClZ,EAAA,EAAD,CAAMC,KAAK,cAAc7D,MAAM,SADnC,YAGA,kBAACoP,GAAA,EAAS7G,KAAV,CAAe6S,OAAqB,eAAbmN,EAA2B5f,GAAI+f,KAAMC,SAAO,EAAC7L,GAAG,cACnE,kBAAClZ,EAAA,EAAD,CAAMC,KAAK,yBAAyB7D,MAAM,SAD9C,aAIA,kBAACoP,GAAA,EAAS5E,QAAV,MAEA,kBAAC4E,GAAA,EAAS7G,KAAV,CAAe6S,OAAqB,sBAAbmN,EAAkC5f,GAAI+f,KAAMC,SAAO,EAAC7L,GAAG,qBAC1E,kBAAClZ,EAAA,EAAD,CAAMC,KAAK,MAAM7D,MAAM,SAD3B,oBAGA,kBAACoP,GAAA,EAAS7G,KAAV,CAAe6S,OAAqB,kBAAbmN,EAA8B5f,GAAI+f,KAAMC,SAAO,EAAC7L,GAAG,iBACtE,kBAAClZ,EAAA,EAAD,CAAMC,KAAK,MAAM7D,MAAM,SAD3B,gBAGA,kBAACoP,GAAA,EAAS7G,KAAV,CAAe6S,OAAqB,aAAbmN,EAAyB5f,GAAI+f,KAAMC,SAAO,EAAC7L,GAAG,YACjE,kBAAClZ,EAAA,EAAD,CAAMC,KAAK,YAAY7D,MAAM,SADjC,oBAIA,kBAACoP,GAAA,EAAS5E,QAAV,MAEA,kBAAC4E,GAAA,EAAS7G,KAAV,CAAe6S,OAAqB,YAAbmN,EAAwB5f,GAAI+f,KAAMC,SAAO,EAAC7L,GAAG,WAChE,kBAAClZ,EAAA,EAAD,CAAMC,KAAK,UAAU7D,MAAM,SAD/B,eASLgpB,oBAAW,SAAAvsB,GAAK,OAAI,kBAAC,GAAWA,MCrChCwsB,G,iLAbP,OACI,kBAACpN,GAAD,KACI,kBAAC,GAAD,MACA,kBAAC,GAAD,KACI,kBAACgC,GAAD,KACI,kBAACsK,GAAD,a,GAPN7lB,IAAMC,WCKJ2mB,QACW,cAA7BrX,OAAO2W,SAASW,UAEe,UAA7BtX,OAAO2W,SAASW,UAEhBtX,OAAO2W,SAASW,SAASC,MACvB,2D,OCVNC,IAASC,OACL,kBAAC,KAAD,CAAYC,SAAS,KACjB,kBAAC,GAAD,OAEJ7H,SAASC,eAAe,SDqHtB,kBAAmB6H,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,kB","file":"static/js/main.655b3875.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/clubhouse_products.2a94c562.png\";","module.exports = __webpack_public_path__ + \"static/media/ikoria_splash.027133ef.jpg\";","module.exports = __webpack_public_path__ + \"static/media/core_2021_draft_booster.dcb6da2f.png\";","module.exports = __webpack_public_path__ + \"static/media/core_2021_collector.36289244.jpg\";","// Maps all GCF and Scryfall API endpoints for code re-use\nconst { REACT_APP_ENVIRONMENT } = process.env;\n\n/**\n * Check the environment for dev - if dev, we reach out\n * to all endpoints appended by `_test` instead of production\n */\nconst env = REACT_APP_ENVIRONMENT === 'development' ? '_test' : '';\n\nconst endpoints = {\n    FINISH_SALE:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/finishSale${env}`,\n    ADD_CARD_TO_INVENTORY:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/addCardToInventory${env}`,\n    RECEIVE_CARDS:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/receiveCards${env}`,\n    GET_INVENTORY_QUERY:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/inventorySearchQuery${env}`,\n    GET_SALES_BY_TITLE:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/getSales${env}`,\n    GET_SCRYFALL_BULK_BY_TITLE:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/getScryfallBulkCardsByTitle${env}`,\n    GET_CARDS_BY_FILTER:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/getCardsByFilter${env}`,\n    GET_SET_NAMES:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/getCardsByFilter${env}/set_names`,\n    SUSPEND_SALE:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/suspendSale${env}`,\n    LOGIN:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/getJwt${env}`,\n    GET_ALL_SALES:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/getSales${env}/sales`,\n    GET_CARDS_WITH_INFO:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/getCardsWithInfo${env}`,\n    SCRYFALL_AUTOCOMPLETE: 'https://api.scryfall.com/cards/autocomplete',\n    SCRYFALL_SEARCH: 'https://api.scryfall.com/cards/search',\n    GET_LIVE_PRICE: `https://us-central1-clubhouse-collection.cloudfunctions.net/getPriceFromTcg${env}`\n};\n\nmodule.exports = endpoints;\n","module.exports = __webpack_public_path__ + \"static/media/double_masters.26445b43.png\";","module.exports = __webpack_public_path__ + \"static/media/magic-ball.c3fcddd6.png\";","/**\n * This function is a helper for Axios, it yields an object for Axios params\n */\nexport default function makeAuthHeader() {\n    const header = { Authorization: `Bearer ${localStorage.getItem('clubhouse_JWT')}` };\n    return header;\n}","import React, { useState } from 'react';\nimport { Search } from 'semantic-ui-react';\nimport _ from 'lodash';\nimport axios from 'axios';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport { SCRYFALL_AUTOCOMPLETE } from '../utils/api_resources';\nimport $ from 'jquery';\n\nexport default function SearchBar(props) {\n    const [isLoading, setIsLoading] = useState(false);\n    const [results, setResults] = useState([]);\n\n    const handleSearchChange = (e, { value }) => { // `value` is the search input string\n        if (value.length < 1) {\n            setIsLoading(false);\n            setResults([]);\n            return;\n        }\n\n        if (value.length < 3) return; // Don't search if only 2 letters in input\n\n        setIsLoading(true);\n\n        setTimeout(async () => {\n            const { data } = await axios.get(\n                `${SCRYFALL_AUTOCOMPLETE}?q=${value}`,\n                { headers: makeAuthHeader() }\n            );\n\n            const formattedResults = data.data.map(el => ({ title: el })).slice(0, 7);\n\n            setResults(formattedResults);\n            setIsLoading(false);\n        }, 100);\n    };\n\n    const handleResultSelect = async (e, { result }) => {\n        // This line is a hacky way to get around the fact that if we just select(), then\n        // when the user manually clicks the first (or any) result in the resultlist, it does not select,\n        // presumably because there is some collision between selecting the resultList element and focusing the input\n        setTimeout(() => $('#searchBar').select(), 10);\n        try {\n            setIsLoading(true);\n            await props.handleSearchSelect(result.title);\n            setIsLoading(false);\n        } catch (e) {\n            console.log(e);\n        }\n    };\n\n    return (\n        <Search\n            onSearchChange={_.debounce(handleSearchChange, 500, { leading: false, trailing: true })}\n            onResultSelect={handleResultSelect}\n            loading={isLoading}\n            results={results}\n            placeholder=\"Search for a card\"\n            selectFirstResult={true}\n            id=\"searchBar\"\n            onFocus={e => e.target.select()}\n            onBlur={props.onBlur} // Used to clear state in the Browse Inventory feature\n        />\n    );\n}\n","import React from 'react';\nimport { Label } from 'semantic-ui-react';\nimport parseQoh from '../utils/parseQoh';\n\n// This component parses the `qoh` object from mongo into something\n// more presentable\n\n// available entries:\n// {\n//     FOIL_NM: 0,\n//     FOIL_LP: 0,\n//     FOIL_MP: 0,\n//     FOIL_HP: 0,\n//     NONFOIL_NM: 0,\n//     NONFOIL_LP: 0,\n//     NONFOIL_MP: 0,\n//     NONFOIL_HP: 0\n// };\n\nexport default function QohLabels({ inventoryQty }) {\n    const [foilQty, nonfoilQty] = parseQoh(inventoryQty);\n\n    const foilColor = {};\n    if (foilQty > 0) { foilColor.color = 'blue'; }\n\n    const nonfoilColor = {};\n    if (nonfoilQty > 0) { nonfoilColor.color = 'blue'; }\n\n    return (\n        <React.Fragment>\n            <Label {...foilColor} image className=\"foil-label\">\n                Foil\n        <Label.Detail className=\"foil-label-qty\">{foilQty}</Label.Detail>\n            </Label>\n            <Label {...nonfoilColor} image className=\"nonfoil-label\">\n                Nonfoil\n        <Label.Detail className=\"nonfoil-label-qty\">{nonfoilQty}</Label.Detail>\n            </Label>\n        </React.Fragment>\n    );\n}\n","// This function parses the `qoh` object from mongo into something more presentable\n\n// available entries:\n// {\n//     FOIL_NM: 0,\n//     FOIL_LP: 0,\n//     FOIL_MP: 0,\n//     FOIL_HP: 0,\n//     NONFOIL_NM: 0,\n//     NONFOIL_LP: 0,\n//     NONFOIL_MP: 0,\n//     NONFOIL_HP: 0\n// };\n\nexport default function parseQoh(inventoryQty) {\n    let foilQty = 0;\n    let nonfoilQty = 0;\n\n    if (inventoryQty) { // Check to see if props exist\n        foilQty =\n            (inventoryQty.FOIL_NM || 0) +\n            (inventoryQty.FOIL_LP || 0) +\n            (inventoryQty.FOIL_MP || 0) +\n            (inventoryQty.FOIL_HP || 0);\n\n        nonfoilQty =\n            (inventoryQty.NONFOIL_NM || 0) +\n            (inventoryQty.NONFOIL_LP || 0) +\n            (inventoryQty.NONFOIL_MP || 0) +\n            (inventoryQty.NONFOIL_HP || 0);\n    }\n\n    return [foilQty, nonfoilQty];\n}","import React from 'react';\nimport { Message } from 'semantic-ui-react';\nimport toaster from 'toasted-notes';\n\nconst createToast = ({ color, header, message, duration = 2000 }) => {\n    return toaster.notify(\n        () => (\n            <Message color={color} compact>\n                <Message.Header>{header}</Message.Header>\n                {message}\n            </Message>\n        ),\n        {\n            position: 'bottom-right',\n            duration: duration\n        }\n    );\n}\n\nexport default createToast;","import React from 'react';\nimport { Image } from 'semantic-ui-react';\n\nconst style = {\n    boxShadow: '2px 2px 5px 0 rgba(0,0,0,.25)',\n    zIndex: '10',\n    transition: 'all .2s ease-in-out'\n}\n\nclass CardImage extends React.Component {\n    state = { hovered: false };\n\n    mouseOver = () => { this.setState({ hovered: true }) };\n\n    mouseOut = () => { this.setState({ hovered: false }) };\n\n    render() {\n        const { image_uris, card_faces, image, hover = true } = this.props // default prop `hover` must be true\n\n        if (image) {\n            return <Image\n                src={image}\n                size=\"tiny\"\n                style={{ ...style, transform: `${this.state.hovered ? 'scale(1.75)' : 'scale(1)'}` }}\n                onMouseOver={hover ? this.mouseOver : null}\n                onMouseOut={hover ? this.mouseOut : null}\n            />;\n        }\n\n        // TODO: This is obsolete logic that should be refactored out once all components ingest the ScryfallCard class,\n        // which manages the correct image URL itself\n        try {\n            // If normal prop `image_uris.normal` doesn't exist, move to catch block for flip card faces\n            return <Image\n                src={image_uris.normal}\n                size=\"tiny\"\n                style={{ ...style, transform: `${this.state.hovered ? 'scale(1.75)' : 'scale(1)'}` }}\n                onMouseOver={hover ? this.mouseOver : null}\n                onMouseOut={hover ? this.mouseOut : null}\n            />;\n        } catch (e) {\n            return <Image src={\n                card_faces[0].image_uris.normal}\n                size=\"tiny\"\n                style={{ ...style, transform: `${this.state.hovered ? 'scale(1.75)' : 'scale(1)'}` }}\n                onMouseOver={hover ? this.mouseOver : null}\n                onMouseOut={hover ? this.mouseOut : null}\n            />;\n        }\n    }\n};\n\nexport default CardImage;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { GET_LIVE_PRICE } from '../utils/api_resources';\nimport { Label, Icon } from 'semantic-ui-react';\nimport styled from 'styled-components';\n\nconst LabelStyle = styled(Label)`\n    background-color: ${props => !!props.foil ? '#ffcfdf' : null} !important;\n    background-image: ${props => !!props.foil ? 'linear-gradient(90deg, #ffcfdf 0%, #b0f3f1 74%)' : null} !important;\n`;\n\nexport default function MarketPrice({ id, finish }) {\n    const [market, setMarket] = useState(null);\n    const [median, setMedian] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const isFoil = finish === 'FOIL';\n\n    useEffect(() => {\n        (async function fetchData() {\n            let _isMounted = true;\n            setLoading(true);\n\n            const { data } = await axios.get(GET_LIVE_PRICE, {\n                params: { scryfallId: id }\n            });\n            const { marketPrices, medianPrices } = data;\n            const MIN_PRICE = 0.5; // Management-set lowest price for each single card\n\n            if (_isMounted) { // Checks to see if the component is not mounted to squelch memory leak warnings\n                if (isFoil) {\n                    setMarket(Math.max(marketPrices.foil, MIN_PRICE));\n                    setMedian(Math.max(medianPrices.foil, MIN_PRICE));\n                } else {\n                    setMarket(Math.max(marketPrices.normal, MIN_PRICE));\n                    setMedian(Math.max(medianPrices.normal, MIN_PRICE));\n                }\n\n                setLoading(false);\n            }\n\n            return () => _isMounted = false;\n        })();\n    }, [id, finish]);\n\n    const loader = <span>Loading <Icon loading name='spinner' /></span>;\n    const displayPrice = price => !!price ? `$${price.toFixed(2)}` : 'N/A';\n\n    return <React.Fragment>\n        <LabelStyle foil={isFoil}>\n            {loading ? loader : <span>Mkt. {displayPrice(market)}</span>}\n        </LabelStyle>\n        <LabelStyle foil={isFoil}>\n            {loading ? loader : <span>Mid. {displayPrice(median)}</span>}\n        </LabelStyle>\n    </React.Fragment>\n}\n","/**\n * This class wraps the Scryfall API request data and models it to something we can control.\n * Also acts as a safeguard for any future updates to Scryfall's API data model and makes\n * the code easier to maintain and debug.\n */\nexport class ScryfallCard {\n    // Computes the proper displayName for a card, depending on its properties\n    _createDisplayName() {\n        const { name, printed_name, frame_effects, border_color, lang } = this;\n\n        if (lang !== 'en') return `${name} (${lang.toUpperCase()})`;\n\n        if ((name !== printed_name) && printed_name) { // Covers cards like Godzilla series\n            return `${name} (IP series)`;\n        } else if (frame_effects.length === 0 && border_color === 'borderless') { // Covers cards like comic-art Vivien, Monsters' Advocate\n            return `${name} (Borderless)`;\n        } else if (frame_effects.includes('showcase')) { // Covers showcase cards like comic-art Illuna, Apex of Wishes\n            return `${name} (Showcase)`;\n        } else if (frame_effects.includes('extendedart')) { // Covers cards with extended left and roght border art\n            return `${name} (Extended art)`;\n        } else {\n            return name;\n        }\n    }\n\n    _getCardImage() {\n        let myImage;\n\n        try {\n            // If normal prop doesn't exist, move to catch block for flip card faces\n            myImage = this.image_uris.normal;\n        } catch (e) {\n            myImage = this.card_faces[0].image_uris.normal;\n        }\n\n        return myImage;\n    }\n\n    constructor(card) {\n        this.id = card.id;\n        this.name = card.name;\n        this.printed_name = card.printed_name || null;\n        this.set = card.set;\n        this.set_name = card.set_name;\n        this.rarity = card.rarity;\n        this.image_uris = card.image_uris || null;\n        this.card_faces = card.card_faces || null;\n        this.nonfoil = card.nonfoil;\n        this.foil = card.foil;\n        this.colors = card.colors;\n        this.type_line = card.type_line;\n        this.frame_effects = card.frame_effects || [];\n        this.lang = card.lang || '';\n        this.border_color = card.border_color;\n        this.display_name = this._createDisplayName();\n        this.cardImage = this._getCardImage();\n    }\n}\n\n/**\n * Extends the Scryfall card object and adds properties we know exist in our database.\n * Models the data and makes writing cards to Mongo a more confident process.\n */\nexport class InventoryCard extends ScryfallCard {\n    constructor(card) {\n        super(card);\n        this._qoh = card.qoh ? card.qoh : {};\n        // `quantity` and `qtyToSell` are redundant transaction props, unify them down the line\n        this.quantity = card.quantity || null;\n        this.qtyToSell = card.qtyToSell || null;\n        this.finishCondition = card.finishCondition || null;\n        this.price = card.price >= 0 ? card.price : null;\n    }\n\n    get qohParsed() {\n        const foilQty =\n            (this._qoh.FOIL_NM || 0) +\n            (this._qoh.FOIL_LP || 0) +\n            (this._qoh.FOIL_MP || 0) +\n            (this._qoh.FOIL_HP || 0);\n\n        const nonfoilQty =\n            (this._qoh.NONFOIL_NM || 0) +\n            (this._qoh.NONFOIL_LP || 0) +\n            (this._qoh.NONFOIL_MP || 0) +\n            (this._qoh.NONFOIL_HP || 0);\n\n        return [foilQty, nonfoilQty];\n    }\n\n    get qoh() {\n        return this._qoh;\n    }\n\n    set qoh(quantities) {\n        this._qoh = quantities ? quantities : {};\n    }\n}\n","import React from 'react';\nimport { Label } from 'semantic-ui-react';\n\n// Language codes from Scryfall. See https://scryfall.com/docs/api/languages for reference.\nconst LANG_CODES = {\n    en: 'English',\n    es: 'Spanish',\n    fr: 'French',\n    de: 'German',\n    it: 'Italian',\n    pt: 'Portuguese',\n    ja: 'Japanese',\n    ko: 'Korean',\n    ru: 'Russian',\n    zhs: 'Simplified Chinese',\n    zht: 'Traditional Chinese',\n    he: 'Hebrew',\n    la: 'Latin',\n    grc: 'Ancient Greek',\n    ar: 'Arabic',\n    sa: 'Sanskrit',\n    px: 'Phyrexian'\n}\n\nexport default function Language({ languageCode }) {\n    return <Label image color=\"grey\">{LANG_CODES[languageCode]}</Label>\n}","import React, { useState } from 'react';\nimport { Segment, Input, Button, Form, Select, Label, Item } from 'semantic-ui-react';\nimport axios from 'axios';\nimport QohLabels from '../common/QohLabels';\nimport createToast from '../common/createToast';\nimport CardImage from '../common/CardImage';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport MarketPrice from '../common/MarketPrice'\nimport { ADD_CARD_TO_INVENTORY } from '../utils/api_resources';\nimport $ from 'jquery';\nimport { InventoryCard } from '../utils/ScryfallCard';\nimport Language from '../common/Language';\n\nconst finishes = [\n    { key: 'NONFOIL', text: 'Nonfoil', value: 'NONFOIL' },\n    { key: 'FOIL', text: 'Foil', value: 'FOIL' }\n];\n\nconst cardConditions = [\n    { key: 'NM', text: 'Near Mint', value: 'NM' },\n    { key: 'LP', text: 'Light Play', value: 'LP' },\n    { key: 'MP', text: 'Moderate Play', value: 'MP' },\n    { key: 'HP', text: 'Heavy Play', value: 'HP' }\n];\n\n/**\n * Seeds state from props. Used to determine if cards have only foil, nonfoil, or both printings\n * from their `foil` and `nonfoil`\n * @param {Boolean} nonfoilProp\n * @param {Boolean} foilProp\n */\nfunction checkCardFinish(nonfoilProp, foilProp) {\n    if (!nonfoilProp && foilProp) {\n        return { selectedFinish: 'FOIL', finishDisabled: true };\n    } else if (nonfoilProp && !foilProp) {\n        return { selectedFinish: 'NONFOIL', finishDisabled: true };\n    } else if (nonfoilProp && foilProp) {\n        return { selectedFinish: 'NONFOIL', finishDisabled: false };\n    }\n}\n\nexport default function ScryfallCardListItem({ qoh, foil, nonfoil, name, set_name, set, rarity, id, cardImage, lang }) {\n    const [quantity, setQuantity] = useState(0);\n    const [selectedFinish, setSelectedFinish] = useState(checkCardFinish(nonfoil, foil).selectedFinish);\n    const [selectedCondition, setSelectedCondition] = useState('NM');\n    const [finishDisabled, setFinishDisabled] = useState(checkCardFinish(nonfoil, foil).finishDisabled);\n    const [submitDisable, setSubmitDisable] = useState(false);\n    const [inventoryQty, setInventoryQty] = useState(qoh);\n    const [submitLoading, setSubmitLoading] = useState(false);\n\n    const handleFinishChange = (e, { value }) => setSelectedFinish(value);\n\n    const handleConditionChange = (e, { value }) => setSelectedCondition(value);\n\n    const handleQuantityChange = (e, { value }) => {\n        const val = parseInt(value);\n        const quantity = isNaN(val) ? '' : val; // Check for NaN\n        setQuantity(quantity);\n    };\n\n    // Remove input placeholder when user tries to enter a number (to reduce user error)\n    const handleFocus = () => {\n        if (quantity === 0) setQuantity('');\n    }\n\n    // Restore input placeholder when user blurs field\n    const handleBlur = () => {\n        if (quantity === '') setQuantity(0);\n    }\n\n    const handleInventoryAdd = async (e, { value }) => {\n        // This is the identifier for quantities of different finishes/conditions in the db\n        const finishCondition = `${selectedFinish}_${selectedCondition}`;\n\n        try {\n            setSubmitDisable(true);\n            setSubmitLoading(true);\n\n            const { data } = await axios.post(ADD_CARD_TO_INVENTORY, {\n                quantity: quantity,\n                finishCondition: finishCondition,\n                cardInfo: { id, name, set_name, set },\n            }, { headers: makeAuthHeader() });\n\n            createToast({\n                color: 'green',\n                header: `${quantity}x ${name} ${quantity > 0 ? 'added' : 'removed'}!`,\n                duration: 2000\n            });\n\n            setQuantity(0);\n            setSelectedFinish(checkCardFinish(nonfoil, foil).selectedFinish);\n            setSelectedCondition('NM');\n            setFinishDisabled(checkCardFinish(nonfoil, foil).finishDisabled);\n            setSubmitDisable(false);\n            setSubmitLoading(false);\n            setInventoryQty(data.qoh);\n\n            // Highlight the input after successful card add\n            $('#searchBar').focus().select();\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    return (\n        <Segment>\n            <Item.Group divided>\n                <Item>\n                    <Item.Image size=\"tiny\">\n                        <CardImage image={cardImage} />\n                    </Item.Image>\n                    <Item.Content>\n                        <Item.Header as='h3'>\n                            {name}\n                            {' '}\n                            <i\n                                className={`ss ss-fw ss-${set} ss-${rarity}`}\n                                style={{ fontSize: '30px' }}\n                            />\n                            <Label color=\"grey\">\n                                {set_name} ({String(set).toUpperCase()})\n                                </Label>\n                            <QohLabels inventoryQty={inventoryQty} />\n                            {' '}\n                            <MarketPrice id={id} finish={selectedFinish} />\n                            <Language languageCode={lang} />\n                        </Item.Header>\n                        <Item.Description>\n                            <Form>\n                                <Form.Group>\n                                    <Form.Field\n                                        control={Input}\n                                        type=\"number\"\n                                        label=\"Quantity\"\n                                        value={quantity}\n                                        onChange={handleQuantityChange}\n                                        onFocus={handleFocus}\n                                        onBlur={handleBlur}\n                                    />\n                                    <Form.Field\n                                        label=\"Finish\"\n                                        control={Select}\n                                        value={selectedFinish}\n                                        options={finishes}\n                                        disabled={finishDisabled}\n                                        onChange={handleFinishChange}\n                                    />\n                                    <Form.Field\n                                        label=\"Condition\"\n                                        control={Select}\n                                        value={selectedCondition}\n                                        options={cardConditions}\n                                        onChange={handleConditionChange}\n                                    />\n                                    <Form.Button\n                                        label=\"Add to Inventory?\"\n                                        control={Button}\n                                        primary\n                                        disabled={\n                                            quantity === 0 ||\n                                            quantity === '' ||\n                                            submitDisable\n                                        }\n                                        onClick={handleInventoryAdd}\n                                        loading={submitLoading}\n                                    >\n                                        Submit\n                                    </Form.Button>\n                                </Form.Group>\n                            </Form>\n                        </Item.Description>\n                    </Item.Content>\n                </Item>\n            </Item.Group>\n        </Segment>\n    );\n}\n","import React from 'react';\nimport ScryfallCardListItem from './ScryfallCardListItem';\n\nexport default function ScryfallCardList(props) {\n    return props.cards.map(card => {\n        return <ScryfallCardListItem\n            key={card.id}\n            {...card}\n            qoh={card.qoh}\n        />\n    });\n}\n","import React, { useState } from 'react';\nimport SearchBar from '../common/SearchBar';\nimport axios from 'axios';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport ScryfallCardList from './ScryfallCardList';\nimport { Segment, Header, Icon, Divider } from 'semantic-ui-react'\nimport { GET_CARDS_WITH_INFO } from '../utils/api_resources';\nimport { InventoryCard } from '../utils/ScryfallCard';\n\nexport default function Home() {\n    const [searchResults, setSearchResults] = useState([]);\n\n    const handleSearchSelect = async term => {\n        try {\n            const { data } = await axios.get(\n                GET_CARDS_WITH_INFO, {\n                params: { title: term, matchInStock: false },\n                headers: makeAuthHeader()\n            });\n\n            const modeledData = data.map(c => new InventoryCard(c));\n\n            setSearchResults(modeledData);\n        } catch (e) {\n            console.log(e);\n        }\n    };\n\n    return (\n        <React.Fragment>\n            <SearchBar handleSearchSelect={handleSearchSelect} />\n\n            <Header as=\"h2\">Manage Inventory</Header>\n            <Divider />\n\n            {!searchResults.length &&\n                <Segment placeholder>\n                    <Header icon>\n                        <Icon name=\"search\" />\n                        <em>\"Searching the future for answers often leads to further questions.\"</em>\n                    </Header>\n                </Segment>}\n\n            <ScryfallCardList cards={searchResults} />\n        </React.Fragment>\n    );\n}\n","import React, { useState, createContext } from 'react';\nimport axios from 'axios';\nimport _ from 'lodash'\nimport { SUSPEND_SALE, FINISH_SALE } from '../utils/api_resources';\nimport { InventoryCard } from '../utils/ScryfallCard';\nimport sortSaleList from '../utils/sortSaleList';\nimport createToast from '../common/createToast';\nimport makeAuthHeader from '../utils/makeAuthHeader';\n\nexport const SaleContext = createContext();\n\nexport const SaleProvider = props => {\n    const [saleListCards, setSaleListCards] = useState([]);\n    const [suspendedSale, setSuspendedSale] = useState({\n        _id: '',\n        name: '',\n        notes: '',\n        list: []\n    });\n\n    /**\n     * Adds product to the sale list\n     */\n    const addToSaleList = (card, finishCondition, qtyToSell, price) => {\n        const newCard = { ...card, finishCondition, qtyToSell, price };\n        const oldState = [...saleListCards];\n        const modeledCard = new InventoryCard(newCard);\n\n        // Need to make sure same ID's with differing conditions are separate line-items\n        const idx = oldState.findIndex(el => {\n            return (\n                el.id === newCard.id && el.finishCondition === finishCondition\n            );\n        });\n\n        if (idx !== -1) {\n            oldState.splice(idx, 1, modeledCard);\n        } else {\n            oldState.push(modeledCard);\n        }\n\n        // Sorting the saleList cards here, on add\n        const sortedCards = sortSaleList(oldState);\n\n        setSaleListCards(sortedCards);\n    };\n\n    /**\n     * Removes product from the sale list\n     */\n    const removeFromSaleList = (id, finishCondition) => {\n        const newState = _.reject([...saleListCards], el => {\n            return el.id === id && el.finishCondition === finishCondition;\n        });\n\n        setSaleListCards(newState);\n    };\n\n    /**\n     * Restores a sale (assigns a saleList to state) from a suspended sale from the db\n     */\n    const restoreSale = async id => {\n        try {\n            const { data } = await axios.get(`${SUSPEND_SALE}/${id}`);\n            const modeledData = data.list.map(c => new InventoryCard(c));\n\n            setSaleListCards(modeledData);\n            setSuspendedSale(data);\n\n            createToast({ color: 'green', header: `You are viewing ${data.name}'s sale` });\n        } catch (e) {\n            console.log(e.response);\n            createToast({ color: 'red', header: `Error` });\n        }\n    }\n\n    /**\n     * Suspends a sale (persists it to mongo) via the SuspendedSale component and API\n     */\n    const suspendSale = async ({ customerName, notes }) => {\n        const { _id } = suspendedSale;\n\n        try {\n            if (!!_id) await axios.delete(`${SUSPEND_SALE}/${_id}`); // If we're suspended, delete the previous to replace\n\n            const { data } = await axios.post(SUSPEND_SALE, {\n                customerName: customerName,\n                notes: notes,\n                saleList: saleListCards\n            })\n\n            resetSaleState();\n\n            createToast({ color: 'green', header: `${data.ops[0].name}'s sale was suspended` });\n        } catch (e) {\n            console.log(e.response);\n            createToast({ color: 'red', header: `Error`, message: `${e.response.data}` });\n        }\n    }\n\n    const deleteSuspendedSale = async () => {\n        try {\n            const { _id, name } = suspendedSale;\n            await axios.delete(`${SUSPEND_SALE}/${_id}`);\n\n            resetSaleState();\n\n            createToast({ color: 'green', header: `${name}'s sale was deleted` });\n        } catch (e) {\n            console.log(e.response);\n            createToast({ color: 'red', header: `Error` });\n        }\n    }\n\n    /**\n     * Extracts the saleList state and uses it to complete sale\n     */\n    const finalizeSale = async () => {\n        const { _id } = suspendedSale;\n\n        try {\n            // Must delete currently suspended sale to faithfully restore inventory prior to sale\n            if (!!_id) await axios.delete(`${SUSPEND_SALE}/${_id}`);\n\n            const { data } = await axios.post(FINISH_SALE, { cards: saleListCards }, { headers: makeAuthHeader() });\n\n            const saleID = data.sale_data.Sale.saleID;\n\n            createToast({\n                color: 'green',\n                header: 'Sale created in Lightspeed!',\n                message: `The id number is #${saleID}`,\n            });\n\n            resetSaleState();\n        } catch (e) {\n            createToast({\n                color: 'red',\n                header: 'Error',\n                message: `Sale was not created`,\n            });\n\n            resetSaleState();\n            console.log(e.response);\n        }\n    };\n\n    const resetSaleState = () => {\n        setSaleListCards([]);\n        setSuspendedSale({\n            _id: '',\n            name: '',\n            notes: '',\n            list: []\n        })\n    };\n\n    return <SaleContext.Provider value={{\n        saleListCards,\n        suspendedSale,\n        addToSaleList,\n        removeFromSaleList,\n        restoreSale,\n        suspendSale,\n        deleteSuspendedSale,\n        finalizeSale,\n        resetSaleState\n    }}>\n        {props.children}\n    </SaleContext.Provider>\n}","/**\n * Takes in an unordered group of cards and sorts them according to The Clubhouse's specs:\n * WUBRG, then multicolor, then colorless, then land, alphabetically within each color/category\n */\nexport default function sortSaleList(cards) {\n    const ORDER = ['W', 'U', 'B', 'R', 'G', 'MULTI', 'COLORLESS', 'LAND'];\n\n    /**\n     * Main helper function that manages sort order\n     * @param {Object} card\n     */\n    function helpSort(card) {\n        let arrayConst = null;\n\n        let colorsLength = null;\n        let cardFace = null;\n\n        try {\n            // If colors don't exist, it's a flip card or storybook frame\n            colorsLength = card.colors.length;\n            cardFace = card;\n        } catch (e) {\n            try {\n                // Storybook frames from Eldraine may throw error\n                colorsLength = card.card_faces[0].colors.length;\n                cardFace = card.card_faces[0];\n            } catch (e) {\n                colorsLength = card.colors.length;\n                cardFace = card;\n            }\n        }\n\n        // Apply logic to return correct constant enum\n        if (colorsLength === 0) {\n            arrayConst = 'COLORLESS';\n        } else if (colorsLength === 1) {\n            arrayConst = cardFace.colors[0];\n        } else if (colorsLength > 1) {\n            arrayConst = 'MULTI';\n        }\n\n        // Drill into colorless cards, if they are lands or not\n        if (arrayConst === 'COLORLESS') {\n            if (cardFace.type_line.includes('Land')) {\n                arrayConst = 'LAND';\n            }\n        }\n\n        // Final check to guard against a null arrayConst\n        if (!arrayConst) { arrayConst = 'LAND' }\n\n        return arrayConst;\n    }\n\n    const alphaSort = cards.sort((a, b) => {\n        return a.name.localeCompare(b.name);\n    });\n\n    const sorted = alphaSort.sort((a, b) => {\n        return ORDER.indexOf(helpSort(a)) - ORDER.indexOf(helpSort(b));\n    });\n\n    return sorted;\n}","import React, { useState, useContext } from 'react';\nimport { Segment, Label, Form, Input, Dropdown, Button, Item } from 'semantic-ui-react';\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport CardImage from '../common/CardImage';\nimport MarketPrice from '../common/MarketPrice';\nimport QohLabels from '../common/QohLabels';\nimport Language from '../common/Language';\nimport { SaleContext } from '../context/SaleContext';\n\n/**\n * Creates a list of conditions for the dropdown menu from the `qoh`\n * Note: Is this not needed if we default select initially?\n * @param {Object} qoh\n * @param {String} id\n */\nfunction createConditionOptions(qoh, id) {\n    const removeZeroedQuantites = _.pickBy(qoh, p => p > 0); // Quantites of zero not included\n\n    return Object.entries(removeZeroedQuantites).map(d => {\n        const [conditionFinish, qty] = d;\n\n        return {\n            text: `${conditionFinish.split('_').join(' | ')} | Qty: ${qty}`,\n            value: conditionFinish,\n            key: `${id}${conditionFinish}`\n        };\n    });\n}\n\n/**\n * Creates initial selectedFinish value, used for the MarketPrice component\n * Returns FOIL or NONFOIL depending on what's in current inventory (qoh)\n * @param {Object} qoh\n */\nfunction createInitialSelectedFinish(qoh) {\n    const removeZeroedQuantites = _.pickBy(qoh, p => p > 0);\n    // Isolate only the FOIL or NONFOIL values with mapping\n    const keysMapped = _.keys(removeZeroedQuantites).map(k => k.split('_')[0]);\n    const uniqueValues = _.uniq(keysMapped);\n    return uniqueValues.indexOf('NONFOIL') > -1 ? 'NONFOIL' : 'FOIL';\n}\n\nexport default function BrowseCardItem(props) {\n    const [selectedFinishCondition, setSelectedFinishCondition] = useState('');\n    const [selectedFinishConditionQty, setSelectedFinishConditionQty] = useState(0);\n    const [quantityToSell, setQuantityToSell] = useState(0);\n    const [price, setPrice] = useState(0);\n    const [selectedFinish, setSelectedFinish] = useState(createInitialSelectedFinish(props.qoh));\n    const [conditionOptions, setConditionOptions] = useState(createConditionOptions(props.qoh, props.id));\n    const { addToSaleList } = useContext(SaleContext);\n\n    const handleQuantityChange = (e, { value }) => {\n        if (value === '') {\n            setQuantityToSell('');\n            return;\n        }\n\n        let numVal = parseInt(value);\n\n        if (numVal > selectedFinishConditionQty) numVal = selectedFinishConditionQty;\n\n        if (isNaN((numVal)) || numVal < 0) numVal = 0;\n\n        setQuantityToSell(numVal);\n    };\n\n    const handleSelectedFinishCondition = (e, { value }) => {\n        setSelectedFinish(value.split('_')[0]);\n        setSelectedFinishCondition(value);\n        setSelectedFinishConditionQty(props.qoh[value]);\n        setQuantityToSell(0);\n    };\n\n    const handlePriceChange = (e, { value }) => {\n        if (value === '') {\n            setPrice('');\n            return;\n        }\n\n        let numVal = Number(value);\n\n        if (isNaN((numVal)) || numVal < 0) { numVal = 0; }\n\n        setPrice(numVal);\n    };\n\n    const handleAddToSale = () => {\n        const { qoh, id } = props;\n\n        addToSaleList(\n            { ...props },\n            selectedFinishCondition,\n            quantityToSell,\n            price\n        );\n\n        // Reset state\n        setSelectedFinishCondition('')\n        setSelectedFinishConditionQty(0)\n        setQuantityToSell(0)\n        setPrice(0)\n        setConditionOptions(createConditionOptions(qoh, id))\n        setSelectedFinish(createInitialSelectedFinish(qoh))\n\n        // Highlight the input after successful card add\n        $('#searchBar').focus().select();\n    };\n\n    return <Segment>\n        <Item.Group divided>\n            <Item>\n                <Item.Image size=\"tiny\">\n                    <CardImage\n                        image_uris={props.image_uris}\n                        card_faces={props.card_faces}\n                    />\n                </Item.Image>\n                <Item.Content>\n                    <Item.Header as=\"h3\">\n                        {props.name}{' '}\n                        <i\n                            className={`ss ss-fw ss-${props.set} ss-${props.rarity}`}\n                            style={{ fontSize: '30px' }}\n                        />\n                        <Label color=\"grey\">\n                            {props.set_name} ({String(props.set).toUpperCase()})\n                                </Label>\n                        <QohLabels inventoryQty={props.qoh} />\n                        {' '}\n                        <MarketPrice id={props.id} finish={selectedFinish} />\n                        <Language languageCode={props.lang} />\n                    </Item.Header>\n                    <Item.Description>\n                        <Form>\n                            <Form.Group>\n                                <Form.Field\n                                    className=\"finish-condition\"\n                                    control={Dropdown}\n                                    selection\n                                    placeholder=\"Select inventory\"\n                                    options={conditionOptions}\n                                    value={selectedFinishCondition}\n                                    label=\"Select finish/condition\"\n                                    onChange={handleSelectedFinishCondition}\n                                />\n                                <Form.Field\n                                    className=\"sale-qty\"\n                                    control={Input}\n                                    type=\"number\"\n                                    label=\"Quantity to sell\"\n                                    value={quantityToSell}\n                                    onChange={handleQuantityChange}\n                                    disabled={!selectedFinishConditionQty}\n                                    onFocus={e => e.target.select()}\n                                />\n                                <Form.Field\n                                    className=\"sale-price\"\n                                    control={Input}\n                                    type=\"number\"\n                                    label=\"Price\"\n                                    value={price}\n                                    onChange={handlePriceChange}\n                                    disabled={!selectedFinishConditionQty}\n                                    onFocus={e => e.target.select()}\n                                    step={0.5}\n                                />\n                                <Form.Button\n                                    className=\"add-to-sale\"\n                                    label=\"Add to sale?\"\n                                    control={Button}\n                                    primary\n                                    onClick={handleAddToSale}\n                                    disabled={!quantityToSell}\n                                >\n                                    Sell\n                                    </Form.Button>\n                            </Form.Group>\n                        </Form>\n                    </Item.Description>\n                </Item.Content>\n            </Item>\n        </Item.Group>\n    </Segment>\n}\n","import React from 'react';\nimport BrowseCardItem from './BrowseCardItem';\nimport { Segment, Header, Icon } from 'semantic-ui-react';\n\nexport default function BrowseCardList({ term, cards }) {\n    // Creates text to notify the user of zero-result searches\n    const searchNotification = () => {\n        if (term && !cards.length) { // Check to make sure the user has searched and no results\n            return <p>Zero results for <em>{term}</em></p>\n        }\n        return <p>Search for inventory to sell</p>\n    }\n\n    if (cards.length === 0) {\n        return <Segment placeholder>\n            <Header icon>\n                <Icon name=\"search\" />\n                <span>{searchNotification()}</span>\n            </Header>\n        </Segment>\n    }\n\n    return cards.map(card => {\n        return <BrowseCardItem\n            key={card.id}\n            {...card}\n            qoh={card.qoh}\n        />\n    });\n}\n","import React from 'react';\n\nconst Price = ({ num }) => {\n    const price = Number(num).toFixed(2);\n    if (isNaN(price)) return <span>$0.00</span>;\n    return <span>${price}</span>;\n};\n\nexport default Price;\n","import React, { useState, useContext } from 'react';\nimport { Button, Label, Table } from 'semantic-ui-react';\nimport { SaleContext } from '../context/SaleContext';\nimport Price from '../common/Price';\n\nexport default function SaleLineItem({ display_name, set, finishCondition, qtyToSell, price, rarity, id }) {\n    const [hovered, setHovered] = useState(false);\n\n    const { removeFromSaleList } = useContext(SaleContext);\n\n    return (\n        <Table.Row>\n            <Table.Cell><h4 classname=\"line-item-title\">{display_name}</h4></Table.Cell>\n            <Table.Cell singleLine>\n                <i\n                    className={`ss ss-fw ss-${set} ss-${rarity}`}\n                    style={{ fontSize: '20px' }}\n                />\n                <Label color=\"grey\">{set.toUpperCase()}</Label>\n            </Table.Cell>\n            <Table.Cell>\n                <div className=\"line-item-price\">\n                    {qtyToSell}x @ <Price num={price} /> | {finishCondition}\n                </div>\n            </Table.Cell>\n            <Table.Cell>\n                <Button\n                    icon=\"cancel\"\n                    circular\n                    onClick={() => removeFromSaleList(id, finishCondition)}\n                    onMouseOver={() => setHovered(true)}\n                    onMouseOut={() => setHovered(false)}\n                    color={hovered ? 'red' : null}\n                >\n                </Button>\n            </Table.Cell>\n        </Table.Row>\n    );\n}\n","import React from 'react';\nimport Price from '../common/Price';\n\nconst SalePriceTotal = ({ saleList }) => {\n    const total = saleList.length\n        ? saleList.reduce(\n            (acc, val) => acc + parseInt(val.qtyToSell) * Number(val.price),\n            0\n        )\n        : 0;\n\n    return <div id=\"sale-price-total\"><Price num={total} /></div>\n};\n\nexport default SalePriceTotal;\n","import React, { useState, useContext } from 'react';\nimport { Modal, Button, Header, Icon } from 'semantic-ui-react';\nimport { SaleContext } from '../context/SaleContext';\n\nexport default function FinishSale() {\n    const [submit, setSubmit] = useState({ loading: false, disabled: false });\n    const [showModal, setShowModal] = useState(false);\n    const { finalizeSale } = useContext(SaleContext);\n\n    const handleFinalizeSale = async () => {\n        setSubmit({ loading: true, disabled: true });\n        await finalizeSale();\n    }\n\n    const modalTrigger = <Button floated=\"right\" primary\n        onClick={() => setShowModal(true)}>\n        Finalize sale\n        </Button>\n\n    return <Modal\n        basic\n        open={showModal}\n        trigger={modalTrigger}>\n        <Modal.Content>\n            <Header inverted as=\"h2\">\n                Finalize this sale?\n             </Header>\n            <p>\n                Click 'Yes' to create a sale\n                in Lightspeed. Ensure that\n                you have all cards pulled and double-checked\n                the customer list. Undoing this action will require manual data entry!\n             </p>\n        </Modal.Content>\n        <Modal.Actions>\n            <Button\n                basic\n                color=\"red\"\n                inverted\n                onClick={() => setShowModal(false)}>\n                <Icon name=\"remove\" /> No\n             </Button>\n            <Button\n                color=\"green\"\n                inverted\n                onClick={handleFinalizeSale}\n                loading={submit.loading}\n                disabled={submit.disabled}>\n                <Icon name=\"checkmark\" /> Yes\n            </Button>\n        </Modal.Actions>\n    </Modal>\n}","import React from 'react';\nimport SaleLineItem from './SaleLineItem';\nimport { Table, Segment, Header, Icon } from 'semantic-ui-react';\nimport SalePriceTotal from './SalePriceTotal';\nimport FinishSale from './FinishSale';\n\nexport default function CustomerSaleList({ saleList }) {\n    if (saleList.length === 0) {\n        return <Segment placeholder>\n            <Header icon>\n                <Icon name=\"plus\" />\n                    View and manage customer sale list here\n            </Header>\n        </Segment>\n    }\n\n    return <React.Fragment>\n        <Table>\n            <Table.Body>\n                {saleList.map(card => {\n                    return <SaleLineItem\n                        {...card}\n                        key={`${card.id}${card.finishCondition}${card.qtyToSell}`}\n                    />\n                })}\n            </Table.Body>\n        </Table>\n\n        <Segment clearing>\n            <Header floated=\"left\">\n                <Header sub>Subtotal</Header>\n                <SalePriceTotal saleList={saleList} />\n            </Header>\n            <FinishSale />\n        </Segment>\n    </React.Fragment>\n};","import React from 'react';\nimport { Button, Icon } from 'semantic-ui-react';\nimport Price from '../common/Price';\nimport './PrintList.css';\nimport SalePriceTotal from './SalePriceTotal';\n\nconst Row = ({ id, display_name, qtyToSell, finishCondition, set_name, price }) => {\n    return <li key={id}>\n        <b>{display_name} | x{qtyToSell} | {finishCondition} | {set_name} | <Price num={price} /></b>\n    </li>\n}\n\nexport default class PrintList extends React.Component {\n    state = { printClicked: false }\n\n    print = () => {\n        this.setState({ printClicked: true }, () => {\n            window.print();\n            this.setState({ printClicked: false })\n        });\n    }\n\n    render() {\n        const { saleListCards } = this.props;\n        const { printClicked } = this.state;\n\n        if (saleListCards.length > 0) { // Ensure print is hidden if no cards in list\n            return (\n                <React.Fragment>\n                    <Button style={{ display: 'inline-block', float: 'right' }} onClick={this.print} icon>\n                        <Icon name=\"print\" />\n                    </Button>\n\n                    <div id=\"printme\" style={{ display: printClicked ? 'inline-block' : 'none' }}>\n                        <ul>{saleListCards.map(c => Row(c))}</ul>\n                        <span><b>Subtotal: <SalePriceTotal saleList={saleListCards} /></b></span>\n                    </div>\n                </React.Fragment >\n            )\n        } else {\n            return null;\n        }\n    }\n}","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { SUSPEND_SALE } from '../utils/api_resources';\nimport { Modal, Button, Grid, Form, Message } from 'semantic-ui-react';\nimport styled from 'styled-components';\n\nconst Divider = styled.div`\n    border-left: 1px solid rgba(0, 0, 0, 0.2);\n    height: 100%;\n`;\n\nconst ClearMargin = styled.div`\n    margin-top: 0px;\n    margin-bottom: 0px;\n`;\n\nconst CharLimit = styled.p`\n    font-size: 12px;\n    color: rgba(0, 0, 0, 0.2);\n    float: right;\n`;\n\nexport default function SuspendedSale({ restoreSale, deleteSuspendedSale, saleListLength, suspendSale, id }) {\n    const [sales, setSales] = useState([]);\n    const [saleID, setSaleID] = useState('');\n    const [modalOpen, setModalOpen] = useState(false);\n    const [customerName, setCustomerName] = useState('');\n    const [notes, setNotes] = useState('');\n    const [disabled, setDisabled] = useState(false);\n    const [loadingBtn, setLoadingBtn] = useState({\n        suspendBtn: false,\n        restoreBtn: false,\n        deleteBtn: false\n    });\n\n    const getSales = async () => {\n        const { data } = await axios.get(SUSPEND_SALE);\n        setSales(data);\n    }\n\n    const clearFields = () => {\n        setCustomerName('');\n        setNotes('')\n        setSaleID('');\n    }\n\n    // Get the previously suspended sales on mount and parent state (_id) change\n    useEffect(() => { getSales(); }, [id]); // If the parent-level suspended-sale _id changes, we fetch again\n\n    const modalTrigger = <Button\n        id=\"suspend-sale-btn\"\n        style={{ display: 'inline-block', float: 'right' }}\n        onClick={() => setModalOpen(true)}\n        icon=\"ellipsis horizontal\" />\n\n    const submitSuspendSale = async () => {\n        setDisabled(true);\n        setLoadingBtn({ suspendBtn: true });\n        await suspendSale({ customerName, notes });\n        setModalOpen(false); // Close the modal to avoid \"flicker\" when state re-renders\n        await getSales(); // Parent _id does not change, re-fetch sales\n        clearFields();\n        setDisabled(false);\n        setLoadingBtn({ suspendBtn: false });\n    }\n\n    const submitRestoreSale = async () => {\n        setDisabled(true);\n        setLoadingBtn({ restoreBtn: true });\n        await restoreSale(saleID);\n        setModalOpen(false);\n        clearFields();\n        setDisabled(false);\n        setLoadingBtn({ restoreBtn: false });\n    }\n\n    const submitDeleteSale = async () => {\n        setDisabled(true);\n        setLoadingBtn({ deleteBtn: true });\n        await deleteSuspendedSale();\n        setModalOpen(false);\n        clearFields();\n        setDisabled(false);\n        setLoadingBtn({ deleteBtn: false });\n    }\n\n    return <React.Fragment>\n        <Modal trigger={modalTrigger} open={modalOpen}>\n            <Modal.Header>Sales menu</Modal.Header>\n            <Modal.Content>\n                <Grid columns={2} stackable relaxed=\"very\">\n                    {saleListLength > 0 && <React.Fragment>\n                        <Grid.Column width=\"7\">\n                            <h3>Suspend Sale</h3>\n                            <Form>\n                                <ClearMargin>\n                                    <Form.Input\n                                        id=\"suspend-sale-name\"\n                                        label=\"Customer Name\"\n                                        placeholder=\"Jace, the Mind Sculptor\"\n                                        value={customerName}\n                                        onChange={(e, { value }) => setCustomerName(value.substring(0, 50))} />\n                                </ClearMargin>\n                                <ClearMargin>\n                                    <CharLimit>{customerName.length}/50</CharLimit>\n                                </ClearMargin>\n                                <ClearMargin>\n                                    <Form.TextArea\n                                        label=\"Notes\"\n                                        placeholder=\"Sometimes, I forget things...\"\n                                        value={notes}\n                                        onChange={(e, { value }) => setNotes(value.substring(0, 150))} />\n                                </ClearMargin>\n                                <ClearMargin>\n                                    <CharLimit>{notes.length}/150</CharLimit>\n                                </ClearMargin>\n                                <Form.Button\n                                    id=\"suspend-sale-submit\"\n                                    primary disabled={disabled || !customerName}\n                                    loading={loadingBtn.suspendBtn}\n                                    onClick={submitSuspendSale}>\n                                    Suspend Sale\n                                </Form.Button>\n                            </Form>\n                        </Grid.Column>\n                        <Grid.Column width=\"1\"><Divider /></Grid.Column>\n                    </React.Fragment>}\n                    <Grid.Column width=\"7\">\n                        <h3>Restore Sale</h3>\n                        {sales.length > 0 && <React.Fragment>\n                            <Form>\n                                <Form.Select\n                                    fluid\n                                    label=\"Previously suspended sales\"\n                                    options={sales.map(s => {\n                                        return {\n                                            key: s._id,\n                                            text: s.name,\n                                            value: s._id\n                                        }\n                                    })}\n                                    placeholder=\"Select a sale\"\n                                    onChange={(e, { value }) => setSaleID(value)}\n                                />\n                                <Form.Button primary disabled={disabled || !saleID} loading={loadingBtn.restoreBtn} onClick={submitRestoreSale}>Restore Sale</Form.Button>\n                            </Form>\n                        </React.Fragment>}\n                        {sales.length === 0 && <Message info>\n                            <Message.Header>No sales</Message.Header>\n                            Suspend a sale first\n                        </Message>}\n                    </Grid.Column>\n                </Grid>\n            </Modal.Content>\n            <Modal.Actions>\n                {!!id && <Button color=\"red\" disabled={disabled} loading={loadingBtn.deleteBtn} onClick={submitDeleteSale}>Delete current Sale</Button>}\n                <Button primary disabled={disabled} onClick={() => setModalOpen(false)}>Cancel</Button>\n            </Modal.Actions>\n        </Modal>\n    </React.Fragment >\n}","import React, { useState, useContext } from 'react';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport { Grid, Header, Divider } from 'semantic-ui-react';\nimport { GET_CARDS_WITH_INFO } from '../utils/api_resources';\nimport SearchBar from '../common/SearchBar';\nimport BrowseCardList from './BrowseCardList';\nimport CustomerSaleList from './CustomerSaleList';\nimport PrintList from './PrintList';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport SuspendedSale from './SuspendedSale';\nimport { InventoryCard } from '../utils/ScryfallCard';\nimport { SaleContext } from '../context/SaleContext';\n\nexport default function Sale() {\n    const {\n        saleListCards,\n        suspendedSale,\n        restoreSale,\n        deleteSuspendedSale,\n        suspendSale,\n        resetSaleState\n    } = useContext(SaleContext);\n\n    const [searchResults, setSearchResults] = useState([]);\n    const [searchTerm, setSearchTerm] = useState('');\n\n    const resetState = () => {\n        setSearchResults([]);\n        setSearchTerm('');\n        resetSaleState();\n    };\n\n    const handleResultSelect = async term => {\n        try {\n            const { data } = await axios.get(GET_CARDS_WITH_INFO, {\n                params: { title: term, matchInStock: true },\n                headers: makeAuthHeader()\n            });\n\n            const modeledData = data.map(c => new InventoryCard(c));\n\n            setSearchResults(modeledData);\n            setSearchTerm(term);\n\n            if (data.length === 0) { $('#searchBar').focus().select() }\n        } catch (e) {\n            console.log(e.response);\n        }\n    };\n\n    return (\n        <React.Fragment>\n            <Grid.Row style={{ display: 'flex', alignItems: 'center' }}>\n                <SearchBar handleSearchSelect={handleResultSelect} />\n            </Grid.Row>\n            <br />\n            <Grid stackable={true}>\n                <Grid.Row>\n                    <Grid.Column width=\"11\">\n                        <Header as=\"h2\" style={{ display: \"inline-block\" }}>Inventory</Header>\n\n                        <Divider />\n\n                        <BrowseCardList term={searchTerm} cards={searchResults} />\n\n                    </Grid.Column>\n                    <Grid.Column width=\"5\">\n                        <Header as=\"h2\" style={{ display: 'inline-block' }} id=\"sale-header\">\n                            {suspendedSale.name === '' ? 'Sale Items' : `${suspendedSale.name}'s Items`}\n                        </Header>\n\n                        <SuspendedSale\n                            restoreSale={restoreSale}\n                            suspendSale={suspendSale}\n                            saleListLength={saleListCards.length}\n                            deleteSuspendedSale={deleteSuspendedSale}\n                            id={suspendedSale._id}\n                        />\n                        <PrintList saleListCards={saleListCards} />\n\n                        <Divider />\n\n                        <CustomerSaleList saleList={saleListCards} />\n                    </Grid.Column>\n                </Grid.Row >\n            </Grid >\n        </React.Fragment >\n    );\n}\n","import React from 'react';\nimport { Table } from 'semantic-ui-react';\nimport moment from 'moment';\n\nconst SalesListItem = ({ saleData, cardList }) => {\n    const quantitySold = cardList.reduce(\n        (pre, curr) => pre + curr.qtyToSell,\n        0\n    );\n\n    return (\n        <Table.Row>\n            <Table.Cell>{saleData.saleID}</Table.Cell>\n            <Table.Cell>\n                {moment(saleData.createTime).format('MM/DD/YYYY - h:mm A')}\n            </Table.Cell>\n            <Table.Cell>{quantitySold}</Table.Cell>\n        </Table.Row>\n    );\n};\n\nexport default SalesListItem;\n","import React from 'react';\nimport SalesListItem from './SalesListItem';\nimport { Table } from 'semantic-ui-react';\n\nconst SalesList = ({ list }) => {\n    return (\n        <Table celled unstackable compact>\n            <Table.Header>\n                <Table.Row>\n                    <Table.HeaderCell>Sale ID</Table.HeaderCell>\n                    <Table.HeaderCell>Date of Sale</Table.HeaderCell>\n                    <Table.HeaderCell>Quantity Sold</Table.HeaderCell>\n                </Table.Row>\n            </Table.Header>\n\n            <Table.Body>\n                {list.map(({ sale_data, card_list, _id }) => (\n                    <SalesListItem\n                        saleData={sale_data}\n                        cardList={card_list}\n                        key={_id}\n                    />\n                ))}\n            </Table.Body>\n        </Table>\n    );\n};\n\nexport default SalesList;\n","import React, { Component } from 'react';\nimport SearchBar from '../common/SearchBar';\nimport SalesList from './SalesList';\nimport axios from 'axios';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport { GET_SALES_BY_TITLE } from '../utils/api_resources';\nimport { Header, Divider } from 'semantic-ui-react';\n\nclass BrowseSales extends Component {\n    state = { salesList: [], cardName: '' };\n\n    handleSearchSelect = async cardName => {\n        const { data } = await axios.get(GET_SALES_BY_TITLE, {\n            params: { cardName: cardName },\n            headers: makeAuthHeader()\n        });\n\n        this.setState({ salesList: data, cardName: cardName });\n    };\n\n    render() {\n        const { salesList, cardName } = this.state;\n\n        return (\n            <div>\n                <SearchBar handleSearchSelect={this.handleSearchSelect} />\n\n                <Header as=\"h2\">Browse Sales</Header>\n                <Divider />\n\n                <span>\n                    <em>\n                        {cardName !== '' && (\n                            <h4>\n                                {salesList.length} results for {cardName}\n                            </h4>\n                        )}\n                    </em>\n                </span>\n                <SalesList list={salesList} />\n            </div>\n        );\n    }\n}\n\nexport default BrowseSales;\n","import React from 'react';\nimport { Image, Label } from 'semantic-ui-react';\nimport MarketPrice from '../common/MarketPrice';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n    display: inline-block;\n    margin: 10px 10px 10px 10px;\n`;\n\nconst InventoryWrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    padding: 5px;\n    background-color: rgba(0, 0, 0, 0.9);\n    border-radius: 10px 10px 10px 10px;\n    box-shadow: 2px 2px 5px 0 rgba(0, 0, 0, 0.25);\n`;\n\nconst InventoryRow = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    margin: 5px;\n`;\n\nconst ImageWrapper = styled.div`\n    width: 300px;\n    height: 418.3px;\n    box-shadow: 2px 2px 5px 0 rgba(0, 0, 0, 0.25);\n    background: repeating-linear-gradient(45deg, #bfbfbf, #bfbfbf 10px, #b0b0b0 10px, #b0b0b0 20px);\n    border-radius: 15px;\n`;\n\nexport default function PublicCardItem({ card }) {\n    const { id, cardImage } = card;\n    const [foilQty, nonfoilQty] = card.qohParsed;\n\n    const displayFoil = (\n        <InventoryRow>\n            <Label color='blue' image>Foil<Label.Detail>{foilQty}</Label.Detail></Label>\n            <MarketPrice id={id} finish=\"FOIL\" />\n        </InventoryRow>\n    );\n\n    const displayNonfoil = (\n        <InventoryRow>\n            <Label color='blue' image>Nonfoil<Label.Detail>{nonfoilQty}</Label.Detail></Label>\n            <MarketPrice id={id} />\n        </InventoryRow>\n    );\n\n    return <React.Fragment>\n        <Wrapper>\n            <ImageWrapper>\n                <Image src={cardImage} size=\"medium\" style={{ borderRadius: '15px' }} />\n            </ImageWrapper>\n            <InventoryWrapper>\n                {foilQty > 0 ? displayFoil : null}\n                {nonfoilQty > 0 ? displayNonfoil : null}\n            </InventoryWrapper>\n        </Wrapper>\n    </React.Fragment>\n}","import React from 'react';\nimport PublicCardItem from './PublicCardItem';\nimport { Grid } from 'semantic-ui-react';\n\nconst gridStyle = {\n    display: 'flex',\n    flexWrap: 'wrap',\n    alignContent: 'space-evenly',\n    height: '100%'\n};\n\nexport default function PublicCardList({ cards }) {\n    return <Grid style={gridStyle} >\n        {cards.map(c =>\n            <PublicCardItem\n                key={c.id}\n                card={c}\n            />\n        )}\n    </ Grid>\n}\n","import React from 'react';\nimport axios from 'axios';\nimport {\n    Grid,\n    Segment,\n    Header,\n    Icon,\n    Divider,\n} from 'semantic-ui-react';\nimport SearchBar from '../common/SearchBar';\nimport PublicCardList from './PublicCardList';\nimport { GET_CARDS_WITH_INFO } from '../utils/api_resources';\nimport { InventoryCard } from '../utils/ScryfallCard';\n\nconst initialState = {\n    searchResults: [],\n    saleListCards: [],\n    searchTerm: ''\n};\n\nexport default class PublicInventory extends React.Component {\n    state = initialState;\n\n    handleResultSelect = async term => {\n        try {\n            const { data } = await axios.get(GET_CARDS_WITH_INFO, {\n                params: { title: term, matchInStock: true }\n            });\n\n            const modeledData = data.map(c => new InventoryCard(c));\n\n            this.setState({ searchResults: modeledData, searchTerm: term });\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    render() {\n        const {\n            searchResults,\n            searchTerm\n        } = this.state;\n\n        // Creates text to notify the user of zero-result searches\n        const searchNotification = () => {\n            if (searchTerm && !searchResults.length) { // Check to make sure the user has searched and no results\n                return <p><em>{searchTerm}</em> is out of stock</p>\n            }\n            return <p>Search for a card</p>; // Default text before search\n        }\n\n        return (\n            <React.Fragment>\n                <Grid.Row style={{ display: 'flex', alignItems: 'center' }}>\n                    <SearchBar handleSearchSelect={this.handleResultSelect} />\n                </Grid.Row>\n                <br />\n                <Grid stackable={true}>\n                    <Grid.Column>\n                        <Header as=\"h2\">\n                            Inventory Search\n                            <Header.Subheader>\n                                <em>Card prices subject to change. Consult a Clubhouse employee for final estimates</em>\n                            </Header.Subheader>\n                        </Header>\n\n                        <Divider />\n\n                        {!searchResults.length &&\n                            <Segment placeholder>\n                                <Header icon>\n                                    <Icon name=\"search\" />\n                                    <span>{searchNotification()}</span>\n                                </Header>\n                            </Segment>}\n\n                        <PublicCardList cards={searchResults} />\n                    </Grid.Column>\n                </Grid >\n            </React.Fragment >\n        );\n    }\n}\n","import React from 'react';\nimport SearchBar from '../common/SearchBar';\nimport { GET_SET_NAMES } from '../utils/api_resources';\nimport axios from 'axios';\nimport { Form, Input, Select, Dropdown, Segment } from 'semantic-ui-react';\n\nconst formatDropdownOptions = [\n    { key: 'qw', value: \"\", text: \"None\" },\n    { key: 'we', value: \"standard\", text: \"Standard\" },\n    { key: 'er', value: \"future\", text: \"Future\" },\n    { key: 'rt', value: \"historic\", text: \"Historic\" },\n    { key: 'ty', value: \"pioneer\", text: \"Pioneer\" },\n    { key: 'yu', value: \"modern\", text: \"Modern\" },\n    { key: 'ui', value: \"legacy\", text: \"Legacy\" },\n    { key: 'io', value: \"pauper\", text: \"Pauper\" },\n    { key: 'op', value: \"vintage\", text: \"Vintage\" },\n    { key: 'as', value: \"penny\", text: \"Penny\" },\n    { key: 'sd', value: \"commander\", text: \"Commander\" },\n    { key: 'df', value: \"brawl\", text: \"Brawl\" },\n    { key: 'fg', value: \"duel\", text: \"Duel\" },\n    { key: 'gh', value: \"oldschool\", text: \"Oldschool\" }\n];\n\nconst priceFilterDropdownOptions = [\n    { key: 'gte', value: 'gte', text: '>=' },\n    { key: 'lte', value: 'lte', text: '<=' },\n    { key: 'gtx', value: 'gt', text: '>' },\n    { key: 'ltx', value: 'lt', text: '<' }\n];\n\nconst finishDropdownOptions = [\n    { key: 'nonfoil_foil', value: '', text: 'None' },\n    { key: 'nonfoil', value: 'NONFOIL', text: 'Nonfoil' },\n    { key: 'foil', value: 'FOIL', text: 'Foil' }\n];\n\nconst sortByDropdownOptions = [\n    { key: 'pricesort', value: 'price', text: 'Price' },\n    { key: 'alphasort', value: 'name', text: 'Card Name' }\n];\n\nconst sortByDirectionDropdownOptions = [\n    { key: 'descdirsort', value: 1, text: 'Ascending' },\n    { key: 'ascdirsort', value: -1, text: 'Descending' }\n];\n\nconst sortByColorDropdownOptions = [\n    { key: 'w', value: 'W', text: 'White' },\n    { key: 'u', value: 'U', text: 'Blue' },\n    { key: 'b', value: 'B', text: 'Black' },\n    { key: 'r', value: 'R', text: 'Red' },\n    { key: 'g', value: 'G', text: 'Green' }\n];\n\nconst typeLineOptions = [\n    { key: 'na', value: '', text: 'None' },\n    { key: 'artifact', value: 'Artifact', text: 'Artifact' },\n    { key: 'creature', value: 'Creature', text: 'Creature' },\n    { key: 'enchantment', value: 'Enchantment', text: 'Enchantment' },\n    { key: 'instant', value: 'Instant', text: 'Instant' },\n    { key: 'land', value: 'Land', text: 'Land' },\n    { key: 'planeswalker', value: 'Planeswalker', text: 'Planeswalker' },\n    { key: 'sorcery', value: 'Sorcery', text: 'Sorcery' },\n    { key: 'tribal', value: 'Tribal', text: 'Tribal' }\n];\n\nconst initialState = {\n    title: '',\n    setName: '',\n    format: '',\n    priceNum: '',\n    priceFilter: 'gte',\n    finish: '',\n    sortBy: 'price',\n    colorsArray: [],\n    sortByDirection: -1,\n    typeLine: '',\n    setNames: []\n}\n\nexport default class DeckboxCloneForm extends React.Component {\n    state = { editionDropdownOptions: [], ...initialState };\n\n    handleSearchSelect = name => this.setState({ title: name });\n\n    // When the user blurs the search field, we need to re-set state. Otherwise it won't clear from handleSearchSelect()\n    handleSearchBlur = (e, d) => this.setState({ title: e.target.value });\n\n    handleChange = (e, { value }) => this.setState({ [e.target.name]: value });\n\n    handleDropdownChange = (e, data) => this.setState({ [data.name]: data.value });\n\n    async componentDidMount() {\n        const { data } = await axios.get(GET_SET_NAMES);\n        const setNameOptions = data.map((d, idx) => {\n            return { key: `set${idx}`, value: d, text: d };\n        })\n        const concatWithBlankOption = [{ key: 'snull', value: \"\", text: \"None\" }].concat(setNameOptions);\n        this.setState({ editionDropdownOptions: concatWithBlankOption });\n    }\n\n    render() {\n        const {\n            title,\n            setName,\n            format,\n            priceNum,\n            priceFilter,\n            finish,\n            sortBy,\n            sortByDirection,\n            colorsArray,\n            typeLine\n        } = this.state;\n\n        // Sort the colors here and concat prior to sending to the backend\n        const colors = colorsArray.sort().join('');\n\n        return (\n            <Segment>\n                <h3>Filters</h3>\n                <Form>\n                    <Form.Group widths=\"4\">\n                        <Form.Field>\n                            <label>Card Name</label>\n                            <SearchBar\n                                handleSearchSelect={this.handleSearchSelect}\n                                value={this.state.title}\n                                name=\"title\"\n                                onBlur={this.handleSearchBlur}\n                            />\n                        </Form.Field>\n                        <Form.Field\n                            control={Select}\n                            label=\"Format\"\n                            placeholder=\"Format\"\n                            options={formatDropdownOptions}\n                            name=\"format\"\n                            onChange={this.handleDropdownChange}\n                        />\n                        <Form.Field\n                            control={Select}\n                            label=\"Edition\"\n                            placeholder=\"Edition\"\n                            search\n                            options={this.state.editionDropdownOptions}\n                            name=\"setName\"\n                            onChange={this.handleDropdownChange}\n                        />\n                        <Form.Field\n                            control={Select}\n                            label=\"Finish\"\n                            placeholder=\"Finish\"\n                            options={finishDropdownOptions}\n                            name=\"finish\"\n                            onChange={this.handleDropdownChange}\n                        />\n                    </Form.Group>\n                    <Form.Group widths=\"4\">\n\n                        <Form.Field\n                            control={Select}\n                            multiple\n                            label=\"Colors\"\n                            placeholder=\"Colors\"\n                            options={sortByColorDropdownOptions}\n                            name=\"colorsArray\"\n                            onChange={this.handleDropdownChange}\n                        />\n\n                        <Form.Field\n                            control={Select}\n                            label=\"Type Line\"\n                            placeholder=\"Type Line\"\n                            options={typeLineOptions}\n                            name=\"typeLine\"\n                            onChange={this.handleDropdownChange} />\n\n                        <Form.Field>\n                            <label>Price Filter</label>\n                            <Input\n                                label={<Dropdown\n                                    options={priceFilterDropdownOptions}\n                                    name=\"priceFilter\"\n                                    defaultValue=\"gte\"\n                                    onChange={this.handleDropdownChange}\n                                />}\n                                placeholder=\"Enter a price\"\n                                labelPosition=\"left\"\n                                name=\"priceNum\"\n                                type=\"number\"\n                                onChange={this.handleDropdownChange}\n                            />\n                        </Form.Field>\n                    </Form.Group>\n\n                    <h3>{\"Sort & Order\"}</h3>\n\n                    <Form.Group>\n                        <Form.Field\n                            control={Select}\n                            label=\"Sort By\"\n                            placeholder=\"\"\n                            options={sortByDropdownOptions}\n                            defaultValue='price'\n                            name=\"sortBy\"\n                            onChange={this.handleDropdownChange}\n                        />\n                        <Form.Field\n                            control={Select}\n                            label=\"Order\"\n                            options={sortByDirectionDropdownOptions}\n                            defaultValue={-1}\n                            name=\"sortByDirection\"\n                            onChange={this.handleDropdownChange}\n                        />\n                    </Form.Group>\n\n                    <Form.Group>\n                        <Form.Button primary onClick={() => this.props.handleSubmit({\n                            title,\n                            setName,\n                            format,\n                            priceNum,\n                            priceFilter,\n                            finish,\n                            sortBy,\n                            sortByDirection,\n                            colors,\n                            type: typeLine\n                        })}>Submit</Form.Button>\n                    </Form.Group>\n                </Form>\n            </Segment>\n        )\n    }\n}","import React from 'react';\nimport { Table, Icon, Image } from 'semantic-ui-react';\nimport Price from '../common/Price';\n\nconst conditionMap = {\n    NM: 'Near Mint',\n    LP: 'Light Play',\n    MP: 'Moderate Play',\n    HP: 'Heavy Play',\n};\n\nconst Tooltip = ({ image_uri, posX, posY }) => {\n    return (\n        <div style={{\n            position: 'absolute',\n            left: `${posX}px`,\n            width: '150px', // Width of the image when size=\"small\"\n            height: '209px', // Height of the image when size=\"small\"\n            borderRadius: '7px 7px 7px 7px',\n            boxShadow: '2px 2px 5px 0 rgba(0, 0, 0, 0.25)',\n            background: 'repeating-linear-gradient(45deg, #bfbfbf, #bfbfbf 10px, #b0b0b0 10px, #b0b0b0 20px)'\n        }}>\n            <Image\n                style={{ borderRadius: '7px 7px 7px 7px' }}\n                size=\"small\"\n                src={image_uri}\n            />\n        </div>\n    )\n}\n\nexport default class DeckboxCloneRow extends React.Component {\n    state = { mouseInside: false, mouseX: 0, mouseY: 0 };\n\n    mouseEnter = (e) => {\n        const mouseX = e.clientX - e.target.offsetLeft\n        const mouseY = e.clientY - e.target.offsetTop;\n        this.setState({ mouseInside: true, mouseX, mouseY });\n    }\n\n    mouseLeave = (e) => this.setState({ mouseInside: false });\n\n    mouseMove = (e) => {\n        const mouseX = e.clientX - e.target.offsetLeft\n        const mouseY = e.clientY - e.target.offsetTop;\n        this.setState({ mouseX, mouseY });\n    };\n\n    render() {\n        const { inventory, name, set_name, price, set, rarity, image_uri } = this.props;\n        const { mouseInside, mouseX, mouseY } = this.state;\n        const finish = inventory.k.split('_')[0];\n        const condition = inventory.k.split('_')[1];\n\n        return <Table.Row>\n            <Table.Cell>\n                <span\n                    onMouseEnter={this.mouseEnter}\n                    onMouseLeave={this.mouseLeave}\n                    onMouseMove={this.mouseMove}\n                    style={{ cursor: 'help' }}\n                >\n                    {name}{' '}\n                </span>\n                {finish === 'FOIL' && <Icon name=\"star\" color=\"blue\" />}\n                {mouseInside && <Tooltip image_uri={image_uri} posX={mouseX} posY={mouseY} />}\n            </Table.Cell>\n            <Table.Cell><i className={`ss ss-fw ss-${set} ss-${rarity}`} style={{ fontSize: '20px' }} />{\" \"}{set_name}</Table.Cell>\n            <Table.Cell>{conditionMap[condition]}</Table.Cell>\n            <Table.Cell>{inventory.v}</Table.Cell>\n            <Table.Cell><Price num={price} /></Table.Cell>\n        </Table.Row>\n    }\n}","import React from 'react'\nimport { GET_CARDS_BY_FILTER } from '../utils/api_resources';\nimport DeckboxCloneForm from './DeckboxCloneForm';\nimport DeckboxCloneRow from './DeckboxCloneRow';\nimport axios from 'axios';\nimport { Table, Menu, Icon, Dimmer, Loader, Segment, Header, Container } from 'semantic-ui-react';\nimport _ from 'lodash';\nconst LIMIT = 100 // Matching the backend for now\n\nexport default class DeckboxClone extends React.Component {\n    state = {\n        data: [],\n        count: 0,\n        currentPage: 0,\n        numPages: 0,\n        pageArray: [],\n        isLoading: false,\n        cachedFilters: {},\n        showPages: [],\n        searchTouched: false // Tracks whether the user has initially searched for the 'no results' message\n    }\n\n    fetchData = async (filters, page) => {\n        try {\n            this.setState({ isLoading: true });\n\n            const { data } = await axios.get(GET_CARDS_BY_FILTER, {\n                params: { ...filters, page }\n            });\n\n            const numPages = Math.ceil(data.total / LIMIT);\n            const pages = _.range(1, numPages + 1);\n            let showPages;\n\n            // Logic that controls the visibility of page number links \n            // Default max number pages to display is 5\n            if (page <= 3) {\n                showPages = pages.slice(0, 5);\n            } else if (page >= numPages - 2) {\n                showPages = pages.slice(numPages - 5, numPages);\n            } else {\n                showPages = pages.slice(page - 2, page + 3);\n            }\n\n            this.setState({\n                data: data.cards,\n                count: data.total,\n                isLoading: false,\n                numPages: numPages,\n                currentPage: page,\n                showPages: showPages,\n                searchTouched: true\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    }\n\n    handleSubmit = async (filters) => {\n        this.setState({ cachedFilters: filters }); // Set the filters for pagination requests later\n        await this.fetchData(filters, 1); // On submit, starting page mut always be 1\n    }\n\n    handlePage = async (page) => {\n        await this.fetchData(this.state.cachedFilters, page)\n        this.setState({ currentPage: page });\n    };\n\n    render() {\n        const { data, isLoading, currentPage, numPages, count } = this.state;\n        const showLeftPageButtons = !(currentPage === 1);\n        const showRightPageButtons = !(currentPage === numPages);\n\n        return <Container>\n            <Dimmer active={isLoading} inverted page style={{ marginTop: '52.63px' }}>\n                <Loader size=\"large\">Loading</Loader>\n            </Dimmer>\n            <Segment secondary>\n                <Icon name=\"exclamation triangle\" color=\"blue\" />\n                Prices from this table are updated weekly and are subject to fluctuations. Consult 'New Sale' or 'Manage Inventory' for up-to-date values\n            </Segment>\n            <DeckboxCloneForm handleSubmit={this.handleSubmit} />\n\n            {!!data.length && <Table celled striped compact>\n                <Table.Header>\n                    <Table.Row>\n                        <Table.HeaderCell colSpan='5'>\n                            <Menu floated=\"left\">\n                                <Menu.Item>Viewing page {currentPage} of {numPages}</Menu.Item>\n                            </Menu>\n                            <Menu floated=\"right\">\n                                {showLeftPageButtons && <Menu.Item as=\"a\" icon onClick={() => this.handlePage(currentPage - 1)} >\n                                    <Icon name='chevron left' />\n                                </Menu.Item>}\n\n                                <React.Fragment>\n                                    {this.state.showPages.map(p => {\n                                        return (\n                                            <Menu.Item\n                                                key={`page-${p}`}\n                                                onClick={() => this.handlePage(p)}\n                                                active={currentPage === p}\n                                                disabled={currentPage === p}\n                                                as=\"a\">\n                                                {p}\n                                            </Menu.Item>\n                                        )\n                                    })}\n                                </React.Fragment>\n\n                                {showRightPageButtons && <Menu.Item as=\"a\" icon onClick={() => this.handlePage(currentPage + 1)}>\n                                    <Icon name='chevron right' />\n                                </Menu.Item>}\n                            </Menu>\n                        </Table.HeaderCell>\n                    </Table.Row>\n                </Table.Header>\n\n                <Table.Header>\n                    <Table.Row>\n                        <Table.HeaderCell>Name</Table.HeaderCell>\n                        <Table.HeaderCell>Edition</Table.HeaderCell>\n                        <Table.HeaderCell>Condition</Table.HeaderCell>\n                        <Table.HeaderCell>Qty</Table.HeaderCell>\n                        <Table.HeaderCell>Price</Table.HeaderCell>\n                    </Table.Row>\n                </Table.Header>\n\n                <Table.Body>\n                    {data.map(d => <DeckboxCloneRow {...d} key={`${d._id}${d.inventory.k}`} />)}\n                </Table.Body>\n\n                <Table.Footer>\n                    <Table.Row>\n                        <Table.HeaderCell colSpan='5'>\n                            <Menu floated=\"left\">\n                                <Menu.Item>Total results: {count}</Menu.Item>\n                            </Menu>\n                            <Menu floated=\"right\">\n                                {showLeftPageButtons && <Menu.Item\n                                    as=\"a\"\n                                    icon\n                                    onClick={() => this.handlePage(currentPage - 1)}\n                                >\n                                    <Icon name='chevron left' />\n                                </Menu.Item>}\n\n                                <React.Fragment>\n                                    {this.state.showPages.map(p => {\n                                        return (\n                                            <Menu.Item\n                                                key={`page-${p}`}\n                                                onClick={() => this.handlePage(p)}\n                                                active={currentPage === p}\n                                                disabled={currentPage === p}\n                                                as=\"a\">\n                                                {p}\n                                            </Menu.Item>\n                                        )\n                                    })}\n                                </React.Fragment>\n\n                                {showRightPageButtons && <Menu.Item\n                                    as=\"a\"\n                                    icon\n                                    onClick={() => this.handlePage(currentPage + 1)}\n                                >\n                                    <Icon name='chevron right' />\n                                </Menu.Item>}\n                            </Menu>\n                        </Table.HeaderCell>\n                    </Table.Row>\n                </Table.Footer>\n            </Table>}\n\n            {!data.length &&\n                <Segment placeholder>\n                    <Header icon>\n                        <Icon name=\"search\" />\n                        {this.state.searchTouched ?\n                            'No results found' :\n                            'Use the filters to browse inventory'\n                        }\n                    </Header>\n                </Segment>}\n        </Container>\n    }\n}","import React, { useState } from 'react';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport { LOGIN } from '../utils/api_resources';\nimport axios from 'axios';\n\nexport const AuthContext = React.createContext();\n\nexport default function AuthProvider(props) {\n    const [loggedIn, setLoggedIn] = useState(!!localStorage.getItem('clubhouse_JWT'));\n\n    const handleLogin = async (username, password) => {\n        try {\n            const { data } = await axios.post(LOGIN, {\n                username: username.toLowerCase(),\n                password: password\n            }, { headers: makeAuthHeader() });\n\n            if (data.token) {\n                localStorage.setItem('clubhouse_JWT', data.token);\n                setLoggedIn(!!localStorage.getItem('clubhouse_JWT'))\n\n                return { authed: true };\n            } else {\n                return { authed: false };\n            }\n        } catch (err) {\n            console.log(err);\n        }\n    }\n\n    const handleLogout = async () => {\n        try {\n            localStorage.removeItem('clubhouse_JWT');\n            setLoggedIn(!!localStorage.getItem('clubhouse_JWT'));\n\n            return { authed: false };\n        } catch (err) {\n            console.log(err);\n        }\n    }\n\n    return <AuthContext.Provider value={{ loggedIn, handleLogin, handleLogout }}>\n        {props.children}\n    </AuthContext.Provider>\n}\n","import React, { useState, useContext } from 'react';\nimport createToast from '../common/createToast';\nimport { Form, Button, Segment } from 'semantic-ui-react';\nimport { Redirect } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthProvider';\nimport styled from 'styled-components';\n\nconst LoginContainer = styled.div`\n    margin-top: 15px;\n    display: flex;\n    justify-content: center;\n`;\n\nconst FormContainer = styled(Segment)`\n    width: 400px;\n    padding: 25px 25px 25px 25px !important;\n`;\n\nconst initialState = { username: '', password: '', loading: false };\n\nexport default function Login() {\n    const [state, setState] = useState(initialState);\n    const { loggedIn, handleLogin } = useContext(AuthContext);\n\n    const handleInputChange = (e, { value }) => setState({ ...state, [e.target.name]: value });\n\n    const login = async () => {\n        setState({ loading: true });\n\n        const { authed } = await handleLogin(state.username, state.password);\n\n        if (authed) {\n            // Do not set state here to mitigate React setState warning after component unmounted due to redirect\n            createToast({\n                color: 'green',\n                header: 'Success',\n                message: `Enjoy your time here!`,\n            });\n        } else {\n            setState(initialState);\n            createToast({\n                color: 'red',\n                header: 'Error',\n                message: `Username or password was incorrect`,\n            });\n        }\n    };\n\n    if (loggedIn) return <Redirect to=\"/manage-inventory\" />\n\n    return <LoginContainer>\n        <FormContainer raised loading={state.loading}>\n            <Form>\n                <Form.Field>\n                    <Form.Input\n                        className=\"username-input\"\n                        name=\"username\"\n                        placeholder=\"Username\"\n                        label=\"Username\"\n                        value={state.username || ''}\n                        onChange={handleInputChange}\n                    />\n                </Form.Field>\n                <Form.Field>\n                    <Form.Input\n                        className=\"password-input\"\n                        name=\"password\"\n                        placeholder=\"Password\"\n                        type=\"password\"\n                        label=\"Password\"\n                        value={state.password || ''}\n                        onChange={handleInputChange}\n                    />\n                </Form.Field>\n                <Button\n                    primary\n                    fluid\n                    floated=\"right\"\n                    type=\"submit\"\n                    onClick={login}\n                    className=\"login-btn\"\n                    disabled={!state.username || !state.password}>\n                    Submit\n            </Button>\n            </Form>\n        </FormContainer>\n    </LoginContainer>\n}\n","import React, { useContext } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthProvider';\n\nfunction Logout() {\n    const { handleLogout } = useContext(AuthContext);\n\n    handleLogout();\n\n    return <Redirect to=\"/login\" />\n};\n\nexport default Logout;\n","import React, { useState } from 'react';\nimport _ from 'lodash';\nimport uuid from 'uuid';\nimport axios from 'axios';\nimport createToast from '../common/createToast';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport { InventoryCard } from '../utils/ScryfallCard';\nimport { GET_CARDS_WITH_INFO, RECEIVE_CARDS } from '../utils/api_resources';\n\nconst TRADE_TYPES = { CASH: 'CASH', CREDIT: 'CREDIT' }; // Customers can only receive cash or credit for their assets\n\n// Models the line item in the Receiving List and sets a unique UUID key on each\nclass LineItem extends InventoryCard {\n    constructor(cardProps) {\n        super(cardProps);\n\n        const { cashPrice, marketPrice, creditPrice } = cardProps;\n\n        this.cashPrice = cashPrice;\n        this.marketPrice = marketPrice;\n        this.creditPrice = creditPrice;\n        this.uuid_key = uuid();\n\n        if (creditPrice === 0) this.tradeType = TRADE_TYPES.CASH; // Set to cash if customer doesn't want credit\n        else this.tradeType = TRADE_TYPES.CREDIT; // Otherwise, default to credit\n    }\n}\n\nexport const ReceivingContext = React.createContext();\n\nexport function ReceivingProvider(props) {\n    const [searchResults, setSearchResults] = useState([]);\n    const [receivingList, setReceivingList] = useState([]);\n\n    /**\n     * Fetches cards from the DB by title when a user selects a title after querying.\n     * This function merges the data (inventory quantity and card objects) from two endpoints into one array.\n     * \n     * @param {String} term - the search term\n     */\n    const handleSearchSelect = async term => {\n        try {\n            const { data } = await axios.get(GET_CARDS_WITH_INFO, {\n                params: { title: term, matchInStock: false },\n                headers: makeAuthHeader()\n            });\n\n            setSearchResults(data.map(d => new InventoryCard(d)));\n        } catch (e) {\n            console.log(e);\n        }\n    };\n\n    /**\n     * Adds a card to the receiving list, with a unique uuid\n     */\n    const addToList = (quantity, cardProps) => {\n        const previousState = [...receivingList];\n\n        // Each line-item represents one card. Use _.times() to repeat\n        const newState = previousState.concat(_.times(quantity, () => new LineItem(cardProps)));\n\n        setReceivingList(_.sortBy(newState, 'name'));\n    }\n\n    /**\n     * Removes a card from the receiving list using the uuid\n     */\n    const removeFromList = uuid_key => {\n        const copiedState = [...receivingList];\n        _.remove(copiedState, e => e.uuid_key === uuid_key); // Mutates array\n        setReceivingList(copiedState);\n    }\n\n    /**\n     * Determines whether line-items use cash or credit. Changes the tradeType by reference in the receivingList array\n     * which changes the active prop in ReceivingListItem\n     */\n    const activeTradeType = (uuid_key, tradeType) => {\n        const previousState = [...receivingList];\n        const card = previousState.find(e => e.uuid_key === uuid_key);\n        card.tradeType = TRADE_TYPES[tradeType];\n        setReceivingList(previousState);\n    }\n\n    /**\n    * Sets all items to a tradeType, if possible\n    * \n    * @param {String} selectType - `CASH` or `CREDIT`\n    */\n    const selectAll = selectType => {\n        const oldState = [...receivingList];\n        const { CASH, CREDIT } = TRADE_TYPES;\n\n        oldState.forEach((card, idx, arr) => {\n            let selectedPrice = 0;\n\n            if (selectType === CASH) selectedPrice = card.cashPrice;\n            else if (selectType === CREDIT) selectedPrice = card.creditPrice;\n\n            if (selectedPrice > 0) arr[idx].tradeType = selectType;\n        })\n\n        setReceivingList(oldState);\n    }\n\n    /**\n     * Persists all passed cards to inventory\n     */\n    const commitToInventory = async () => {\n        try {\n            const cardsToCommit = receivingList.map(card => {\n                const { finishCondition, id, name, set_name, set } = card;\n                return { quantity: 1, finishCondition, id, name, set_name, set }; // Only committing one per line-item\n            })\n\n            await axios.post(RECEIVE_CARDS, { cards: cardsToCommit }, { headers: makeAuthHeader() });\n\n            setSearchResults([]);\n            setReceivingList([]);\n\n            createToast({\n                color: 'green',\n                header: `${receivingList.length} cards were added to inventory!`,\n                duration: 2000\n            });\n        } catch (e) {\n            console.log(e);\n            createToast({\n                color: 'red',\n                header: `Something went wrong...`,\n                duration: 2000\n            });\n        }\n    }\n\n    const resetSearchResults = () => setSearchResults([]);\n\n    return <ReceivingContext.Provider\n        value={{\n            searchResults,\n            receivingList,\n            handleSearchSelect,\n            addToList,\n            removeFromList,\n            activeTradeType,\n            selectAll,\n            commitToInventory,\n            resetSearchResults\n        }}>\n        {props.children}\n    </ReceivingContext.Provider>\n}","import React, { useState, useContext } from 'react';\nimport $ from 'jquery';\nimport { Segment, Input, Button, Form, Select, Label, Item } from 'semantic-ui-react';\nimport QohLabels from '../common/QohLabels';\nimport CardImage from '../common/CardImage';\nimport MarketPrice from '../common/MarketPrice'\nimport createToast from '../common/createToast';\nimport { ReceivingContext } from '../context/ReceivingContext';\nimport Language from '../common/Language';\n\nconst finishes = [\n    { key: 'NONFOIL', text: 'Nonfoil', value: 'NONFOIL' },\n    { key: 'FOIL', text: 'Foil', value: 'FOIL' }\n];\n\nconst cardConditions = [\n    { key: 'NM', text: 'Near Mint', value: 'NM' },\n    { key: 'LP', text: 'Light Play', value: 'LP' },\n    { key: 'MP', text: 'Moderate Play', value: 'MP' },\n    { key: 'HP', text: 'Heavy Play', value: 'HP' }\n];\n\n/**\n * Seeds state from props. Used to determine if cards have only foil, nonfoil, or both printings\n * from their `foil` and `nonfoil`\n * @param {Boolean} nonfoilProp\n * @param {Boolean} foilProp\n */\nfunction checkCardFinish(nonfoil, foil) {\n    if (!nonfoil && foil) {\n        return { selectedFinish: 'FOIL', finishDisabled: true };\n    } else if (nonfoil && !foil) {\n        return { selectedFinish: 'NONFOIL', finishDisabled: true };\n    } else if (nonfoil && foil) {\n        return { selectedFinish: 'NONFOIL', finishDisabled: false };\n    }\n}\n\nexport default function ReceivingSearchItem(props) {\n    const [quantity, setQuantity] = useState(1);\n    const [cashPrice, setCashPrice] = useState(0);\n    const [creditPrice, setCreditPrice] = useState(0);\n    const [selectedCondition, setSelectedCondition] = useState('NM');\n    const [marketPrice, setMarketPrice] = useState(0);\n    const [selectedFinish, setSelectedFinish] = useState(\n        checkCardFinish(props.nonfoil, props.foil).selectedFinish // seed state from props\n    );\n\n    // Determines whether the select finish dropdown is permanently disabled, seeded from props\n    const finishDisabled = checkCardFinish(props.nonfoil, props.foil).finishDisabled;\n\n    const { addToList } = useContext(ReceivingContext);\n\n    const handleFinishChange = (e, { value }) => setSelectedFinish(value);\n\n    const handleConditionChange = (e, { value }) => setSelectedCondition(value);\n\n    // Validates/sanitizes user inputs by tracking the `name` attribute of the input element\n    const handlePriceChange = (e, { value }) => {\n        let val = Number(value) || 0;\n        if (val < 0) val = 0;\n\n        switch (e.target.name) {\n            case \"cashInput\":\n                setCashPrice(val);\n                break;\n            case \"marketPriceInput\":\n                setMarketPrice(val);\n                break;\n            case \"creditInput\":\n                setCreditPrice(val);\n                break;\n            default:\n                break;\n        }\n    }\n\n    const handleQuantityChange = (e, { value }) => {\n        let val = parseInt(value, 10) || 0;\n        if (val < 0) val = 0; // cannot receive less than 0\n        if (val > 50) val = 50 // set max to 50 cards per single transaction\n        setQuantity(val);\n    };\n\n    const handleFocus = e => e.target.select();\n\n    const handleInventoryAdd = () => {\n        addToList(quantity, {\n            ...props,\n            cashPrice,\n            marketPrice,\n            creditPrice,\n            finishCondition: `${selectedFinish}_${selectedCondition}`, // ex. NONFOIL_NM\n        })\n\n        setQuantity(1);\n        setCashPrice(0);\n        setMarketPrice(0);\n        setCreditPrice(0);\n        setSelectedCondition('NM');\n        setSelectedFinish(checkCardFinish(props.nonfoil, props.foil).selectedFinish);\n\n        createToast({\n            color: 'green',\n            header: `${quantity}x ${props.name} added to buylist!`,\n            duration: 2000\n        });\n\n        // Highlight the input after successful card add\n        $('#searchBar').focus().select();\n    };\n\n    /**\n     * Determines whether the `Add` button should be disabled\n     */\n    const submitDisabled = () => {\n        const validateQty = quantity === 0 || quantity === '';\n        const validateTradeTypes = !cashPrice && !creditPrice;\n        const validateMarketPrice = marketPrice === 0 || marketPrice === '';\n\n        if (cashPrice > 0) {\n            return validateQty || validateTradeTypes || validateMarketPrice;\n        }\n\n        return validateQty || validateTradeTypes;\n    }\n\n    const {\n        image_uris,\n        name,\n        set_name,\n        set,\n        rarity,\n        card_faces,\n        id,\n        lang\n    } = props;\n\n    return (\n        <Segment>\n            <Item.Group divided>\n                <Item>\n                    <Item.Image size=\"small\">\n                        <CardImage\n                            image_uris={image_uris}\n                            card_faces={card_faces}\n                            hover={false}\n                        />\n                    </Item.Image>\n                    <Item.Content>\n                        <Item.Header as='h3'>\n                            {name}\n                            {' '}\n                            <i\n                                className={`ss ss-fw ss-${set} ss-${rarity}`}\n                                style={{ fontSize: '30px' }}\n                            />\n                            <Label color=\"grey\">\n                                {set_name} ({String(set).toUpperCase()})\n                                </Label>\n                            <QohLabels inventoryQty={props.qoh} />\n                            {' '}\n                            <MarketPrice id={id} finish={selectedFinish} />\n                            <Language languageCode={lang} />\n                        </Item.Header>\n                        <Item.Description>\n                            <Form>\n                                <Form.Group widths=\"12\">\n                                    <Form.Field\n                                        control={Input}\n                                        type=\"number\"\n                                        label=\"Quantity\"\n                                        value={quantity}\n                                        onChange={handleQuantityChange}\n                                        onFocus={e => e.target.select()}\n                                        className=\"receiving-quantity\"\n                                    />\n                                    <Form.Field\n                                        label=\"Credit Price\"\n                                        name=\"creditInput\"\n                                        control={Input}\n                                        type=\"number\"\n                                        value={creditPrice}\n                                        onChange={handlePriceChange}\n                                        onFocus={handleFocus}\n                                        step=\"0.25\"\n                                        className=\"receiving-credit\"\n                                    />\n                                    <Form.Field\n                                        label=\"Cash Price\"\n                                        name=\"cashInput\"\n                                        control={Input}\n                                        type=\"number\"\n                                        value={cashPrice}\n                                        onChange={handlePriceChange}\n                                        onFocus={handleFocus}\n                                        step=\"0.25\"\n                                        className=\"receiving-cash\"\n                                    />\n                                    <Form.Field\n                                        label=\"Market Price\"\n                                        name=\"marketPriceInput\"\n                                        control={Input}\n                                        type=\"number\"\n                                        value={marketPrice}\n                                        onChange={handlePriceChange}\n                                        onFocus={handleFocus}\n                                        step=\"0.25\"\n                                        disabled={cashPrice === 0 || cashPrice === ''}\n                                        className=\"receiving-market\"\n                                    />\n                                </Form.Group>\n                                <Form.Group widths=\"12\">\n                                    <Form.Field\n                                        label=\"Finish\"\n                                        control={Select}\n                                        value={selectedFinish}\n                                        options={finishes}\n                                        disabled={finishDisabled}\n                                        onChange={handleFinishChange}\n                                    />\n                                    <Form.Field\n                                        label=\"Condition\"\n                                        control={Select}\n                                        value={selectedCondition}\n                                        options={cardConditions}\n                                        onChange={handleConditionChange}\n                                    />\n                                    <Form.Button\n                                        label=\"Add to List?\"\n                                        control={Button}\n                                        primary\n                                        disabled={submitDisabled()}\n                                        onClick={handleInventoryAdd}\n                                    >\n                                        Add\n                                    </Form.Button>\n                                </Form.Group>\n                            </Form>\n                        </Item.Description>\n                    </Item.Content>\n                </Item>\n            </Item.Group>\n        </Segment>\n    );\n}","import React, { useContext } from 'react';\nimport ReceivingSearchItem from './ReceivingSearchItem';\nimport { ReceivingContext } from '../context/ReceivingContext';\n\nexport default function ReceivingCardList() {\n    const { searchResults } = useContext(ReceivingContext);\n\n    return searchResults.map(c => {\n        return <ReceivingSearchItem\n            key={c.id}\n            {...c}\n            qoh={c.qoh}\n        />\n    });\n}\n","import React from 'react';\nimport { Segment, Header, Icon } from 'semantic-ui-react';\n\nexport default function DefaultPlaceholder({ active, children }) {\n    return <React.Fragment>\n        {active &&\n            <Segment placeholder>\n                <Header icon>\n                    <Icon name=\"search\" />\n                    <em>{children}</em>\n                </Header>\n            </Segment>}\n    </React.Fragment>\n}","import React, { useState, useContext } from 'react';\nimport { Table, Button, Label, Icon } from 'semantic-ui-react';\nimport Price from '../common/Price';\nimport { ReceivingContext } from '../context/ReceivingContext';\n\n// Defines whether it uses cash or credit for trade types\nconst TRADE_TYPE = { CASH: 'CASH', CREDIT: 'CREDIT' };\n\nexport default function ReceivingListItem({ display_name, set, rarity, cashPrice, creditPrice, finishCondition, uuid_key, tradeType }) {\n    const { CASH, CREDIT } = TRADE_TYPE;\n    const [hovered, setHovered] = useState(false);\n    const { removeFromList, activeTradeType } = useContext(ReceivingContext);\n\n    return (\n        <Table.Row>\n            <Table.Cell><b>{display_name}</b></Table.Cell>\n            <Table.Cell singleLine>\n                <i\n                    className={`ss ss-fw ss-${set} ss-${rarity}`}\n                    style={{ fontSize: '20px' }}\n                />\n                <Label color=\"grey\">{set.toUpperCase()}</Label>\n            </Table.Cell>\n            <Table.Cell>\n                <div style={{ whiteSpace: 'noWrap' }}>\n                    Cash <b><Price num={cashPrice} /></b>\n                </div>\n                <div style={{ whiteSpace: 'noWrap' }}>\n                    Credit <b><Price num={creditPrice} /></b>\n                </div>\n                <p>{finishCondition.split('_')[0]} | {finishCondition.split('_')[1]}</p>\n            </Table.Cell>\n            <Table.Cell>\n                <Button\n                    active={tradeType === CASH}\n                    color={tradeType === CASH ? 'blue' : null}\n                    onClick={() => activeTradeType(uuid_key, CASH)}\n                    disabled={cashPrice === 0}\n                    icon\n                >\n                    <Icon name=\"dollar sign\"></Icon>\n                </Button>\n            </Table.Cell>\n            <Table.Cell>\n                <Button\n                    active={tradeType === CREDIT}\n                    color={tradeType === CREDIT ? 'blue' : null}\n                    onClick={() => activeTradeType(uuid_key, CREDIT)}\n                    disabled={creditPrice === 0}\n                    icon\n                >\n                    <Icon name=\"credit card outline\"></Icon>\n                </Button>\n            </Table.Cell>\n            <Table.Cell>\n                <Button\n                    icon=\"cancel\"\n                    circular\n                    onClick={() => removeFromList(uuid_key)}\n                    onMouseOver={() => setHovered(true)}\n                    onMouseOut={() => setHovered(false)}\n                    color={hovered ? 'red' : null}\n                >\n                </Button>\n            </Table.Cell>\n        </Table.Row>\n    );\n}","import React from 'react';\nimport _ from 'lodash';\nimport Price from '../common/Price';\nimport { Table } from 'semantic-ui-react';\n\n// Am I crazy or is this logic really convoluted?\n// Perhaps look at this down the line for improvement...\nexport default function CashReport({ receivingList, closeCashModal }) {\n    // If id, cashPrice and marketPrice are the same, goes in one bucket\n    const countByPriceAndID = _.chain(receivingList)\n        .filter(c => c.tradeType === 'CASH')\n        .map(c => {\n            // Note: We're creating a unique uuid-esque comparator string based on:\n            // `id`, `cashPrice`, `marketPrice`, and `finishCondition`\n            return { ...c, temp_uuid: `${c.id}-${c.cashPrice}-${c.marketPrice}-${c.finishCondition}` }\n        })\n        .groupBy(\"temp_uuid\")\n        .mapValues(val => val.length)\n        .value();\n\n    const uniqLineItems = _.chain(receivingList)\n        .filter(c => c.tradeType === 'CASH')\n        .map(c => {\n            return { ...c, temp_uuid: `${c.id}-${c.cashPrice}-${c.marketPrice}-${c.finishCondition}` }\n        })\n        .uniqBy('temp_uuid')\n        .value();\n\n    const mergedWithQty = uniqLineItems.map(c => {\n        return { ...c, tradeQty: countByPriceAndID[c.temp_uuid] } // Add a trade quantity referencing the previous count\n    });\n\n    const totalCashOut = _.chain(receivingList)\n        .filter(c => c.tradeType === 'CASH')\n        .sumBy(c => c.cashPrice)\n        .value();\n\n    return <React.Fragment>\n        <div id=\"cash-report\">\n            <Table celled>\n                <Table.Header>\n                    <Table.Row>\n                        <Table.HeaderCell colSpan={6}>Employee Name:</Table.HeaderCell>\n                    </Table.Row>\n                    <Table.Row>\n                        <Table.HeaderCell>Card Name</Table.HeaderCell>\n                        <Table.HeaderCell>Market Value</Table.HeaderCell>\n                        <Table.HeaderCell>Condition</Table.HeaderCell>\n                        <Table.HeaderCell>Quantity</Table.HeaderCell>\n                        <Table.HeaderCell>Cash Offer</Table.HeaderCell>\n                        <Table.HeaderCell>Cash Out</Table.HeaderCell>\n                    </Table.Row>\n                </Table.Header>\n                <Table.Body>\n                    {mergedWithQty.map(c => {\n                        return <Table.Row key={c.temp_uuid}>\n                            <Table.Cell>{c.name}</Table.Cell>\n                            <Table.Cell><Price num={c.marketPrice} /></Table.Cell>\n                            <Table.Cell>{c.finishCondition}</Table.Cell>\n                            <Table.Cell>{c.tradeQty}</Table.Cell>\n                            <Table.Cell><Price num={c.cashPrice} /></Table.Cell>\n                            <Table.Cell><Price num={c.tradeQty * c.cashPrice} /></Table.Cell>\n                        </Table.Row>\n                    })}\n                </Table.Body>\n                <Table.Footer>\n                    <Table.HeaderCell colSpan={6}>Total: <Price num={totalCashOut} /></Table.HeaderCell>\n                </Table.Footer>\n            </Table>\n        </div>\n    </React.Fragment>\n}","import React, { useState, useContext } from 'react';\nimport { Modal, Header, Button } from 'semantic-ui-react';\nimport { ReceivingContext } from '../context/ReceivingContext';\nimport Price from '../common/Price';\n\nexport default function ReceivingListModal({ cashTotal, creditTotal }) {\n    const [loading, setLoading] = useState(false);\n    const [showModal, setShowModal] = useState(false);\n\n    const { receivingList, commitToInventory } = useContext(ReceivingContext);\n\n    const submitToInventory = async () => {\n        setLoading(true);\n        await commitToInventory();\n        setLoading(false);\n    }\n\n    return <Modal\n        closeOnDimmerClick={false}\n        trigger={\n            <Button\n                id=\"commit-to-inv\"\n                color=\"blue\"\n                disabled={receivingList.length === 0}\n                onClick={() => setShowModal(true)}>\n                Commit to inventory\n             </Button>\n        }\n        open={showModal}\n        onClose={() => setShowModal(false)}\n        basic style={{ marginTop: '50px' }} >\n        <Header>Confirm receipt of new inventory?</Header>\n        <Modal.Content>\n            <p><b>Pressing 'Submit' will commit the following items to inventory:</b></p>\n            <ul>\n                {receivingList.map(c => {\n                    return <li key={c.uuid_key}>{c.name} | {c.set_name}({c.set.toUpperCase()})</li>\n                })}\n            </ul>\n            <div>\n                <p><b>The customer is owed: </b></p>\n                <ul>\n                    {cashTotal > 0 ? <li><Price num={cashTotal} /> in cold, hard cash</li> : null}\n                    {creditTotal > 0 ? <li><Price num={creditTotal} /> in store credit</li> : null}\n                </ul>\n            </div>\n        </Modal.Content>\n        <Modal.Actions>\n            <Button basic color=\"red\" inverted onClick={() => setShowModal(false)}>Cancel</Button>\n            <Button\n                id=\"submit-to-inv\"\n                color=\"green\"\n                inverted\n                loading={loading}\n                disabled={loading}\n                onClick={submitToInventory}\n            >Submit</Button>\n        </Modal.Actions>\n    </Modal>\n}","import React, { useState, useContext } from 'react';\nimport { Segment, Statistic, Button, Modal } from 'semantic-ui-react';\nimport styled from 'styled-components';\nimport Price from '../common/Price';\nimport CashReport from './CashReport';\nimport printCashReport from './printCashReport';\nimport ReceivingListModal from './ReceivingListModal';\nimport { ReceivingContext } from '../context/ReceivingContext';\n\nconst FlexRow = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n`;\n\nconst FlexCol = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n    min-height: 100px;\n`;\n\nconst StatisticColor = styled(Statistic.Label)`\n    color: gray !important;\n`;\n\nconst TRADE_TYPE = { CASH: 'CASH', CREDIT: 'CREDIT' };\n\nexport default function ReceivingListTotals() {\n    const { CASH, CREDIT } = TRADE_TYPE;\n    const [showCashModal, setShowCashModal] = useState(false);\n    const { receivingList, selectAll } = useContext(ReceivingContext);\n\n    const openCashModal = () => setShowCashModal(true);\n    const closeCashModal = () => setShowCashModal(false);\n\n    const handlePrintCashReport = () => {\n        setShowCashModal(false); // Close the modal so users don't have to after printing in new tab\n        printCashReport();\n    }\n\n    const cashTotal = receivingList.reduce((acc, curr) => {\n        let cashVal = curr.tradeType === CASH ? curr.cashPrice : 0;\n        return acc + cashVal;\n    }, 0);\n\n    const creditTotal = receivingList.reduce((acc, curr) => {\n        let creditVal = curr.tradeType === CREDIT ? curr.creditPrice : 0;\n        return acc + creditVal;\n    }, 0);\n\n    return <Segment>\n        <FlexRow>\n            <FlexCol>\n                <Button.Group>\n                    <Button id=\"select-all-cash\" onClick={() => selectAll(TRADE_TYPE.CASH)}>Select all cash</Button>\n                    <Button.Or />\n                    <Button id=\"select-all-credit\" onClick={() => selectAll(TRADE_TYPE.CREDIT)}>Select all credit</Button>\n                </Button.Group>\n                <Modal\n                    open={showCashModal}\n                    trigger={\n                        <Button\n                            color={cashTotal > 0 ? 'green' : null}\n                            disabled={cashTotal === 0}\n                            onClick={openCashModal}>\n                            Generate cash report\n                    </Button>\n                    }>\n                    <Modal.Content>\n                        <CashReport\n                            receivingList={receivingList}\n                            closeCashModal={closeCashModal} />\n                    </Modal.Content>\n                    <Modal.Actions>\n                        <Button onClick={handlePrintCashReport} color=\"blue\">Print Report</Button>\n                        <Button onClick={closeCashModal}>Cancel</Button>\n                    </Modal.Actions>\n                </Modal>\n            </FlexCol>\n            <FlexCol>\n                <Segment>\n                    <div>\n                        <Statistic size=\"mini\">\n                            <StatisticColor>Cash Due</StatisticColor>\n                            <Statistic.Value id=\"cash-total\"><Price num={cashTotal} /></Statistic.Value>\n                        </Statistic>\n                        <Statistic size=\"mini\">\n                            <StatisticColor>Credit Due</StatisticColor>\n                            <Statistic.Value id=\"credit-total\"><Price num={creditTotal} /></Statistic.Value>\n                        </Statistic>\n                    </div>\n                    <ReceivingListModal\n                        cashTotal={cashTotal}\n                        creditTotal={creditTotal}\n                    />\n                </Segment>\n            </FlexCol>\n        </FlexRow>\n\n    </Segment>\n}","const printStyle = `\n    body {\n        font-family: 'helvetica neue', helvetica, arial, sans-serif;\n    }\n\n    table {\n        table-layout: fixed;\n        width: 100%;\n        border-collapse: collapse;\n        border: 1px solid gray;\n        text-align: left;\n    }\n\n    thead th:nth-child(1) {\n        width: 30%;\n    }\n\n    thead th:nth-child(2) {\n        width: 20%;\n    }\n\n    thead th:nth-child(3) {\n        width: 15%;\n    }\n\n    thead th:nth-child(4) {\n        width: 35%;\n    }\n\n    th, td {\n        border: 1px solid #ddd;\n        padding: 10px;\n    }\n\n    tfoot {\n        text-align: right !important;\n    }\n`;\n\n/**\n     * We're creating a new tab here for the modal table and writing CSS to it - not the most elegant solution from a UX and\n     * code standpoint, but time was of the essence for this release. Refactor down the road.\n     * \n     * The id cash-report is found on the cash report table\n     */\nexport default function printCashReport() {\n    const divToPrint = document.getElementById('cash-report');\n    const popup = window.open('', '_blank');\n    popup.document.open();\n    popup.document.write(`<html>`);\n    popup.document.write(`<head>`);\n    popup.document.write(`<title>Cash Report</title>`)\n    popup.document.write(`<style>${printStyle}</style>`);\n    popup.document.write(`</head>`);\n    popup.document.write(`<body onload=\"window.print()\">`);\n    popup.document.write(`${divToPrint.innerHTML}`);\n    popup.document.write(`</body>`);\n    popup.document.write(`</html>`);\n    popup.document.close();\n}","import React from 'react';\nimport { Table } from 'semantic-ui-react';\nimport ReceivingListItem from './ReceivingListItem';\nimport ReceivingListTotals from './ReceivingListTotals';\n\nexport default function ReceivingList({ cards }) {\n    return <React.Fragment>\n        {cards.length > 0 && <Table compact size=\"small\">\n            <Table.Body className='receiving-list-table'>\n                {cards.map(card => {\n                    const { name, display_name, set, rarity, cashPrice, creditPrice, finishCondition, uuid_key, tradeType, qoh } = card;\n                    return <ReceivingListItem\n                        name={name}\n                        display_name={display_name}\n                        set={set}\n                        rarity={rarity}\n                        cashPrice={cashPrice}\n                        creditPrice={creditPrice}\n                        finishCondition={finishCondition}\n                        uuid_key={uuid_key}\n                        tradeType={tradeType}\n                        qoh={qoh}\n                        key={uuid_key}\n                    />\n                })}\n            </Table.Body>\n        </Table>}\n\n        {cards.length > 0 && <ReceivingListTotals />}\n    </React.Fragment>\n}","import React, { useContext, useEffect } from 'react';\nimport SearchBar from '../common/SearchBar';\nimport ReceivingSearchList from './ReceivingSearchList';\nimport { Header, Grid, Divider } from 'semantic-ui-react'\nimport { ReceivingContext } from '../context/ReceivingContext';\nimport DefaultPlaceholder from './DefaultPlaceholder'\nimport ReceivingList from './ReceivingList'\n\nexport default function Receiving() {\n    const {\n        searchResults,\n        receivingList,\n        handleSearchSelect,\n        resetSearchResults\n    } = useContext(ReceivingContext);\n\n    // Reset the search results on componentDidUnmount to clear store\n    useEffect(() => {\n        return () => resetSearchResults()\n    }, [])\n\n    return <React.Fragment>\n        <SearchBar handleSearchSelect={handleSearchSelect} />\n        <br />\n        <Grid stackable={true}>\n            <Grid.Row>\n                <Grid.Column width=\"10\">\n                    <Header as=\"h2\" style={{ display: \"inline-block\" }}>Card Search</Header>\n\n                    <Divider />\n\n                    <DefaultPlaceholder active={!searchResults.length}>\n                        \"So many cards, so little time.\"\n                    </DefaultPlaceholder>\n\n                    <ReceivingSearchList />\n                </Grid.Column>\n                <Grid.Column width=\"6\">\n                    <Header as=\"h2\" style={{ display: \"inline-block\" }}>Buylist</Header>\n                    {receivingList.length > 0 &&\n                        <Header floated=\"right\" style={{ display: \"inline-block\" }}>Total Cards: {receivingList.length}</Header>\n                    }\n\n                    <Divider />\n\n                    <DefaultPlaceholder active={!receivingList.length}>\n                        \"If you receive it, they will come.\"\n                     </DefaultPlaceholder>\n\n                    <ReceivingList cards={receivingList} />\n\n                </Grid.Column>\n            </Grid.Row>\n        </Grid>\n    </React.Fragment>\n}\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { GET_ALL_SALES } from '../utils/api_resources';\nimport { Segment, Icon, Grid } from 'semantic-ui-react';\nimport Highcharts from 'highcharts';\nimport moment from 'moment';\nimport _ from 'lodash';\n\nexport default function Reports() {\n    // const [salesData, setSalesData] = useState([]);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        (async () => {\n            setLoading(true);\n\n            const { data } = await axios.get(GET_ALL_SALES);\n            const { sales_data, format_legalities } = data;\n\n            const groupByDay = _.groupBy(sales_data, d => moment(d.sale_data.timeStamp).startOf('day').format());\n\n            const dailySalesTotals = {};\n            const dailyAverageSales = {};\n            const rangeBuckets = {\n                0: 0, // $0.50 to $0.99\n                1: 0, // $1.00 to $4.99 \n                2: 0, // $5.00 to $9.99\n                3: 0, // $10.00 to $19.99\n                4: 0, // $20.00 to $49.99\n                5: 0, // $50.00 and above\n            };\n            const rarityCounts = {};\n\n            // Create daily sales totals\n            _.forOwn(groupByDay, (val, key) => {\n                dailySalesTotals[key] = val.reduce((acc, curr) => acc + curr.sale_data.total, 0);\n            });\n\n            // Create average sales totals\n            _.forOwn(groupByDay, (val, key) => {\n                dailyAverageSales[key] = val.reduce((acc, curr) => acc + curr.sale_data.total, 0) / val.length;\n            });\n\n            // Create range buckets for card prices\n            const cards = [];\n            sales_data.forEach(d => cards.push(...d.card_list));\n            cards.forEach(c => {\n                if (c.price >= 0.5 && c.price < 1) rangeBuckets[0] += c.qtyToSell;\n                if (c.price >= 1 && c.price < 5) rangeBuckets[1] += c.qtyToSell;\n                if (c.price >= 5 && c.price < 10) rangeBuckets[2] += c.qtyToSell;\n                if (c.price >= 10 && c.price < 20) rangeBuckets[3] += c.qtyToSell;\n                if (c.price >= 20 && c.price < 50) rangeBuckets[4] += c.qtyToSell;\n                if (c.price >= 50) rangeBuckets[5] += c.qtyToSell;\n            });\n\n            // Create rarity sales counts\n            cards.forEach(c => {\n                if (rarityCounts[c.rarity]) {\n                    rarityCounts[c.rarity] += c.qtyToSell\n                } else {\n                    rarityCounts[c.rarity] = c.qtyToSell;\n                }\n            });\n\n            // Create format legality data\n            const legalityCounts = { standard: 0, nonStandard: 0 };\n\n            format_legalities.forEach(c => {\n                const qtySold = c.qtyToSell;\n\n                if (!c.legalities) return; // Some cards may not link via mongo $lookup\n\n                if (c.legalities.standard === \"legal\") {\n                    legalityCounts.standard += qtySold;\n                } else {\n                    legalityCounts.nonStandard += qtySold;\n                }\n            });\n\n            // Format data for consumption by Highcharts API\n            const formattedDailySalesTotals = Object.entries(dailySalesTotals).map(el => [new Date(el[0]).getTime(), el[1]]);\n\n            const formattedDailyAverageSales = Object.entries(dailyAverageSales).map(el => [new Date(el[0]).getTime(), el[1]]);\n\n            const formattedRangeBuckets = Object.entries(rangeBuckets).map(d => d[1]);\n\n            const formattedRarityCounts = Object.entries(rarityCounts).map(d => ({ name: d[0], y: d[1] }));\n\n            const formattedLegalities = Object.entries(legalityCounts).map(d => ({ name: d[0], y: d[1] }));\n\n            setLoading(false);\n\n            Highcharts.setOptions({\n                lang: {\n                    thousandsSep: ','\n                }\n            });\n\n            Highcharts.chart('daily-sales', {\n                chart: {\n                    zoomType: 'x'\n                },\n                title: {\n                    text: 'Sales Over Time'\n                },\n                subtitle: {\n                    text: 'Click and drag to zoom'\n                },\n                credits: {\n                    enabled: false\n                },\n                xAxis: {\n                    type: 'datetime',\n                    title: {\n                        text: 'Date'\n                    }\n                },\n                yAxis: {\n                    title: {\n                        text: 'USD ($)'\n                    }\n                },\n                legend: {\n                    enabled: true\n                },\n                series: [{\n                    type: 'spline',\n                    data: formattedDailySalesTotals,\n                    name: 'Total Sales',\n                    tooltip: {\n                        valueDecimals: 2\n                    }\n                }, {\n                    type: 'spline',\n                    data: formattedDailyAverageSales,\n                    name: 'Average Sales',\n                    tooltip: {\n                        valueDecimals: 2\n                    }\n                }]\n            });\n\n            Highcharts.chart('price-buckets', {\n                chart: {\n                    type: 'bar'\n                },\n                title: {\n                    text: 'Cards Sold Per Price Range'\n                },\n                subtitle: {\n                    text: 'All-time'\n                },\n                yAxis: {\n                    min: 0,\n                    title: {\n                        text: 'Number sold'\n                    }\n                },\n                xAxis: {\n                    categories: [\n                        '$0.50 - $0.99',\n                        '$1.00 - $4.99',\n                        '$5.00 - $9.99',\n                        '$10.00 - $19.99',\n                        '$20.00 - $49.99',\n                        '$50.00 +'\n                    ]\n                },\n                plotOptions: {\n                    bar: {\n                        dataLabels: {\n                            enabled: true\n                        }\n                    }\n                },\n                legend: {\n                    enabled: false\n                },\n                credits: {\n                    enabled: false\n                },\n                series: [{\n                    name: \"Total cards\",\n                    data: formattedRangeBuckets\n                }]\n            });\n\n            Highcharts.chart('rarity-sales', {\n                chart: {\n                    plotBackgroundColor: null,\n                    plotBorderWidth: null,\n                    plotShadow: null,\n                    type: 'pie'\n                },\n                title: {\n                    text: 'Cards Sold Per Rarity'\n                },\n                subtitle: {\n                    text: 'All-time'\n                },\n                plotOptions: {\n                    pie: {\n                        dataLabels: {\n                            enabled: true,\n                            format: '<b>{point.name}</b><br>{point.percentage:.0f} %',\n                            distance: -50,\n                            filter: {\n                                property: 'percentage',\n                                operator: '>',\n                                value: 4\n                            }\n                        },\n                        colors: ['#7bb5ed', '#6798c8', '#4b769f', '#2d567c']\n                    }\n                },\n                legend: {\n                    enabled: false\n                },\n                credits: {\n                    enabled: false\n                },\n                series: [{\n                    name: \"Cards Sold\",\n                    data: formattedRarityCounts\n                }]\n            })\n\n            Highcharts.chart('format-legalities', {\n                chart: {\n                    plotBackgroundColor: null,\n                    plotBorderWidth: null,\n                    plotShadow: null,\n                    type: 'pie'\n                },\n                title: {\n                    text: 'Standard vs Non-Standard Sales'\n                },\n                subtitle: {\n                    text: 'All-time'\n                },\n                plotOptions: {\n                    pie: {\n                        dataLabels: {\n                            enabled: true,\n                            format: '<b>{point.name}</b><br>{point.percentage:.0f} %',\n                            distance: -50,\n                            filter: {\n                                property: 'percentage',\n                                operator: '>',\n                                value: 4\n                            }\n                        },\n                        colors: ['#7bb5ed', '#6798c8', '#4b769f', '#2d567c']\n                    }\n                },\n                legend: {\n                    enabled: false\n                },\n                credits: {\n                    enabled: false\n                },\n                series: [{\n                    name: \"Cards Sold\",\n                    data: formattedLegalities\n                }]\n            })\n        })();\n    }, []);\n\n    return (\n        <React.Fragment>\n            <Segment secondary>\n                <Icon name=\"exclamation triangle\" color=\"blue\" />\n                This feature is currently in beta. Metrics may not be entirely accurate. Please contact your development team if you have any feedback!\n            </Segment>\n            <Segment loading={loading}>\n                <div id=\"daily-sales\" style={{ width: \"100%\", height: \"400px\" }} />\n            </Segment>\n            <Grid columns={2} stackable={true}>\n                <Grid.Column>\n                    <Segment loading={loading}>\n                        <div id=\"price-buckets\" style={{ width: \"100%\", height: \"400px\" }} />\n                    </Segment>\n                </Grid.Column>\n                <Grid.Column>\n                    <Segment loading={loading}>\n                        <div id=\"rarity-sales\" style={{ width: \"100%\", height: \"400px\" }} />\n                    </Segment>\n                </Grid.Column>\n                <Grid.Column>\n                    <Segment loading={loading}>\n                        <div id=\"format-legalities\" style={{ width: \"100%\", height: \"400px\" }} />\n                    </Segment>\n                </Grid.Column>\n            </Grid>\n        </React.Fragment>\n    );\n}","import React from 'react';\nimport styled from 'styled-components';\n\nconst Text = styled.p`\n    font-size: 16px;\n    color: black;\n    text-align: left;\n`;\n\nconst Image = styled.img`\n    width: 100%;\n`;\n\nconst Content = styled.div`\n    padding: 2px 16px;\n`;\n\nconst Container = styled.div`\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\n    border-radius: 5px 5px 5px 5px;\n    width: 380px;\n    height: 700px;\n    margin: 10px 10px 10px 10px;\n    overflow: hidden; // This allows us to edit the borders on the card's border-flush images\n\n    @media (max-width: 800px) {\n        width: 320px;\n    }\n`;\n\nexport default function Card({ imageSrc, header, date, children }) {\n    return <Container>\n        <Image src={imageSrc} />\n        <Content>\n            <h3><b>{header}</b></h3>\n            <p><em>{date}</em></p>\n            <Text>{children}</Text>\n        </Content>\n    </Container>\n}","import React from 'react';\nimport styled from 'styled-components';\nimport { Icon, Label } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport Card from './Card';\nimport clubhouse_products from './clubhouse_products.png';\nimport ikoria_splash from './ikoria_splash.jpg';\nimport core_2021_draft_booster from './core_2021_draft_booster.png';\nimport core_2021_collector from './core_2021_collector.jpg';\nimport double_masters from './double_masters.png';\n\nconst Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n`;\n\nconst BaseContent = styled.div`\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    margin-top: 52px;\n`;\n\nconst ContentContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    width: 1200px;\n\n    @media (max-width: 800px) {\n        width: 100%;\n        padding: 0px 10px 0px 10px;\n    }\n`;\n\nconst Image = styled.div`\n    background: url(${clubhouse_products});\n    background-size: cover;\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    height: 500px;\n    width: 100%;\n    z-index: -50;\n`;\n\nconst Image2 = styled.div`\n    background: url(${clubhouse_products});\n    background-size: cover;\n    position: absolute;\n    left: 0px;\n    height: 400px;\n    width: 100%;\n    z-index: -50;\n    opacity: 0.15;\n`;\n\nconst ImageMask = styled.div`\n    background-image: linear-gradient(to bottom, rgba(32, 106, 208, 1), rgba(32, 106, 208, 0.85), rgba(32, 106, 208, 0.66), rgba(255, 255, 255, 1));\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    height: 500px;\n    width: 100%;\n    z-index: -49;\n`;\n\nconst ImageMask2 = styled.div`\n    background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(255, 255, 255, 1));\n    position: absolute;\n    left: 0px;\n    height: 400px;\n    width: 100%;\n    z-index: -49;\n`;\n\nconst Divider = styled.div`\n    display: flex;\n    flex-direction: column;\n    min-height: 400px;\n`;\n\nconst FlexRow = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n`;\n\nconst FlexRowResponsive = styled(FlexRow)`\n    justify-content: flex-start;\n\n    @media (max-width: 800px) {\n        justify-content: center;\n        flex-wrap: wrap;\n    }\n`;\n\nconst SpanStyle = styled.span`\n    margin-right: 10px;\n`;\n\nconst FlexColumn = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n`;\n\nconst Slogan = styled.h1`\n    font-size: 83px;\n    color: white;\n\n    @media (max-width: 800px) {\n        font-size: 45px;\n        text-align: center;\n    }\n`;\n\nconst Header = styled.p`\n    font-size: 50px;\n    margin-top: 0px;\n    color: black;\n\n    @media (max-width: 800px) {\n        font-size: 27px;\n    }\n`;\n\nconst Subheader = styled.p`\n    font-size: 23px;\n    margin-top: 0px;\n    color: ${(props) => props.color || 'black'};\n\n    @media (max-width: 800px) {\n        font-size: 18px;\n        text-align: center;\n    }\n`;\n\nconst Button = styled.button`\n    outline: none;\n    width: 200px;\n    height: 45px;\n    background-color: rgb(33, 133, 208);\n    border-radius: 20px 20px 20px 20px;\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\n    cursor: pointer;\n    margin-right: 20px;\n    margin-top: 10px;\n    font-size: 17px;\n    color: white;\n    border: 0px;\n    \n    :hover {\n        background-color: rgb(35, 139, 219);\n        box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.4);\n    }\n`;\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(380px, max-content));\n    grid-gap: 10px;\n    justify-content: center;\n\n    @media (max-width: 800px) {\n        grid-template-columns: repeat(auto-fit, minmax(320px, max-content));\n    }\n`;\n\nconst IconStyled = styled(Icon)`\n    background-color: rgb(33, 133, 208);\n    color: white;\n`;\n\nconst FooterIcon = styled(Icon)`\n    color: white;\n`;\n\nconst BodyText = styled.p`\n    font-size: ${props => props.size || '16px'};\n    color: ${props => props.color || 'black'};\n    text-align: ${props => props.align === 'center' ? 'center' : 'left'};\n`;\n\nconst Spacer = styled.div`\n    width: 100%;\n    height: ${props => props.height || 0}px;\n`;\n\nconst FooterStyle = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    height: 50px;\n    background-color: darkslategray;\n    width: 100%;\n    bottom: 0;\n    padding: 0px 10px 0px 10px;\n`;\n\nconst SocialMedia = styled.div`\n    position: absolute;\n    top: 10px;\n    right: 10px;\n`;\n\nconst ServiceCard = ({ icon = \"users\", header = \"Header\", content = \"Content\", align }) => {\n    return <FlexColumn>\n        <IconStyled circular name={icon} size=\"huge\" />\n        <Subheader>{header}</Subheader>\n        <BodyText color=\"gray\" align={align}>\n            {content}\n        </BodyText>\n    </FlexColumn>\n}\n\nconst InfoCard = ({ icon = \"users\", header = \"Header\", content = \"Content\", align }) => {\n    return <FlexColumn>\n        <Icon name={icon} size=\"big\" />\n        <Subheader>{header}</Subheader>\n        <BodyText color=\"gray\" align={align}>\n            {content}\n        </BodyText>\n    </FlexColumn>\n}\n\nexport default function LandingPage() {\n    return <Wrapper>\n        <BaseContent>\n            <ContentContainer>\n                <SocialMedia>\n                    <div>\n                        <a href=\"https://discord.gg/Wpej7dQ\" target=\"_blank\" rel=\"noopener noreferrer\">\n                            <FooterIcon link name=\"discord\" size=\"big\" />\n                        </a>\n                        <a href=\"https://www.facebook.com/RGTClubhouse/\" target=\"_blank\" rel=\"noopener noreferrer\">\n                            <FooterIcon link name=\"facebook\" size=\"big\" />\n                        </a>\n                    </div>\n                </SocialMedia>\n                <Spacer height=\"30\" />\n                <Divider>\n                    <Slogan>The Clubhouse is open <span role=\"img\" aria-label=\"confetti\">🎉</span></Slogan>\n                    <Subheader color=\"white\">It's official! We are now open 7 days a week. Play space is limited to 16 mask-wearing players.</Subheader>\n                    <FlexRowResponsive>\n                        {/* <Link to=\"/calendar\">\n                            <Button><b>Events calendar</b></Button>\n                        </Link> */}\n                        <Link to=\"/public-inventory\">\n                            <Button><b>Browse cards</b></Button>\n                        </Link>\n                    </FlexRowResponsive>\n                    <ImageMask />\n                    <Image />\n                </Divider>\n\n                <FlexRow>\n                    <Header>Latest News</Header>\n                </FlexRow>\n                <Spacer height=\"30\" />\n                <Grid>\n                    <Card imageSrc={double_masters}\n                        header=\"New product preorders!\"\n                        date=\"06/08/2020\">\n                        <p>\n                            The time has come! We have had loads of questions about all the upcoming products, and we are excited to start taking PRE ORDERS on a range of upcoming items:\n                        </p>\n                        <ul>\n                            <li>Jump Start $90 per box, Limit 2</li>\n                            <li>Double Masters $249 per box, Limit 2</li>\n                            <li>Double Masters VIP $369 per box, No Limit</li>\n                            <li>Double Master VIP $95 per pack, Limit 1</li>\n                        </ul>\n                    </Card>\n                    <Card imageSrc={core_2021_collector}\n                        header=\"Collector Booster preorders!\"\n                        date=\"06/02/2020\">\n                        <p>\n                            To compound the excitement, We JUST got numbers on Collector Boosters for Core 2021! We are now taking pre-orders for those as well! $229 per, limit 1 box per customer.\n                        </p>\n                    </Card>\n                    <Card imageSrc={core_2021_draft_booster}\n                        header=\"Core 2021 preorders!\"\n                        date=\"06/02/2020\">\n                        <p>\n                            It's already time. Core 2021 is upon us. We are now taking Booster Box pre-orders! $100 per box, 2 boxes per person limit. Pre-release sign ups will begin on June 19th!\n                        </p>\n                    </Card>\n                    <Card imageSrc={ikoria_splash}\n                        header=\"Big announcement!\"\n                        date=\"05/31/2020\">\n                        <p>\n                            The Clubhouse play space re-opens TOMORROW! We are open 7 days a week from 2pm to 9 pm! There will be a 16 person capacity enforced on seating. MASKS are REQUIRED for play or any customer service.\n                        </p>\n                        <p>\n                            This means EVENTS are returning in a limited capacity. Tuesday and Saturday are FREE PLAY Commander! A pack of Ikoria will be given to the first pod that starts play on each free play day. Wednesday we will have an Ikoria booster draft for $15! Then on Friday evening we will be holding a MYSTERY BOOSTER DRAFT for $35! Pack and a half of prize support per participant will be added to the prizes as well as free pizza, and giveaways during our Mystery Booster event!\n                        </p>\n                    </Card>\n                </Grid>\n\n                <Spacer height=\"30\" />\n\n                <Divider>\n                    <Spacer height=\"30\" />\n                    <FlexRow>\n                        <Header>Our Services</Header>\n                    </FlexRow>\n                    <FlexRow>\n                        <Subheader>We're here for all your CCG needs!</Subheader>\n                    </FlexRow>\n                    <Spacer height=\"30\" />\n                    <Grid>\n                        <ServiceCard\n                            icon=\"box\"\n                            header=\"Large product selection\"\n                            content=\"We stock an extensive selection of singles and CCG supplies just for you! When the deckbuilding itch strikes, turn to us\"\n                            align=\"center\"\n                        />\n                        <ServiceCard\n                            header=\"Inclusive community\"\n                            content=\"We pride ourselves on our friendly atmosphere. Young or seasoned, beginner or advanced, we welcome all players!\"\n                            align=\"center\"\n                        />\n                        <ServiceCard\n                            icon=\"dollar sign\"\n                            header=\"Cash or credit trade-ins\"\n                            content=\"Whether a whole collection or a single card, come on by and have one of our expert managers appraise it using competitive market rates\"\n                            align=\"center\"\n                        />\n                    </Grid>\n                    <ImageMask2 />\n                    <Image2 />\n                </Divider>\n                <Spacer height=\"30\" />\n                <Grid>\n                    <InfoCard\n                        icon=\"clock\"\n                        header=\"Hours\"\n                        content=\" Mon - Thu 2pm to 9pm, Fri - Sun 12pm to 9pm\"\n                        align=\"center\"\n                    />\n                    <InfoCard\n                        icon=\"location arrow\"\n                        header=\"Location\"\n                        content=\"13895 SW Farmington Rd, Beaverton, OR 97005\"\n                        align=\"center\"\n                    />\n                    <InfoCard\n                        icon=\"phone\"\n                        header=\"Contact\"\n                        content=\"(503) 268-1449\"\n                    />\n                </Grid>\n                <Spacer height=\"30\" />\n            </ContentContainer>\n        </BaseContent>\n        <FooterStyle>\n            <SpanStyle>\n                <Link to=\"/login\" id=\"login-btn\">\n                    <Label as='a' color=\"black\">Staff login</Label>\n                </Link>\n            </SpanStyle>\n            <SpanStyle><BodyText size=\"12px\" color=\"white\">© 2020 The Clubhouse</BodyText></SpanStyle>\n            <SpanStyle><BodyText size=\"12px\" color=\"gray\">Powered by Scryfall</BodyText></SpanStyle>\n        </FooterStyle>\n    </Wrapper>\n}","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport Home from './ManageInventory/Home';\nimport Sale from './NewSale/Sale';\nimport BrowseSales from './BrowseSales/BrowseSales';\nimport PublicInventory from './PublicInventory/PublicInventory';\nimport DeckboxClone from './DeckboxClone/DeckboxClone';\nimport Login from './Login/Login';\nimport Logout from './Logout/Logout';\nimport Receiving from './Receiving/Receiving';\nimport Reports from './Reports/Reports'\nimport LandingPage from './LandingPage/LandingPage'\nimport styled from 'styled-components';\n\nconst ContentContainer = styled.div`\n    padding-top: 75px;\n    margin-left: 20px;\n    margin-right: 20px;\n`;\n\nconst BackgroundColor = styled.div`\n    background-color: #f9fafb;\n    min-height: 100vh;\n`;\n\nexport default function Main() {\n    return <Switch>\n        <Route exact path=\"/\" component={LandingPage} />\n        <BackgroundColor>\n            <ContentContainer id=\"content-container\">\n                <Route exact path=\"/manage-inventory\" component={Home} />\n                <Route exact path=\"/new-sale\" component={Sale} />\n                <Route exact path=\"/browse-sales\" component={BrowseSales} />\n                <Route exact path=\"/browse-inventory\" component={DeckboxClone} />\n                <Route exact path=\"/public-inventory\" component={PublicInventory} />\n                <Route exact path=\"/receiving\" component={Receiving} />\n                <Route exact path=\"/reports\" component={Reports} />\n                <Route exact path=\"/login\" component={Login} />\n                <Route exact path=\"/logout\" component={Logout} />\n            </ContentContainer>\n        </BackgroundColor>\n    </Switch>\n}","import React, { useContext } from 'react';\nimport ballLogo from './logos/magic-ball.png'\nimport { Menu, Icon, Dropdown } from 'semantic-ui-react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthProvider';\n\nconst style = {\n    background: \"linear-gradient(#2185d0, #206ac6)\",\n    boxShadow: '0 3px 5px 0 rgba(0,0,0,.25)'\n}\n\nfunction Header(props) {\n    const { loggedIn } = useContext(AuthContext);\n    const { pathname } = props.location;\n\n    return <Menu inverted fixed=\"top\" style={style}>\n        <Menu.Item as={Link} replace to=\"/\">\n            <img src={ballLogo} style={{ marginRight: '7px' }} alt=\"logo\" />\n            <span><h3>Clubhouse Collection</h3></span>\n        </Menu.Item>\n        <Menu.Menu position=\"right\">\n            <Menu.Item active={pathname === '/public-inventory'} position=\"right\" as={Link} replace to=\"/public-inventory\">\n                Search\n            </Menu.Item>\n            {loggedIn && <Dropdown item icon=\"bars\">\n                <Dropdown.Menu>\n                    <Dropdown.Item active={pathname === '/manage-inventory'} as={Link} replace to=\"/manage-inventory\">\n                        <Icon name=\"plus\" color=\"blue\" />Manage Inventory\n                    </Dropdown.Item>\n                    <Dropdown.Item active={pathname === '/new-sale'} as={Link} replace to=\"/new-sale\" >\n                        <Icon name=\"dollar sign\" color=\"blue\" />New Sale\n                    </Dropdown.Item>\n                    <Dropdown.Item active={pathname === '/receiving'} as={Link} replace to=\"/receiving\" >\n                        <Icon name=\"list alternate outline\" color=\"blue\" />Receiving\n                    </Dropdown.Item>\n\n                    <Dropdown.Divider />\n\n                    <Dropdown.Item active={pathname === '/browse-inventory'} as={Link} replace to=\"/browse-inventory\" >\n                        <Icon name=\"box\" color=\"blue\" />Browse Inventory\n                    </Dropdown.Item>\n                    <Dropdown.Item active={pathname === '/browse-sales'} as={Link} replace to=\"/browse-sales\" >\n                        <Icon name=\"eye\" color=\"blue\" />Browse Sales\n                    </Dropdown.Item>\n                    <Dropdown.Item active={pathname === '/reports'} as={Link} replace to=\"/reports\" >\n                        <Icon name=\"chart bar\" color=\"blue\" />Reporting (Beta)\n                    </Dropdown.Item>\n\n                    <Dropdown.Divider />\n\n                    <Dropdown.Item active={pathname === '/logout'} as={Link} replace to=\"/logout\" >\n                        <Icon name=\"log out\" color=\"blue\" />Log out\n                    </Dropdown.Item>\n                </Dropdown.Menu>\n            </Dropdown>}\n        </Menu.Menu>\n    </Menu >\n}\n\nexport default withRouter(props => <Header {...props} />);\n","import React from 'react';\nimport Main from './Main';\nimport Header from './Header/Header';\nimport AuthProvider from './context/AuthProvider';\nimport { SaleProvider } from './context/SaleContext';\nimport { ReceivingProvider } from './context/ReceivingContext';\n\nclass App extends React.Component {\n    render() {\n        return (\n            <AuthProvider>\n                <Header />\n                <SaleProvider>\n                    <ReceivingProvider>\n                        <Main />\n                    </ReceivingProvider>\n                </SaleProvider>\n            </AuthProvider>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { HashRouter } from 'react-router-dom';\nimport 'semantic-ui-css/semantic.min.css';\n\nReactDOM.render(\n    <HashRouter basename='/'>\n        <App />\n    </HashRouter>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}