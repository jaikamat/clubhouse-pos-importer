{"version":3,"sources":["LandingPage/clubhouse_products.png","utils/api_resources.js","LandingPage/ikoria_splash.jpg","LandingPage/core_2021_draft_booster.png","LandingPage/core_2021_collector.jpg","Header/logos/magic-ball.png","utils/makeAuthHeader.js","common/SearchBar.js","common/QohLabels.js","utils/parseQoh.js","common/createToast.js","common/CardImage.js","common/MarketPrice.js","utils/ScryfallCard.js","ManageInventory/ScryfallCardListItem.js","ManageInventory/ScryfallCardList.js","ManageInventory/Home.js","context/SaleContext.js","utils/sortSaleList.js","NewSale/BrowseCardItem.js","NewSale/BrowseCardList.js","common/Price.js","NewSale/SaleLineItem.js","NewSale/SalePriceTotal.js","NewSale/FinishSale.js","NewSale/CustomerSaleList.js","NewSale/PrintList.js","NewSale/SuspendedSale.js","NewSale/Sale.js","BrowseSales/SalesListItem.js","BrowseSales/SalesList.js","BrowseSales/BrowseSales.js","PublicInventory/PublicCardItem.js","PublicInventory/PublicCardList.js","PublicInventory/PublicInventory.js","DeckboxClone/DeckboxCloneForm.js","DeckboxClone/DeckboxCloneRow.js","DeckboxClone/DeckboxClone.js","context/AuthProvider.js","Login/Login.js","Logout/Logout.js","Receiving/ReceivingSearchItem.js","Receiving/ReceivingSearchList.js","Receiving/ReceivingListItem.js","Receiving/CashReport.js","Receiving/ReceivingListTotals.js","Receiving/printCashReport.js","Receiving/Receiving.js","Reports/Reports.js","LandingPage/Card.js","LandingPage/LandingPage.js","Main.js","Header/Header.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","env","process","REACT_APP_ENVIRONMENT","endpoints","FINISH_SALE","ADD_CARD_TO_INVENTORY","RECEIVE_CARDS","GET_INVENTORY_QUERY","GET_SALES_BY_TITLE","GET_SCRYFALL_BULK_BY_TITLE","GET_CARDS_BY_FILTER","GET_SET_NAMES","SUSPEND_SALE","LOGIN","GET_ALL_SALES","GET_CARDS_WITH_INFO","SCRYFALL_AUTOCOMPLETE","SCRYFALL_SEARCH","GET_LIVE_PRICE","makeAuthHeader","Authorization","localStorage","getItem","SearchBar","props","useState","isLoading","setIsLoading","results","setResults","handleResultSelect","e","a","result","setTimeout","$","select","handleSearchSelect","title","console","log","Search","onSearchChange","_","debounce","value","length","axios","get","headers","data","formattedResults","map","el","slice","leading","trailing","onResultSelect","loading","placeholder","selectFirstResult","id","onFocus","target","onBlur","QohLabels","inventoryQty","foilQty","nonfoilQty","FOIL_NM","FOIL_LP","FOIL_MP","FOIL_HP","NONFOIL_NM","NONFOIL_LP","NONFOIL_MP","NONFOIL_HP","parseQoh","foilColor","color","nonfoilColor","Fragment","Label","image","className","Detail","createToast","header","message","duration","toaster","notify","Message","compact","Header","position","style","boxShadow","zIndex","transition","CardImage","state","hovered","mouseOver","setState","mouseOut","this","image_uris","card_faces","hover","Image","src","size","transform","onMouseOver","onMouseOut","normal","React","Component","LabelStyle","styled","foil","MarketPrice","finish","market","setMarket","median","setMedian","setLoading","isFoil","useEffect","params","scryfallId","marketPrices","medianPrices","Math","max","loader","Icon","name","displayPrice","price","toFixed","LANG_CODES","en","es","fr","de","it","pt","ja","ko","ru","zhs","zht","he","la","grc","ar","sa","px","ScryfallCard","card","printed_name","set","set_name","rarity","nonfoil","colors","type_line","frame_effects","language","lang","includes","myImage","InventoryCard","_qoh","qoh","quantity","qtyToSell","finishCondition","quantities","finishes","key","text","cardConditions","checkCardFinish","nonfoilProp","foilProp","selectedFinish","finishDisabled","ScryfallCardListItem","cardImage","setQuantity","setSelectedFinish","selectedCondition","setSelectedCondition","setFinishDisabled","submitDisable","setSubmitDisable","setInventoryQty","submitLoading","setSubmitLoading","handleInventoryAdd","post","cardInfo","focus","Segment","Item","Group","divided","Content","as","fontSize","String","toUpperCase","Description","Form","Field","control","Input","type","label","onChange","val","parseInt","isNaN","Select","options","disabled","Button","primary","onClick","ScryfallCardList","cards","Home","searchResults","setSearchResults","term","matchInStock","modeledData","c","Divider","icon","SaleContext","createContext","SaleProvider","saleListCards","setSaleListCards","_id","notes","list","suspendedSale","setSuspendedSale","restoreSale","response","suspendSale","customerName","delete","saleList","resetSaleState","ops","deleteSuspendedSale","finalizeSale","saleID","sale_data","Sale","Provider","addToSaleList","newCard","oldState","modeledCard","idx","findIndex","splice","push","sortedCards","ORDER","helpSort","arrayConst","colorsLength","cardFace","sort","b","localeCompare","indexOf","sortSaleList","removeFromSaleList","newState","reject","children","createConditionOptions","removeZeroedQuantites","pickBy","p","Object","entries","d","conditionFinish","qty","split","join","createInitialSelectedFinish","keysMapped","keys","k","uniq","BrowseCardItem","selectedFinishCondition","setSelectedFinishCondition","selectedFinishConditionQty","setSelectedFinishConditionQty","quantityToSell","setQuantityToSell","setPrice","conditionOptions","setConditionOptions","useContext","Dropdown","selection","numVal","Number","step","BrowseCardList","Price","num","SaleLineItem","displayName","setHovered","Table","Row","Cell","singleLine","circular","SalePriceTotal","total","reduce","acc","FinishSale","submit","setSubmit","showModal","setShowModal","handleFinalizeSale","modalTrigger","floated","Modal","basic","open","trigger","inverted","Actions","CustomerSaleList","Body","display_name","clearing","sub","PrintList","printClicked","print","window","display","float","div","ClearMargin","CharLimit","SuspendedSale","saleListLength","sales","setSales","setSaleID","modalOpen","setModalOpen","setCustomerName","setNotes","setDisabled","suspendBtn","restoreBtn","deleteBtn","loadingBtn","setLoadingBtn","getSales","clearFields","submitSuspendSale","submitRestoreSale","submitDeleteSale","Grid","columns","stackable","relaxed","Column","width","substring","TextArea","fluid","s","info","searchTerm","setSearchTerm","alignItems","SalesListItem","saleData","quantitySold","cardList","pre","curr","moment","createTime","format","SalesList","celled","unstackable","HeaderCell","card_list","BrowseSales","salesList","cardName","Wrapper","InventoryWrapper","InventoryRow","ImageWrapper","PublicCardItem","qohParsed","displayFoil","displayNonfoil","borderRadius","gridStyle","flexWrap","alignContent","height","PublicCardList","initialState","PublicInventory","Subheader","formatDropdownOptions","priceFilterDropdownOptions","finishDropdownOptions","sortByDropdownOptions","sortByDirectionDropdownOptions","sortByColorDropdownOptions","typeLineOptions","setName","priceNum","priceFilter","sortBy","colorsArray","sortByDirection","typeLine","setNames","DeckboxCloneForm","editionDropdownOptions","handleSearchBlur","handleChange","handleDropdownChange","setNameOptions","concatWithBlankOption","concat","widths","search","multiple","defaultValue","labelPosition","handleSubmit","conditionMap","NM","LP","MP","HP","Tooltip","image_uri","posX","posY","left","background","DeckboxCloneRow","mouseInside","mouseX","mouseY","mouseEnter","clientX","offsetLeft","clientY","offsetTop","mouseLeave","mouseMove","inventory","condition","onMouseEnter","onMouseLeave","onMouseMove","cursor","v","DeckboxClone","count","currentPage","numPages","pageArray","cachedFilters","showPages","searchTouched","fetchData","filters","page","ceil","pages","range","handlePage","showLeftPageButtons","showRightPageButtons","Container","Dimmer","active","marginTop","Loader","secondary","striped","colSpan","Menu","Footer","AuthContext","AuthProvider","loggedIn","setLoggedIn","handleLogin","username","password","toLowerCase","token","setItem","authed","handleLogout","removeItem","LoginContainer","FormContainer","Login","handleInputChange","login","to","raised","Logout","ReceivingCardItem","cashPrice","setCashPrice","creditPrice","setCreditPrice","marketPrice","setMarketPrice","handlePriceChange","handleFocus","handleBlur","validateQty","validateTradeTypes","submitDisabled","addToList","ReceivingCardList","TRADE_TYPE","ReceivingListItem","uuid_key","removeFromList","tradeType","activeTradeType","CASH","CREDIT","whiteSpace","CashReport","receivingList","countByPriceAndID","closeCashModal","chain","filter","temp_uuid","groupBy","mapValues","mergedWithQty","uniqBy","tradeQty","totalCashOut","sumBy","ReceivingListTotals","selectAll","commitToInventory","showCashModal","setShowCashModal","submitToInventory","cashTotal","creditTotal","justifyContent","Or","Statistic","Value","divToPrint","document","getElementById","popup","write","innerHTML","close","printCashReport","closeOnDimmerClick","onClose","DefaultPlaceholder","headerText","Receiving","setReceivingList","copiedState","remove","previousState","find","cardsToCommit","messages","initialTradeType","times","uuid","forEach","arr","otherType","Reports","sales_data","format_legalities","groupByDay","timeStamp","startOf","dailySalesTotals","dailyAverageSales","rangeBuckets","0","1","2","3","4","5","rarityCounts","forOwn","legalityCounts","standard","nonStandard","qtySold","legalities","formattedDailySalesTotals","Date","getTime","formattedDailyAverageSales","formattedRangeBuckets","formattedRarityCounts","y","formattedLegalities","Highcharts","setOptions","thousandsSep","chart","zoomType","subtitle","credits","enabled","xAxis","yAxis","legend","series","tooltip","valueDecimals","min","categories","plotOptions","bar","dataLabels","plotBackgroundColor","plotBorderWidth","plotShadow","pie","distance","property","operator","Text","img","Card","imageSrc","date","BaseContent","ContentContainer","clubhouse_products","Image2","ImageMask","ImageMask2","FlexRow","FlexRowResponsive","SpanStyle","span","FlexColumn","Slogan","h1","button","IconStyled","FooterIcon","BodyText","align","Spacer","FooterStyle","SocialMedia","ServiceCard","content","InfoCard","LandingPage","href","rel","link","role","aria-label","core_2021_collector","core_2021_draft_booster","ikoria_splash","Main","exact","path","component","pathname","location","fixed","Link","replace","ballLogo","marginRight","alt","item","withRouter","App","Boolean","hostname","match","ReactDOM","render","basename","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.826c699e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/clubhouse_products.2a94c562.png\";","// Maps all GCF and Scryfall API endpoints for code re-use\nconst { REACT_APP_ENVIRONMENT } = process.env;\n\n/**\n * Check the environment for dev - if dev, we reach out\n * to all endpoints appended by `_test` instead of production\n */\nconst env = REACT_APP_ENVIRONMENT === 'development' ? '_test' : '';\n\nconst endpoints = {\n    FINISH_SALE:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/finishSale${env}`,\n    ADD_CARD_TO_INVENTORY:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/addCardToInventory${env}`,\n    RECEIVE_CARDS:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/receiveCards${env}`,\n    GET_INVENTORY_QUERY:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/inventorySearchQuery${env}`,\n    GET_SALES_BY_TITLE:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/getSales${env}`,\n    GET_SCRYFALL_BULK_BY_TITLE:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/getScryfallBulkCardsByTitle${env}`,\n    GET_CARDS_BY_FILTER:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/getCardsByFilter${env}`,\n    GET_SET_NAMES:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/getCardsByFilter${env}/set_names`,\n    SUSPEND_SALE:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/suspendSale${env}`,\n    LOGIN:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/getJwt${env}`,\n    GET_ALL_SALES:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/getSales${env}/sales`,\n    GET_CARDS_WITH_INFO:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/getCardsWithInfo${env}`,\n    SCRYFALL_AUTOCOMPLETE: 'https://api.scryfall.com/cards/autocomplete',\n    SCRYFALL_SEARCH: 'https://api.scryfall.com/cards/search',\n    GET_LIVE_PRICE: `https://us-central1-clubhouse-collection.cloudfunctions.net/getPriceFromTcg${env}`\n};\n\nmodule.exports = endpoints;\n","module.exports = __webpack_public_path__ + \"static/media/ikoria_splash.027133ef.jpg\";","module.exports = __webpack_public_path__ + \"static/media/core_2021_draft_booster.dcb6da2f.png\";","module.exports = __webpack_public_path__ + \"static/media/core_2021_collector.36289244.jpg\";","module.exports = __webpack_public_path__ + \"static/media/magic-ball.c3fcddd6.png\";","/**\n * This function is a helper for Axios, it yields an object for Axios params\n */\nexport default function makeAuthHeader() {\n    const header = { Authorization: `Bearer ${localStorage.getItem('clubhouse_JWT')}` };\n    return header;\n}","import React, { useState } from 'react';\nimport { Search } from 'semantic-ui-react';\nimport _ from 'lodash';\nimport axios from 'axios';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport { SCRYFALL_AUTOCOMPLETE } from '../utils/api_resources';\nimport $ from 'jquery';\n\nexport default function SearchBar(props) {\n    const [isLoading, setIsLoading] = useState(false);\n    const [results, setResults] = useState([]);\n\n    const handleSearchChange = (e, { value }) => { // `value` is the search input string\n        if (value.length < 1) {\n            setIsLoading(false);\n            setResults([]);\n            return;\n        }\n\n        if (value.length < 3) return; // Don't search if only 2 letters in input\n\n        setIsLoading(true);\n\n        setTimeout(async () => {\n            const { data } = await axios.get(\n                `${SCRYFALL_AUTOCOMPLETE}?q=${value}`,\n                { headers: makeAuthHeader() }\n            );\n\n            const formattedResults = data.data.map(el => ({ title: el })).slice(0, 7);\n\n            setResults(formattedResults);\n            setIsLoading(false);\n        }, 100);\n    };\n\n    const handleResultSelect = async (e, { result }) => {\n        // This line is a hacky way to get around the fact that if we just select(), then\n        // when the user manually clicks the first (or any) result in the resultlist, it does not select,\n        // presumably because there is some collision between selecting the resultList element and focusing the input\n        setTimeout(() => $('#searchBar').select(), 10);\n        try {\n            setIsLoading(true);\n            await props.handleSearchSelect(result.title);\n            setIsLoading(false);\n        } catch (e) {\n            console.log(e);\n        }\n    };\n\n    return (\n        <Search\n            onSearchChange={_.debounce(handleSearchChange, 500, { leading: false, trailing: true })}\n            onResultSelect={handleResultSelect}\n            loading={isLoading}\n            results={results}\n            placeholder=\"Search for a card\"\n            selectFirstResult={true}\n            id=\"searchBar\"\n            onFocus={e => e.target.select()}\n            onBlur={props.onBlur} // Used to clear state in the Browse Inventory feature\n        />\n    );\n}\n","import React from 'react';\nimport { Label } from 'semantic-ui-react';\nimport parseQoh from '../utils/parseQoh';\n\n// This component parses the `qoh` object from mongo into something\n// more presentable\n\n// available entries:\n// {\n//     FOIL_NM: 0,\n//     FOIL_LP: 0,\n//     FOIL_MP: 0,\n//     FOIL_HP: 0,\n//     NONFOIL_NM: 0,\n//     NONFOIL_LP: 0,\n//     NONFOIL_MP: 0,\n//     NONFOIL_HP: 0\n// };\n\nexport default function QohLabels({ inventoryQty }) {\n    const [foilQty, nonfoilQty] = parseQoh(inventoryQty);\n\n    const foilColor = {};\n    if (foilQty > 0) { foilColor.color = 'blue'; }\n\n    const nonfoilColor = {};\n    if (nonfoilQty > 0) { nonfoilColor.color = 'blue'; }\n\n    return (\n        <React.Fragment>\n            <Label {...foilColor} image className=\"foil-label\">\n                Foil\n        <Label.Detail className=\"foil-label-qty\">{foilQty}</Label.Detail>\n            </Label>\n            <Label {...nonfoilColor} image className=\"nonfoil-label\">\n                Nonfoil\n        <Label.Detail className=\"nonfoil-label-qty\">{nonfoilQty}</Label.Detail>\n            </Label>\n        </React.Fragment>\n    );\n}\n","// This function parses the `qoh` object from mongo into something more presentable\n\n// available entries:\n// {\n//     FOIL_NM: 0,\n//     FOIL_LP: 0,\n//     FOIL_MP: 0,\n//     FOIL_HP: 0,\n//     NONFOIL_NM: 0,\n//     NONFOIL_LP: 0,\n//     NONFOIL_MP: 0,\n//     NONFOIL_HP: 0\n// };\n\nexport default function parseQoh(inventoryQty) {\n    let foilQty = 0;\n    let nonfoilQty = 0;\n\n    if (inventoryQty) { // Check to see if props exist\n        foilQty =\n            (inventoryQty.FOIL_NM || 0) +\n            (inventoryQty.FOIL_LP || 0) +\n            (inventoryQty.FOIL_MP || 0) +\n            (inventoryQty.FOIL_HP || 0);\n\n        nonfoilQty =\n            (inventoryQty.NONFOIL_NM || 0) +\n            (inventoryQty.NONFOIL_LP || 0) +\n            (inventoryQty.NONFOIL_MP || 0) +\n            (inventoryQty.NONFOIL_HP || 0);\n    }\n\n    return [foilQty, nonfoilQty];\n}","import React from 'react';\nimport { Message } from 'semantic-ui-react';\nimport toaster from 'toasted-notes';\n\nconst createToast = ({ color, header, message, duration = 2000 }) => {\n    return toaster.notify(\n        () => (\n            <Message color={color} compact>\n                <Message.Header>{header}</Message.Header>\n                {message}\n            </Message>\n        ),\n        {\n            position: 'bottom-right',\n            duration: duration\n        }\n    );\n}\n\nexport default createToast;","import React from 'react';\nimport { Image } from 'semantic-ui-react';\n\nconst style = {\n    boxShadow: '2px 2px 5px 0 rgba(0,0,0,.25)',\n    zIndex: '10',\n    transition: 'all .2s ease-in-out'\n}\n\nclass CardImage extends React.Component {\n    state = { hovered: false };\n\n    mouseOver = () => { this.setState({ hovered: true }) };\n\n    mouseOut = () => { this.setState({ hovered: false }) };\n\n    render() {\n        const { image_uris, card_faces, image, hover = true } = this.props // default prop `hover` must be true\n\n        if (image) {\n            return <Image\n                src={image}\n                size=\"tiny\"\n                style={{ ...style, transform: `${this.state.hovered ? 'scale(1.75)' : 'scale(1)'}` }}\n                onMouseOver={hover ? this.mouseOver : null}\n                onMouseOut={hover ? this.mouseOut : null}\n            />;\n        }\n\n        // TODO: This is obsolete logic that should be refactored out once all components ingest the ScryfallCard class,\n        // which manages the correct image URL itself\n        try {\n            // If normal prop `image_uris.normal` doesn't exist, move to catch block for flip card faces\n            return <Image\n                src={image_uris.normal}\n                size=\"tiny\"\n                style={{ ...style, transform: `${this.state.hovered ? 'scale(1.75)' : 'scale(1)'}` }}\n                onMouseOver={hover ? this.mouseOver : null}\n                onMouseOut={hover ? this.mouseOut : null}\n            />;\n        } catch (e) {\n            return <Image src={\n                card_faces[0].image_uris.normal}\n                size=\"tiny\"\n                style={{ ...style, transform: `${this.state.hovered ? 'scale(1.75)' : 'scale(1)'}` }}\n                onMouseOver={hover ? this.mouseOver : null}\n                onMouseOut={hover ? this.mouseOut : null}\n            />;\n        }\n    }\n};\n\nexport default CardImage;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { GET_LIVE_PRICE } from '../utils/api_resources';\nimport { Label, Icon } from 'semantic-ui-react';\nimport styled from 'styled-components';\n\nconst LabelStyle = styled(Label)`\n    background-color: ${props => !!props.foil ? '#ffcfdf' : null} !important;\n    background-image: ${props => !!props.foil ? 'linear-gradient(90deg, #ffcfdf 0%, #b0f3f1 74%)' : null} !important;\n`;\n\nexport default function MarketPrice({ id, finish }) {\n    const [market, setMarket] = useState(null);\n    const [median, setMedian] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const isFoil = finish === 'FOIL';\n\n    useEffect(() => {\n        (async function fetchData() {\n            setLoading(true);\n\n            const { data } = await axios.get(GET_LIVE_PRICE, {\n                params: { scryfallId: id }\n            });\n            const { marketPrices, medianPrices } = data;\n            const MIN_PRICE = 0.5; // Management-set lowest price for each single card\n\n            if (isFoil) {\n                setMarket(Math.max(marketPrices.foil, MIN_PRICE));\n                setMedian(Math.max(medianPrices.foil, MIN_PRICE));\n            } else {\n                setMarket(Math.max(marketPrices.normal, MIN_PRICE));\n                setMedian(Math.max(medianPrices.normal, MIN_PRICE));\n            }\n\n            setLoading(false);\n        })();\n    }, [id, finish]);\n\n    const loader = <span>Loading <Icon loading name='spinner' /></span>;\n    const displayPrice = price => !!price ? `$${price.toFixed(2)}` : 'N/A';\n\n    return <React.Fragment>\n        <LabelStyle foil={isFoil}>\n            {loading ? loader : <span>Mkt. {displayPrice(market)}</span>}\n        </LabelStyle>\n        <LabelStyle foil={isFoil}>\n            {loading ? loader : <span>Mid. {displayPrice(median)}</span>}\n        </LabelStyle>\n    </React.Fragment>\n}\n","// Language codes from Scryfall. See https://scryfall.com/docs/api/languages for reference.\nconst LANG_CODES = {\n    en: 'English',\n    es: 'Spanish',\n    fr: 'French',\n    de: 'German',\n    it: 'Italian',\n    pt: 'Portuguese',\n    ja: 'Japanese',\n    ko: 'Korean',\n    ru: 'Russian',\n    zhs: 'Simplified Chinese',\n    zht: 'Traditional Chinese',\n    he: 'Hebrew',\n    la: 'Latin',\n    grc: 'Ancient Greek',\n    ar: 'Arabic',\n    sa: 'Sanskrit',\n    px: 'Phyrexian'\n}\n\n/**\n * This class wraps the Scryfall API request data and models it to something we can control.\n * Also acts as a safeguard for any future updates to Scryfall's API data model and makes\n * the code easier to maintain and debug.\n */\nexport class ScryfallCard {\n    constructor(card) {\n        this.id = card.id;\n        this.name = card.name;\n        this.printed_name = card.printed_name || null;\n        this.set = card.set;\n        this.set_name = card.set_name;\n        this.rarity = card.rarity;\n        this.image_uris = card.image_uris || null;\n        this.card_faces = card.card_faces || null;\n        this.nonfoil = card.nonfoil;\n        this.foil = card.foil;\n        this.colors = card.colors;\n        this.type_line = card.type_line;\n        this.frame_effects = card.frame_effects || [];\n        this.language = card.lang ? LANG_CODES[card.lang] : '';\n    }\n\n    /**\n     * Used to display differing border treatments and alt-arts\n     */\n    get display_name() {\n        const { name, printed_name, frame_effects } = this;\n\n        if ((name !== printed_name) && printed_name) {\n            return `${name} (IP series)`;\n        } else if (frame_effects.includes('showcase')) {\n            return `${name} (Showcase)`;\n        } else if (frame_effects.includes('extendedart')) {\n            return `${name} (Extended art)`;\n        } else {\n            return name;\n        }\n    }\n\n    get cardImage() {\n        let myImage;\n\n        try {\n            // If normal prop doesn't exist, move to catch block for flip card faces\n            myImage = this.image_uris.normal;\n        } catch (e) {\n            myImage = this.card_faces[0].image_uris.normal;\n        }\n\n        return myImage;\n    }\n}\n\n/**\n * Extends the Scryfall card object and adds properties we know exist in our database.\n * Models the data and makes writing cards to Mongo a more confident process.\n */\nexport class InventoryCard extends ScryfallCard {\n    constructor(card) {\n        super(card);\n        this._qoh = card.qoh ? card.qoh : {};\n        // `quantity` and `qtyToSell` are redundant transaction props, unify them down the line\n        this.quantity = card.quantity || null;\n        this.qtyToSell = card.qtyToSell || null;\n        this.finishCondition = card.finishCondition || null;\n        this.price = card.price >= 0 ? card.price : null;\n    }\n\n    get qohParsed() {\n        const foilQty =\n            (this._qoh.FOIL_NM || 0) +\n            (this._qoh.FOIL_LP || 0) +\n            (this._qoh.FOIL_MP || 0) +\n            (this._qoh.FOIL_HP || 0);\n\n        const nonfoilQty =\n            (this._qoh.NONFOIL_NM || 0) +\n            (this._qoh.NONFOIL_LP || 0) +\n            (this._qoh.NONFOIL_MP || 0) +\n            (this._qoh.NONFOIL_HP || 0);\n\n        return [foilQty, nonfoilQty];\n    }\n\n    get qoh() {\n        return this._qoh;\n    }\n\n    set qoh(quantities) {\n        this._qoh = quantities ? quantities : {};\n    }\n}\n","import React, { useState } from 'react';\nimport { Segment, Input, Button, Form, Select, Label, Item } from 'semantic-ui-react';\nimport axios from 'axios';\nimport QohLabels from '../common/QohLabels';\nimport createToast from '../common/createToast';\nimport CardImage from '../common/CardImage';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport MarketPrice from '../common/MarketPrice'\nimport { ADD_CARD_TO_INVENTORY } from '../utils/api_resources';\nimport $ from 'jquery';\nimport { InventoryCard } from '../utils/ScryfallCard';\n\nconst finishes = [\n    { key: 'NONFOIL', text: 'Nonfoil', value: 'NONFOIL' },\n    { key: 'FOIL', text: 'Foil', value: 'FOIL' }\n];\n\nconst cardConditions = [\n    { key: 'NM', text: 'Near Mint', value: 'NM' },\n    { key: 'LP', text: 'Light Play', value: 'LP' },\n    { key: 'MP', text: 'Moderate Play', value: 'MP' },\n    { key: 'HP', text: 'Heavy Play', value: 'HP' }\n];\n\n/**\n * Seeds state from props. Used to determine if cards have only foil, nonfoil, or both printings\n * from their `foil` and `nonfoil`\n * @param {Boolean} nonfoilProp\n * @param {Boolean} foilProp\n */\nfunction checkCardFinish(nonfoilProp, foilProp) {\n    if (!nonfoilProp && foilProp) {\n        return { selectedFinish: 'FOIL', finishDisabled: true };\n    } else if (nonfoilProp && !foilProp) {\n        return { selectedFinish: 'NONFOIL', finishDisabled: true };\n    } else if (nonfoilProp && foilProp) {\n        return { selectedFinish: 'NONFOIL', finishDisabled: false };\n    }\n}\n\nexport default function ScryfallCardListItem({ qoh, foil, nonfoil, name, set_name, set, rarity, id, cardImage, language }) {\n    const [quantity, setQuantity] = useState(0);\n    const [selectedFinish, setSelectedFinish] = useState(checkCardFinish(nonfoil, foil).selectedFinish);\n    const [selectedCondition, setSelectedCondition] = useState('NM');\n    const [finishDisabled, setFinishDisabled] = useState(checkCardFinish(nonfoil, foil).finishDisabled);\n    const [submitDisable, setSubmitDisable] = useState(false);\n    const [inventoryQty, setInventoryQty] = useState(qoh);\n    const [submitLoading, setSubmitLoading] = useState(false);\n\n    const handleFinishChange = (e, { value }) => setSelectedFinish(value);\n\n    const handleConditionChange = (e, { value }) => setSelectedCondition(value);\n\n    const handleQuantityChange = (e, { value }) => {\n        const val = parseInt(value);\n        const quantity = isNaN(val) ? '' : val; // Check for NaN\n        setQuantity(quantity);\n    };\n\n    // Remove input placeholder when user tries to enter a number (to reduce user error)\n    const handleFocus = () => {\n        if (quantity === 0) setQuantity('');\n    }\n\n    // Restore input placeholder when user blurs field\n    const handleBlur = () => {\n        if (quantity === '') setQuantity(0);\n    }\n\n    const handleInventoryAdd = async (e, { value }) => {\n        // This is the identifier for quantities of different finishes/conditions in the db\n        const finishCondition = `${selectedFinish}_${selectedCondition}`;\n\n        try {\n            setSubmitDisable(true);\n            setSubmitLoading(true);\n\n            const { data } = await axios.post(ADD_CARD_TO_INVENTORY, {\n                quantity: quantity,\n                finishCondition: finishCondition,\n                cardInfo: { id, name, set_name, set },\n            }, { headers: makeAuthHeader() });\n\n            createToast({\n                color: 'green',\n                header: `${quantity}x ${name} ${quantity > 0 ? 'added' : 'removed'}!`,\n                duration: 2000\n            });\n\n            setQuantity(0);\n            setSelectedFinish(checkCardFinish(nonfoil, foil).selectedFinish);\n            setSelectedCondition('NM');\n            setFinishDisabled(checkCardFinish(nonfoil, foil).finishDisabled);\n            setSubmitDisable(false);\n            setSubmitLoading(false);\n            setInventoryQty(new InventoryCard(data).qoh);\n\n            // Highlight the input after successful card add\n            $('#searchBar').focus().select();\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    return (\n        <Segment>\n            <Item.Group divided>\n                <Item>\n                    <Item.Image size=\"tiny\">\n                        <CardImage image={cardImage} />\n                    </Item.Image>\n                    <Item.Content>\n                        <Item.Header as='h3'>\n                            {name}\n                            {' '}\n                            <i\n                                className={`ss ss-fw ss-${set} ss-${rarity}`}\n                                style={{ fontSize: '30px' }}\n                            />\n                            <Label color=\"grey\">\n                                {set_name} ({String(set).toUpperCase()})\n                                </Label>\n                            <QohLabels inventoryQty={inventoryQty} />\n                            {' '}\n                            <MarketPrice id={id} finish={selectedFinish} />\n                            <Label image color=\"grey\">{language}</Label>\n                        </Item.Header>\n                        <Item.Description>\n                            <Form>\n                                <Form.Group>\n                                    <Form.Field\n                                        control={Input}\n                                        type=\"number\"\n                                        label=\"Quantity\"\n                                        value={quantity}\n                                        onChange={handleQuantityChange}\n                                        onFocus={handleFocus}\n                                        onBlur={handleBlur}\n                                    />\n                                    <Form.Field\n                                        label=\"Finish\"\n                                        control={Select}\n                                        value={selectedFinish}\n                                        options={finishes}\n                                        disabled={finishDisabled}\n                                        onChange={handleFinishChange}\n                                    />\n                                    <Form.Field\n                                        label=\"Condition\"\n                                        control={Select}\n                                        value={selectedCondition}\n                                        options={cardConditions}\n                                        onChange={handleConditionChange}\n                                    />\n                                    <Form.Button\n                                        label=\"Add to Inventory?\"\n                                        control={Button}\n                                        primary\n                                        disabled={\n                                            quantity === 0 ||\n                                            quantity === '' ||\n                                            submitDisable\n                                        }\n                                        onClick={handleInventoryAdd}\n                                        loading={submitLoading}\n                                    >\n                                        Submit\n                                    </Form.Button>\n                                </Form.Group>\n                            </Form>\n                        </Item.Description>\n                    </Item.Content>\n                </Item>\n            </Item.Group>\n        </Segment>\n    );\n}\n","import React from 'react';\nimport ScryfallCardListItem from './ScryfallCardListItem';\n\nexport default function ScryfallCardList(props) {\n    return props.cards.map(card => {\n        return <ScryfallCardListItem\n            key={card.id}\n            {...card}\n            cardImage={card.cardImage}\n            qoh={card.qoh}\n        />\n    });\n}\n","import React, { useState } from 'react';\nimport SearchBar from '../common/SearchBar';\nimport axios from 'axios';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport ScryfallCardList from './ScryfallCardList';\nimport { Segment, Header, Icon, Divider } from 'semantic-ui-react'\nimport { GET_CARDS_WITH_INFO } from '../utils/api_resources';\nimport { InventoryCard } from '../utils/ScryfallCard';\n\nexport default function Home() {\n    const [searchResults, setSearchResults] = useState([]);\n\n    const handleSearchSelect = async term => {\n        try {\n            const { data } = await axios.get(\n                GET_CARDS_WITH_INFO, {\n                params: { title: term, matchInStock: false },\n                headers: makeAuthHeader()\n            });\n\n            const modeledData = data.map(c => new InventoryCard(c));\n\n            setSearchResults(modeledData);\n        } catch (e) {\n            console.log(e);\n        }\n    };\n\n    return (\n        <React.Fragment>\n            <SearchBar handleSearchSelect={handleSearchSelect} />\n\n            <Header as=\"h2\">Manage Inventory</Header>\n            <Divider />\n\n            {!searchResults.length &&\n                <Segment placeholder>\n                    <Header icon>\n                        <Icon name=\"search\" />\n                        <em>\"Searching the future for answers often leads to further questions.\"</em>\n                    </Header>\n                </Segment>}\n\n            <ScryfallCardList cards={searchResults} />\n        </React.Fragment>\n    );\n}\n","import React, { useState, createContext } from 'react';\nimport axios from 'axios';\nimport _ from 'lodash'\nimport { SUSPEND_SALE, FINISH_SALE } from '../utils/api_resources';\nimport { InventoryCard } from '../utils/ScryfallCard';\nimport sortSaleList from '../utils/sortSaleList';\nimport createToast from '../common/createToast';\nimport makeAuthHeader from '../utils/makeAuthHeader';\n\nexport const SaleContext = createContext();\n\nexport const SaleProvider = props => {\n    const [saleListCards, setSaleListCards] = useState([]);\n    const [suspendedSale, setSuspendedSale] = useState({\n        _id: '',\n        name: '',\n        notes: '',\n        list: []\n    });\n\n    /**\n     * Adds product to the sale list\n     */\n    const addToSaleList = (card, finishCondition, qtyToSell, price) => {\n        const newCard = { ...card, finishCondition, qtyToSell, price };\n        const oldState = [...saleListCards];\n        const modeledCard = new InventoryCard(newCard);\n\n        // Need to make sure same ID's with differing conditions are separate line-items\n        const idx = oldState.findIndex(el => {\n            return (\n                el.id === newCard.id && el.finishCondition === finishCondition\n            );\n        });\n\n        if (idx !== -1) {\n            oldState.splice(idx, 1, modeledCard);\n        } else {\n            oldState.push(modeledCard);\n        }\n\n        // Sorting the saleList cards here, on add\n        const sortedCards = sortSaleList(oldState);\n\n        setSaleListCards(sortedCards);\n    };\n\n    /**\n     * Removes product from the sale list\n     */\n    const removeFromSaleList = (id, finishCondition) => {\n        const newState = _.reject([...saleListCards], el => {\n            return el.id === id && el.finishCondition === finishCondition;\n        });\n\n        setSaleListCards(newState);\n    };\n\n    /**\n     * Restores a sale (assigns a saleList to state) from a suspended sale from the db\n     */\n    const restoreSale = async id => {\n        try {\n            const { data } = await axios.get(`${SUSPEND_SALE}/${id}`);\n            const modeledData = data.list.map(c => new InventoryCard(c));\n\n            setSaleListCards(modeledData);\n            setSuspendedSale(data);\n\n            createToast({ color: 'green', header: `You are viewing ${data.name}'s sale` });\n        } catch (e) {\n            console.log(e.response);\n            createToast({ color: 'red', header: `Error` });\n        }\n    }\n\n    /**\n     * Suspends a sale (persists it to mongo) via the SuspendedSale component and API\n     */\n    const suspendSale = async ({ customerName, notes }) => {\n        const { _id } = suspendedSale;\n\n        try {\n            if (!!_id) await axios.delete(`${SUSPEND_SALE}/${_id}`); // If we're suspended, delete the previous to replace\n\n            const { data } = await axios.post(SUSPEND_SALE, {\n                customerName: customerName,\n                notes: notes,\n                saleList: saleListCards\n            })\n\n            resetSaleState();\n\n            createToast({ color: 'green', header: `${data.ops[0].name}'s sale was suspended` });\n        } catch (e) {\n            console.log(e.response);\n            createToast({ color: 'red', header: `Error`, message: `${e.response.data}` });\n        }\n    }\n\n    const deleteSuspendedSale = async () => {\n        try {\n            const { _id, name } = suspendedSale;\n            await axios.delete(`${SUSPEND_SALE}/${_id}`);\n\n            resetSaleState();\n\n            createToast({ color: 'green', header: `${name}'s sale was deleted` });\n        } catch (e) {\n            console.log(e.response);\n            createToast({ color: 'red', header: `Error` });\n        }\n    }\n\n    /**\n     * Extracts the saleList state and uses it to complete sale\n     */\n    const finalizeSale = async () => {\n        const { _id } = suspendedSale;\n\n        try {\n            // Must delete currently suspended sale to faithfully restore inventory prior to sale\n            if (!!_id) await axios.delete(`${SUSPEND_SALE}/${_id}`);\n\n            const { data } = await axios.post(FINISH_SALE, { cards: saleListCards }, { headers: makeAuthHeader() });\n\n            const saleID = data.sale_data.Sale.saleID;\n\n            createToast({\n                color: 'green',\n                header: 'Sale created in Lightspeed!',\n                message: `The id number is #${saleID}`,\n            });\n\n            resetSaleState();\n        } catch (e) {\n            createToast({\n                color: 'red',\n                header: 'Error',\n                message: `Sale was not created`,\n            });\n\n            resetSaleState();\n            console.log(e.response);\n        }\n    };\n\n    const resetSaleState = () => {\n        setSaleListCards([]);\n        setSuspendedSale({\n            _id: '',\n            name: '',\n            notes: '',\n            list: []\n        })\n    };\n\n    return <SaleContext.Provider value={{\n        saleListCards,\n        suspendedSale,\n        addToSaleList,\n        removeFromSaleList,\n        restoreSale,\n        suspendSale,\n        deleteSuspendedSale,\n        finalizeSale,\n        resetSaleState\n    }}>\n        {props.children}\n    </SaleContext.Provider>\n}","/**\n * Takes in an unordered group of cards and sorts them according to The Clubhouse's specs:\n * WUBRG, then multicolor, then colorless, then land, alphabetically within each color/category\n */\nexport default function sortSaleList(cards) {\n    const ORDER = ['W', 'U', 'B', 'R', 'G', 'MULTI', 'COLORLESS', 'LAND'];\n\n    /**\n     * Main helper function that manages sort order\n     * @param {Object} card\n     */\n    function helpSort(card) {\n        let arrayConst = null;\n\n        let colorsLength = null;\n        let cardFace = null;\n\n        try {\n            // If colors don't exist, it's a flip card or storybook frame\n            colorsLength = card.colors.length;\n            cardFace = card;\n        } catch (e) {\n            try {\n                // Storybook frames from Eldraine may throw error\n                colorsLength = card.card_faces[0].colors.length;\n                cardFace = card.card_faces[0];\n            } catch (e) {\n                colorsLength = card.colors.length;\n                cardFace = card;\n            }\n        }\n\n        // Apply logic to return correct constant enum\n        if (colorsLength === 0) {\n            arrayConst = 'COLORLESS';\n        } else if (colorsLength === 1) {\n            arrayConst = cardFace.colors[0];\n        } else if (colorsLength > 1) {\n            arrayConst = 'MULTI';\n        }\n\n        // Drill into colorless cards, if they are lands or not\n        if (arrayConst === 'COLORLESS') {\n            if (cardFace.type_line.includes('Land')) {\n                arrayConst = 'LAND';\n            }\n        }\n\n        // Final check to guard against a null arrayConst\n        if (!arrayConst) { arrayConst = 'LAND' }\n\n        return arrayConst;\n    }\n\n    const alphaSort = cards.sort((a, b) => {\n        return a.name.localeCompare(b.name);\n    });\n\n    const sorted = alphaSort.sort((a, b) => {\n        return ORDER.indexOf(helpSort(a)) - ORDER.indexOf(helpSort(b));\n    });\n\n    return sorted;\n}","import React, { useState, useContext } from 'react';\nimport {\n    Segment,\n    Label,\n    Form,\n    Input,\n    Dropdown,\n    Button,\n    Item\n} from 'semantic-ui-react';\nimport CardImage from '../common/CardImage';\nimport MarketPrice from '../common/MarketPrice';\nimport QohLabels from '../common/QohLabels';\nimport { SaleContext } from '../context/SaleContext';\nimport $ from 'jquery';\nimport _ from 'lodash';\n\n/**\n * Creates a list of conditions for the dropdown menu from the `qoh`\n * Note: Is this not needed if we default select initially?\n * @param {Object} qoh\n * @param {String} id\n */\nfunction createConditionOptions(qoh, id) {\n    const removeZeroedQuantites = _.pickBy(qoh, p => p > 0); // Quantites of zero not included\n\n    return Object.entries(removeZeroedQuantites).map(d => {\n        const [conditionFinish, qty] = d;\n\n        return {\n            text: `${conditionFinish.split('_').join(' | ')} | Qty: ${qty}`,\n            value: conditionFinish,\n            key: `${id}${conditionFinish}`\n        };\n    });\n}\n\n/**\n * Creates initial selectedFinish value, used for the MarketPrice component\n * Returns FOIL or NONFOIL depending on what's in current inventory (qoh)\n * @param {Object} qoh\n */\nfunction createInitialSelectedFinish(qoh) {\n    const removeZeroedQuantites = _.pickBy(qoh, p => p > 0);\n    // Isolate only the FOIL or NONFOIL values with mapping\n    const keysMapped = _.keys(removeZeroedQuantites).map(k => k.split('_')[0]);\n    const uniqueValues = _.uniq(keysMapped);\n    return uniqueValues.indexOf('NONFOIL') > -1 ? 'NONFOIL' : 'FOIL';\n}\n\nexport default function BrowseCardItem(props) {\n    const [selectedFinishCondition, setSelectedFinishCondition] = useState('');\n    const [selectedFinishConditionQty, setSelectedFinishConditionQty] = useState(0);\n    const [quantityToSell, setQuantityToSell] = useState(0);\n    const [price, setPrice] = useState(0);\n    const [selectedFinish, setSelectedFinish] = useState(createInitialSelectedFinish(props.qoh));\n    const [conditionOptions, setConditionOptions] = useState(createConditionOptions(props.qoh, props.id));\n    const { addToSaleList } = useContext(SaleContext);\n\n    const handleQuantityChange = (e, { value }) => {\n        if (value === '') {\n            setQuantityToSell('');\n            return;\n        }\n\n        let numVal = parseInt(value);\n\n        if (numVal > selectedFinishConditionQty) numVal = selectedFinishConditionQty;\n\n        if (isNaN((numVal)) || numVal < 0) numVal = 0;\n\n        setQuantityToSell(numVal);\n    };\n\n    const handleSelectedFinishCondition = (e, { value }) => {\n        setSelectedFinish(value.split('_')[0]);\n        setSelectedFinishCondition(value);\n        setSelectedFinishConditionQty(props.qoh[value]);\n        setQuantityToSell(0);\n    };\n\n    const handlePriceChange = (e, { value }) => {\n        if (value === '') {\n            setPrice('');\n            return;\n        }\n\n        let numVal = Number(value);\n\n        if (isNaN((numVal)) || numVal < 0) { numVal = 0; }\n\n        setPrice(numVal);\n    };\n\n    const handleAddToSale = () => {\n        const { qoh, id } = props;\n\n        addToSaleList(\n            { ...props },\n            selectedFinishCondition,\n            quantityToSell,\n            price\n        );\n\n        // Reset state\n        setSelectedFinishCondition('')\n        setSelectedFinishConditionQty(0)\n        setQuantityToSell(0)\n        setPrice(0)\n        setConditionOptions(createConditionOptions(qoh, id))\n        setSelectedFinish(createInitialSelectedFinish(qoh))\n\n        // Highlight the input after successful card add\n        $('#searchBar').focus().select();\n    };\n\n    return <Segment>\n        <Item.Group divided>\n            <Item>\n                <Item.Image size=\"tiny\">\n                    <CardImage\n                        image_uris={props.image_uris}\n                        card_faces={props.card_faces}\n                    />\n                </Item.Image>\n                <Item.Content>\n                    <Item.Header as=\"h3\">\n                        {props.name}{' '}\n                        <i\n                            className={`ss ss-fw ss-${props.set} ss-${props.rarity}`}\n                            style={{ fontSize: '30px' }}\n                        />\n                        <Label color=\"grey\">\n                            {props.set_name} ({String(props.set).toUpperCase()})\n                                </Label>\n                        <QohLabels inventoryQty={props.qoh} />\n                        {' '}\n                        <MarketPrice id={props.id} finish={selectedFinish} />\n                        <Label image color=\"grey\">{props.language}</Label>\n                    </Item.Header>\n                    <Item.Description>\n                        <Form>\n                            <Form.Group>\n                                <Form.Field\n                                    control={Dropdown}\n                                    selection\n                                    placeholder=\"Select inventory\"\n                                    options={conditionOptions}\n                                    value={selectedFinishCondition}\n                                    label=\"Select finish/condition\"\n                                    onChange={handleSelectedFinishCondition}\n                                />\n                                <Form.Field\n                                    control={Input}\n                                    type=\"number\"\n                                    label=\"Quantity to sell\"\n                                    value={quantityToSell}\n                                    onChange={handleQuantityChange}\n                                    disabled={!selectedFinishConditionQty}\n                                    onFocus={e => e.target.select()}\n                                />\n                                <Form.Field\n                                    control={Input}\n                                    type=\"number\"\n                                    label=\"Price\"\n                                    value={price}\n                                    onChange={handlePriceChange}\n                                    disabled={!selectedFinishConditionQty}\n                                    onFocus={e => e.target.select()}\n                                    step={0.5}\n                                />\n                                <Form.Button\n                                    label=\"Add to sale?\"\n                                    control={Button}\n                                    primary\n                                    onClick={handleAddToSale}\n                                    disabled={!quantityToSell}\n                                >\n                                    Sell\n                                    </Form.Button>\n                            </Form.Group>\n                        </Form>\n                    </Item.Description>\n                </Item.Content>\n            </Item>\n        </Item.Group>\n    </Segment>\n}\n","import React from 'react';\nimport BrowseCardItem from './BrowseCardItem';\nimport { Segment, Header, Icon } from 'semantic-ui-react';\n\nexport default function BrowseCardList({ term, cards }) {\n    // Creates text to notify the user of zero-result searches\n    const searchNotification = () => {\n        if (term && !cards.length) { // Check to make sure the user has searched and no results\n            return <p>Zero results for <em>{term}</em></p>\n        }\n        return <p>Search for inventory to sell</p>\n    }\n\n    if (cards.length === 0) {\n        return <Segment placeholder>\n            <Header icon>\n                <Icon name=\"search\" />\n                <span>{searchNotification()}</span>\n            </Header>\n        </Segment>\n    }\n\n    return cards.map(card => {\n        return <BrowseCardItem\n            key={card.id}\n            {...card}\n            qoh={card.qoh}\n        />\n    });\n}\n","import React from 'react';\n\nconst Price = ({ num }) => {\n    const price = Number(num).toFixed(2);\n    if (isNaN(price)) return <span>$0.00</span>;\n    return <span>${price}</span>;\n};\n\nexport default Price;\n","import React, { useState, useContext } from 'react';\nimport { Button, Label, Table } from 'semantic-ui-react';\nimport { SaleContext } from '../context/SaleContext';\nimport Price from '../common/Price';\n\nexport default function SaleLineItem({ displayName, set, finishCondition, qtyToSell, price, rarity, id }) {\n    const [hovered, setHovered] = useState(false);\n\n    const { removeFromSaleList } = useContext(SaleContext);\n\n    return (\n        <Table.Row>\n            <Table.Cell><h4>{displayName}</h4></Table.Cell>\n            <Table.Cell singleLine>\n                <i\n                    className={`ss ss-fw ss-${set} ss-${rarity}`}\n                    style={{ fontSize: '20px' }}\n                />\n                <Label color=\"grey\">{set.toUpperCase()}</Label>\n            </Table.Cell>\n            <Table.Cell>\n                {qtyToSell}x @ <Price num={price} /> | {finishCondition}\n            </Table.Cell>\n            <Table.Cell>\n                <Button\n                    icon=\"cancel\"\n                    circular\n                    onClick={() => removeFromSaleList(id, finishCondition)}\n                    onMouseOver={() => setHovered(true)}\n                    onMouseOut={() => setHovered(false)}\n                    color={hovered ? 'red' : null}\n                >\n                </Button>\n            </Table.Cell>\n        </Table.Row>\n    );\n}\n","import React from 'react';\nimport Price from '../common/Price';\n\nconst SalePriceTotal = ({ saleList }) => {\n    const total = saleList.length\n        ? saleList.reduce(\n            (acc, val) => acc + parseInt(val.qtyToSell) * Number(val.price),\n            0\n        )\n        : 0;\n\n    return <Price num={total} />;\n};\n\nexport default SalePriceTotal;\n","import React, { useState, useContext } from 'react';\nimport { Modal, Button, Header, Icon } from 'semantic-ui-react';\nimport { SaleContext } from '../context/SaleContext';\n\nexport default function FinishSale() {\n    const [submit, setSubmit] = useState({ loading: false, disabled: false });\n    const [showModal, setShowModal] = useState(false);\n    const { finalizeSale } = useContext(SaleContext);\n\n    const handleFinalizeSale = async () => {\n        setSubmit({ loading: true, disabled: true });\n        await finalizeSale();\n    }\n\n    const modalTrigger = <Button floated=\"right\" primary\n        onClick={() => setShowModal(true)}>\n        Finalize sale\n        </Button>\n\n    return <Modal\n        basic\n        open={showModal}\n        trigger={modalTrigger}>\n        <Modal.Content>\n            <Header inverted as=\"h2\">\n                Finalize this sale?\n             </Header>\n            <p>\n                Click 'Yes' to create a sale\n                in Lightspeed. Ensure that\n                you have all cards pulled and double-checked\n                the customer list. Undoing this action will require manual data entry!\n             </p>\n        </Modal.Content>\n        <Modal.Actions>\n            <Button\n                basic\n                color=\"red\"\n                inverted\n                onClick={() => setShowModal(false)}>\n                <Icon name=\"remove\" /> No\n             </Button>\n            <Button\n                color=\"green\"\n                inverted\n                onClick={handleFinalizeSale}\n                loading={submit.loading}\n                disabled={submit.disabled}>\n                <Icon name=\"checkmark\" /> Yes\n            </Button>\n        </Modal.Actions>\n    </Modal>\n}","import React from 'react';\nimport SaleLineItem from './SaleLineItem';\nimport { Table, Segment, Header, Icon } from 'semantic-ui-react';\nimport SalePriceTotal from './SalePriceTotal';\nimport FinishSale from './FinishSale';\n\nexport default function CustomerSaleList({ saleList }) {\n    if (saleList.length === 0) {\n        return <Segment placeholder>\n            <Header icon>\n                <Icon name=\"plus\" />\n                    View and manage customer sale list here\n            </Header>\n        </Segment>\n    }\n\n    return <React.Fragment>\n        <Table>\n            <Table.Body>\n                {saleList.map(card => {\n                    return <SaleLineItem\n                        displayName={card.display_name}\n                        {...card}\n                        key={`${card.id}${card.finishCondition}${card.qtyToSell}`}\n                    />\n                })}\n            </Table.Body>\n        </Table>\n\n        <Segment clearing>\n            <Header floated=\"left\">\n                <Header sub>Subtotal</Header>\n                <SalePriceTotal saleList={saleList} />\n            </Header>\n            <FinishSale />\n        </Segment>\n    </React.Fragment>\n};","import React from 'react';\nimport { Button, Icon } from 'semantic-ui-react';\nimport Price from '../common/Price';\nimport './PrintList.css';\nimport SalePriceTotal from './SalePriceTotal';\n\nconst Row = ({ id, display_name, qtyToSell, finishCondition, set_name, price }) => {\n    return <li key={id}>\n        <b>{display_name} | x{qtyToSell} | {finishCondition} | {set_name} | <Price num={price} /></b>\n    </li>\n}\n\nexport default class PrintList extends React.Component {\n    state = { printClicked: false }\n\n    print = () => {\n        this.setState({ printClicked: true }, () => {\n            window.print();\n            this.setState({ printClicked: false })\n        });\n    }\n\n    render() {\n        const { saleListCards } = this.props;\n        const { printClicked } = this.state;\n\n        if (saleListCards.length > 0) { // Ensure print is hidden if no cards in list\n            return (\n                <React.Fragment>\n                    <Button style={{ display: 'inline-block', float: 'right' }} onClick={this.print} icon>\n                        <Icon name=\"print\" />\n                    </Button>\n\n                    <div id=\"printme\" style={{ display: printClicked ? 'inline-block' : 'none' }}>\n                        <ul>{saleListCards.map(c => Row(c))}</ul>\n                        <span><b>Subtotal: <SalePriceTotal saleList={saleListCards} /></b></span>\n                    </div>\n                </React.Fragment >\n            )\n        } else {\n            return null;\n        }\n    }\n}","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { SUSPEND_SALE } from '../utils/api_resources';\nimport { Modal, Button, Grid, Form, Message } from 'semantic-ui-react';\nimport styled from 'styled-components';\n\nconst Divider = styled.div`\n    border-left: 1px solid rgba(0, 0, 0, 0.2);\n    height: 100%;\n`;\n\nconst ClearMargin = styled.div`\n    margin-top: 0px;\n    margin-bottom: 0px;\n`;\n\nconst CharLimit = styled.p`\n    font-size: 12px;\n    color: rgba(0, 0, 0, 0.2);\n    float: right;\n`;\n\nexport default function SuspendedSale({ restoreSale, deleteSuspendedSale, saleListLength, suspendSale, id }) {\n    const [sales, setSales] = useState([]);\n    const [saleID, setSaleID] = useState('');\n    const [modalOpen, setModalOpen] = useState(false);\n    const [customerName, setCustomerName] = useState('');\n    const [notes, setNotes] = useState('');\n    const [disabled, setDisabled] = useState(false);\n    const [loadingBtn, setLoadingBtn] = useState({\n        suspendBtn: false,\n        restoreBtn: false,\n        deleteBtn: false\n    });\n\n    const getSales = async () => {\n        const { data } = await axios.get(SUSPEND_SALE);\n        setSales(data);\n    }\n\n    const clearFields = () => {\n        setCustomerName('');\n        setNotes('')\n        setSaleID('');\n    }\n\n    // Get the previously suspended sales on mount and parent state (_id) change\n    useEffect(() => { getSales(); }, [id]); // If the parent-level suspended-sale _id changes, we fetch again\n\n    const modalTrigger = <Button\n        style={{ display: 'inline-block', float: 'right' }}\n        onClick={() => setModalOpen(true)}\n        icon=\"ellipsis horizontal\" />\n\n    const submitSuspendSale = async () => {\n        setDisabled(true);\n        setLoadingBtn({ suspendBtn: true });\n        await suspendSale({ customerName, notes });\n        setModalOpen(false); // Close the modal to avoid \"flicker\" when state re-renders\n        await getSales(); // Parent _id does not change, re-fetch sales\n        clearFields();\n        setDisabled(false);\n        setLoadingBtn({ suspendBtn: false });\n    }\n\n    const submitRestoreSale = async () => {\n        setDisabled(true);\n        setLoadingBtn({ restoreBtn: true });\n        await restoreSale(saleID);\n        setModalOpen(false);\n        clearFields();\n        setDisabled(false);\n        setLoadingBtn({ restoreBtn: false });\n    }\n\n    const submitDeleteSale = async () => {\n        setDisabled(true);\n        setLoadingBtn({ deleteBtn: true });\n        await deleteSuspendedSale();\n        setModalOpen(false);\n        clearFields();\n        setDisabled(false);\n        setLoadingBtn({ deleteBtn: false });\n    }\n\n    return <React.Fragment>\n        <Modal trigger={modalTrigger} open={modalOpen}>\n            <Modal.Header>Sales menu</Modal.Header>\n            <Modal.Content>\n                <Grid columns={2} stackable relaxed=\"very\">\n                    {saleListLength > 0 && <React.Fragment>\n                        <Grid.Column width=\"7\">\n                            <h3>Suspend Sale</h3>\n                            <Form>\n                                <ClearMargin>\n                                    <Form.Input\n                                        label=\"Customer Name\"\n                                        placeholder=\"Jace, the Mind Sculptor\"\n                                        value={customerName}\n                                        onChange={(e, { value }) => setCustomerName(value.substring(0, 50))} />\n                                </ClearMargin>\n                                <ClearMargin>\n                                    <CharLimit>{customerName.length}/50</CharLimit>\n                                </ClearMargin>\n                                <ClearMargin>\n                                    <Form.TextArea\n                                        label=\"Notes\"\n                                        placeholder=\"Sometimes, I forget things...\"\n                                        value={notes}\n                                        onChange={(e, { value }) => setNotes(value.substring(0, 150))} />\n                                </ClearMargin>\n                                <ClearMargin>\n                                    <CharLimit>{notes.length}/150</CharLimit>\n                                </ClearMargin>\n                                <Form.Button primary disabled={disabled || !customerName} loading={loadingBtn.suspendBtn} onClick={submitSuspendSale}>Suspend Sale</Form.Button>\n                            </Form>\n                        </Grid.Column>\n                        <Grid.Column width=\"1\"><Divider /></Grid.Column>\n                    </React.Fragment>}\n                    <Grid.Column width=\"7\">\n                        <h3>Restore Sale</h3>\n                        {sales.length > 0 && <React.Fragment>\n                            <Form>\n                                <Form.Select\n                                    fluid\n                                    label=\"Previously suspended sales\"\n                                    options={sales.map(s => {\n                                        return {\n                                            key: s._id,\n                                            text: s.name,\n                                            value: s._id\n                                        }\n                                    })}\n                                    placeholder=\"Select a sale\"\n                                    onChange={(e, { value }) => setSaleID(value)}\n                                />\n                                <Form.Button primary disabled={disabled || !saleID} loading={loadingBtn.restoreBtn} onClick={submitRestoreSale}>Restore Sale</Form.Button>\n                            </Form>\n                        </React.Fragment>}\n                        {sales.length === 0 && <Message info>\n                            <Message.Header>No sales</Message.Header>\n                            Suspend a sale first\n                        </Message>}\n                    </Grid.Column>\n                </Grid>\n            </Modal.Content>\n            <Modal.Actions>\n                {!!id && <Button color=\"red\" disabled={disabled} loading={loadingBtn.deleteBtn} onClick={submitDeleteSale}>Delete current Sale</Button>}\n                <Button primary disabled={disabled} onClick={() => setModalOpen(false)}>Cancel</Button>\n            </Modal.Actions>\n        </Modal>\n    </React.Fragment >\n}","import React, { useState, useContext } from 'react';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport { Grid, Header, Divider } from 'semantic-ui-react';\nimport { GET_CARDS_WITH_INFO } from '../utils/api_resources';\nimport SearchBar from '../common/SearchBar';\nimport BrowseCardList from './BrowseCardList';\nimport CustomerSaleList from './CustomerSaleList';\nimport PrintList from './PrintList';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport SuspendedSale from './SuspendedSale';\nimport { InventoryCard } from '../utils/ScryfallCard';\nimport { SaleContext } from '../context/SaleContext';\n\nexport default function Sale() {\n    const {\n        saleListCards,\n        suspendedSale,\n        restoreSale,\n        deleteSuspendedSale,\n        suspendSale,\n        resetSaleState\n    } = useContext(SaleContext);\n\n    const [searchResults, setSearchResults] = useState([]);\n    const [searchTerm, setSearchTerm] = useState('');\n\n    const resetState = () => {\n        setSearchResults([]);\n        setSearchTerm('');\n        resetSaleState();\n    };\n\n    const handleResultSelect = async term => {\n        try {\n            const { data } = await axios.get(GET_CARDS_WITH_INFO, {\n                params: { title: term, matchInStock: true },\n                headers: makeAuthHeader()\n            });\n\n            const modeledData = data.map(c => new InventoryCard(c));\n\n            setSearchResults(modeledData);\n            setSearchTerm(term);\n\n            if (data.length === 0) { $('#searchBar').focus().select() }\n        } catch (e) {\n            console.log(e.response);\n        }\n    };\n\n    return (\n        <React.Fragment>\n            <Grid.Row style={{ display: 'flex', alignItems: 'center' }}>\n                <SearchBar handleSearchSelect={handleResultSelect} />\n            </Grid.Row>\n            <br />\n            <Grid stackable={true}>\n                <Grid.Row>\n                    <Grid.Column width=\"11\">\n                        <Header as=\"h2\" style={{ display: \"inline-block\" }}>Inventory</Header>\n\n                        <Divider />\n\n                        <BrowseCardList term={searchTerm} cards={searchResults} />\n\n                    </Grid.Column>\n                    <Grid.Column width=\"5\">\n                        <Header as=\"h2\" style={{ display: 'inline-block' }}>\n                            {suspendedSale.name === '' ? 'Sale Items' : `${suspendedSale.name}'s Items`}\n                        </Header>\n\n                        <SuspendedSale\n                            restoreSale={restoreSale}\n                            suspendSale={suspendSale}\n                            saleListLength={saleListCards.length}\n                            deleteSuspendedSale={deleteSuspendedSale}\n                            id={suspendedSale._id}\n                        />\n                        <PrintList saleListCards={saleListCards} />\n\n                        <Divider />\n\n                        <CustomerSaleList saleList={saleListCards} />\n                    </Grid.Column>\n                </Grid.Row >\n            </Grid >\n        </React.Fragment >\n    );\n}\n","import React from 'react';\nimport { Table } from 'semantic-ui-react';\nimport moment from 'moment';\n\nconst SalesListItem = ({ saleData, cardList }) => {\n    const quantitySold = cardList.reduce(\n        (pre, curr) => pre + curr.qtyToSell,\n        0\n    );\n\n    return (\n        <Table.Row>\n            <Table.Cell>{saleData.saleID}</Table.Cell>\n            <Table.Cell>\n                {moment(saleData.createTime).format('MM/DD/YYYY - h:mm A')}\n            </Table.Cell>\n            <Table.Cell>{quantitySold}</Table.Cell>\n        </Table.Row>\n    );\n};\n\nexport default SalesListItem;\n","import React from 'react';\nimport SalesListItem from './SalesListItem';\nimport { Table } from 'semantic-ui-react';\n\nconst SalesList = ({ list }) => {\n    return (\n        <Table celled unstackable compact>\n            <Table.Header>\n                <Table.Row>\n                    <Table.HeaderCell>Sale ID</Table.HeaderCell>\n                    <Table.HeaderCell>Date of Sale</Table.HeaderCell>\n                    <Table.HeaderCell>Quantity Sold</Table.HeaderCell>\n                </Table.Row>\n            </Table.Header>\n\n            <Table.Body>\n                {list.map(({ sale_data, card_list, _id }) => (\n                    <SalesListItem\n                        saleData={sale_data}\n                        cardList={card_list}\n                        key={_id}\n                    />\n                ))}\n            </Table.Body>\n        </Table>\n    );\n};\n\nexport default SalesList;\n","import React, { Component } from 'react';\nimport SearchBar from '../common/SearchBar';\nimport SalesList from './SalesList';\nimport axios from 'axios';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport { GET_SALES_BY_TITLE } from '../utils/api_resources';\nimport { Header, Divider } from 'semantic-ui-react';\n\nclass BrowseSales extends Component {\n    state = { salesList: [], cardName: '' };\n\n    handleSearchSelect = async cardName => {\n        const { data } = await axios.get(GET_SALES_BY_TITLE, {\n            params: { cardName: cardName },\n            headers: makeAuthHeader()\n        });\n\n        this.setState({ salesList: data, cardName: cardName });\n    };\n\n    render() {\n        const { salesList, cardName } = this.state;\n\n        return (\n            <div>\n                <SearchBar handleSearchSelect={this.handleSearchSelect} />\n\n                <Header as=\"h2\">Browse Sales</Header>\n                <Divider />\n\n                <span>\n                    <em>\n                        {cardName !== '' && (\n                            <h4>\n                                {salesList.length} results for {cardName}\n                            </h4>\n                        )}\n                    </em>\n                </span>\n                <SalesList list={salesList} />\n            </div>\n        );\n    }\n}\n\nexport default BrowseSales;\n","import React from 'react';\nimport { Image, Label } from 'semantic-ui-react';\nimport MarketPrice from '../common/MarketPrice';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n    display: inline-block;\n    margin: 10px 10px 10px 10px;\n`;\n\nconst InventoryWrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    padding: 5px;\n    background-color: rgba(0, 0, 0, 0.9);\n    border-radius: 10px 10px 10px 10px;\n    box-shadow: 2px 2px 5px 0 rgba(0, 0, 0, 0.25);\n`;\n\nconst InventoryRow = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    margin: 5px;\n`;\n\nconst ImageWrapper = styled.div`\n    width: 300px;\n    height: 418.3px;\n    box-shadow: 2px 2px 5px 0 rgba(0, 0, 0, 0.25);\n    background: repeating-linear-gradient(45deg, #bfbfbf, #bfbfbf 10px, #b0b0b0 10px, #b0b0b0 20px);\n    border-radius: 15px;\n`;\n\nexport default function PublicCardItem({ card }) {\n    const { id, cardImage } = card;\n    const [foilQty, nonfoilQty] = card.qohParsed;\n\n    const displayFoil = (\n        <InventoryRow>\n            <Label color='blue' image>Foil<Label.Detail>{foilQty}</Label.Detail></Label>\n            <MarketPrice id={id} finish=\"FOIL\" />\n        </InventoryRow>\n    );\n\n    const displayNonfoil = (\n        <InventoryRow>\n            <Label color='blue' image>Nonfoil<Label.Detail>{nonfoilQty}</Label.Detail></Label>\n            <MarketPrice id={id} />\n        </InventoryRow>\n    );\n\n    return <React.Fragment>\n        <Wrapper>\n            <ImageWrapper>\n                <Image src={cardImage} size=\"medium\" style={{ borderRadius: '15px' }} />\n            </ImageWrapper>\n            <InventoryWrapper>\n                {foilQty > 0 ? displayFoil : null}\n                {nonfoilQty > 0 ? displayNonfoil : null}\n            </InventoryWrapper>\n        </Wrapper>\n    </React.Fragment>\n}","import React from 'react';\nimport PublicCardItem from './PublicCardItem';\nimport { Grid } from 'semantic-ui-react';\n\nconst gridStyle = {\n    display: 'flex',\n    flexWrap: 'wrap',\n    alignContent: 'space-evenly',\n    height: '100%'\n};\n\nexport default function PublicCardList({ cards }) {\n    return <Grid style={gridStyle} >\n        {cards.map(c =>\n            <PublicCardItem\n                key={c.id}\n                card={c}\n            />\n        )}\n    </ Grid>\n}\n","import React from 'react';\nimport axios from 'axios';\nimport {\n    Grid,\n    Segment,\n    Header,\n    Icon,\n    Divider,\n} from 'semantic-ui-react';\nimport SearchBar from '../common/SearchBar';\nimport PublicCardList from './PublicCardList';\nimport { GET_CARDS_WITH_INFO } from '../utils/api_resources';\nimport { InventoryCard } from '../utils/ScryfallCard';\n\nconst initialState = {\n    searchResults: [],\n    saleListCards: [],\n    searchTerm: ''\n};\n\nexport default class PublicInventory extends React.Component {\n    state = initialState;\n\n    handleResultSelect = async term => {\n        try {\n            const { data } = await axios.get(GET_CARDS_WITH_INFO, {\n                params: { title: term, matchInStock: true }\n            });\n\n            const modeledData = data.map(c => new InventoryCard(c));\n\n            this.setState({ searchResults: modeledData, searchTerm: term });\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    render() {\n        const {\n            searchResults,\n            searchTerm\n        } = this.state;\n\n        // Creates text to notify the user of zero-result searches\n        const searchNotification = () => {\n            if (searchTerm && !searchResults.length) { // Check to make sure the user has searched and no results\n                return <p><em>{searchTerm}</em> is out of stock</p>\n            }\n            return <p>Search for a card</p>; // Default text before search\n        }\n\n        return (\n            <React.Fragment>\n                <Grid.Row style={{ display: 'flex', alignItems: 'center' }}>\n                    <SearchBar handleSearchSelect={this.handleResultSelect} />\n                </Grid.Row>\n                <br />\n                <Grid stackable={true}>\n                    <Grid.Column>\n                        <Header as=\"h2\">\n                            Inventory Search\n                            <Header.Subheader>\n                                <em>Card prices subject to change. Consult a Clubhouse employee for final estimates</em>\n                            </Header.Subheader>\n                        </Header>\n\n                        <Divider />\n\n                        {!searchResults.length &&\n                            <Segment placeholder>\n                                <Header icon>\n                                    <Icon name=\"search\" />\n                                    <span>{searchNotification()}</span>\n                                </Header>\n                            </Segment>}\n\n                        <PublicCardList cards={searchResults} />\n                    </Grid.Column>\n                </Grid >\n            </React.Fragment >\n        );\n    }\n}\n","import React from 'react';\nimport SearchBar from '../common/SearchBar';\nimport { GET_SET_NAMES } from '../utils/api_resources';\nimport axios from 'axios';\nimport { Form, Input, Select, Dropdown, Segment } from 'semantic-ui-react';\n\nconst formatDropdownOptions = [\n    { key: 'qw', value: \"\", text: \"None\" },\n    { key: 'we', value: \"standard\", text: \"Standard\" },\n    { key: 'er', value: \"future\", text: \"Future\" },\n    { key: 'rt', value: \"historic\", text: \"Historic\" },\n    { key: 'ty', value: \"pioneer\", text: \"Pioneer\" },\n    { key: 'yu', value: \"modern\", text: \"Modern\" },\n    { key: 'ui', value: \"legacy\", text: \"Legacy\" },\n    { key: 'io', value: \"pauper\", text: \"Pauper\" },\n    { key: 'op', value: \"vintage\", text: \"Vintage\" },\n    { key: 'as', value: \"penny\", text: \"Penny\" },\n    { key: 'sd', value: \"commander\", text: \"Commander\" },\n    { key: 'df', value: \"brawl\", text: \"Brawl\" },\n    { key: 'fg', value: \"duel\", text: \"Duel\" },\n    { key: 'gh', value: \"oldschool\", text: \"Oldschool\" }\n];\n\nconst priceFilterDropdownOptions = [\n    { key: 'gte', value: 'gte', text: '>=' },\n    { key: 'lte', value: 'lte', text: '<=' },\n    { key: 'gtx', value: 'gt', text: '>' },\n    { key: 'ltx', value: 'lt', text: '<' }\n];\n\nconst finishDropdownOptions = [\n    { key: 'nonfoil_foil', value: '', text: 'None' },\n    { key: 'nonfoil', value: 'NONFOIL', text: 'Nonfoil' },\n    { key: 'foil', value: 'FOIL', text: 'Foil' }\n];\n\nconst sortByDropdownOptions = [\n    { key: 'pricesort', value: 'price', text: 'Price' },\n    { key: 'alphasort', value: 'name', text: 'Card Name' }\n];\n\nconst sortByDirectionDropdownOptions = [\n    { key: 'descdirsort', value: 1, text: 'Ascending' },\n    { key: 'ascdirsort', value: -1, text: 'Descending' }\n];\n\nconst sortByColorDropdownOptions = [\n    { key: 'w', value: 'W', text: 'White' },\n    { key: 'u', value: 'U', text: 'Blue' },\n    { key: 'b', value: 'B', text: 'Black' },\n    { key: 'r', value: 'R', text: 'Red' },\n    { key: 'g', value: 'G', text: 'Green' }\n];\n\nconst typeLineOptions = [\n    { key: 'na', value: '', text: 'None' },\n    { key: 'artifact', value: 'Artifact', text: 'Artifact' },\n    { key: 'creature', value: 'Creature', text: 'Creature' },\n    { key: 'enchantment', value: 'Enchantment', text: 'Enchantment' },\n    { key: 'instant', value: 'Instant', text: 'Instant' },\n    { key: 'land', value: 'Land', text: 'Land' },\n    { key: 'planeswalker', value: 'Planeswalker', text: 'Planeswalker' },\n    { key: 'sorcery', value: 'Sorcery', text: 'Sorcery' },\n    { key: 'tribal', value: 'Tribal', text: 'Tribal' }\n];\n\nconst initialState = {\n    title: '',\n    setName: '',\n    format: '',\n    priceNum: '',\n    priceFilter: 'gte',\n    finish: '',\n    sortBy: 'price',\n    colorsArray: [],\n    sortByDirection: -1,\n    typeLine: '',\n    setNames: []\n}\n\nexport default class DeckboxCloneForm extends React.Component {\n    state = { editionDropdownOptions: [], ...initialState };\n\n    handleSearchSelect = name => this.setState({ title: name });\n\n    // When the user blurs the search field, we need to re-set state. Otherwise it won't clear from handleSearchSelect()\n    handleSearchBlur = (e, d) => this.setState({ title: e.target.value });\n\n    handleChange = (e, { value }) => this.setState({ [e.target.name]: value });\n\n    handleDropdownChange = (e, data) => this.setState({ [data.name]: data.value });\n\n    async componentDidMount() {\n        const { data } = await axios.get(GET_SET_NAMES);\n        const setNameOptions = data.map((d, idx) => {\n            return { key: `set${idx}`, value: d, text: d };\n        })\n        const concatWithBlankOption = [{ key: 'snull', value: \"\", text: \"None\" }].concat(setNameOptions);\n        this.setState({ editionDropdownOptions: concatWithBlankOption });\n    }\n\n    render() {\n        const {\n            title,\n            setName,\n            format,\n            priceNum,\n            priceFilter,\n            finish,\n            sortBy,\n            sortByDirection,\n            colorsArray,\n            typeLine\n        } = this.state;\n\n        // Sort the colors here and concat prior to sending to the backend\n        const colors = colorsArray.sort().join('');\n\n        return (\n            <Segment>\n                <h3>Filters</h3>\n                <Form>\n                    <Form.Group widths=\"4\">\n                        <Form.Field>\n                            <label>Card Name</label>\n                            <SearchBar\n                                handleSearchSelect={this.handleSearchSelect}\n                                value={this.state.title}\n                                name=\"title\"\n                                onBlur={this.handleSearchBlur}\n                            />\n                        </Form.Field>\n                        <Form.Field\n                            control={Select}\n                            label=\"Format\"\n                            placeholder=\"Format\"\n                            options={formatDropdownOptions}\n                            name=\"format\"\n                            onChange={this.handleDropdownChange}\n                        />\n                        <Form.Field\n                            control={Select}\n                            label=\"Edition\"\n                            placeholder=\"Edition\"\n                            search\n                            options={this.state.editionDropdownOptions}\n                            name=\"setName\"\n                            onChange={this.handleDropdownChange}\n                        />\n                        <Form.Field\n                            control={Select}\n                            label=\"Finish\"\n                            placeholder=\"Finish\"\n                            options={finishDropdownOptions}\n                            name=\"finish\"\n                            onChange={this.handleDropdownChange}\n                        />\n                    </Form.Group>\n                    <Form.Group widths=\"4\">\n\n                        <Form.Field\n                            control={Select}\n                            multiple\n                            label=\"Colors\"\n                            placeholder=\"Colors\"\n                            options={sortByColorDropdownOptions}\n                            name=\"colorsArray\"\n                            onChange={this.handleDropdownChange}\n                        />\n\n                        <Form.Field\n                            control={Select}\n                            label=\"Type Line\"\n                            placeholder=\"Type Line\"\n                            options={typeLineOptions}\n                            name=\"typeLine\"\n                            onChange={this.handleDropdownChange} />\n\n                        <Form.Field>\n                            <label>Price Filter</label>\n                            <Input\n                                label={<Dropdown\n                                    options={priceFilterDropdownOptions}\n                                    name=\"priceFilter\"\n                                    defaultValue=\"gte\"\n                                    onChange={this.handleDropdownChange}\n                                />}\n                                placeholder=\"Enter a price\"\n                                labelPosition=\"left\"\n                                name=\"priceNum\"\n                                type=\"number\"\n                                onChange={this.handleDropdownChange}\n                            />\n                        </Form.Field>\n                    </Form.Group>\n\n                    <h3>{\"Sort & Order\"}</h3>\n\n                    <Form.Group>\n                        <Form.Field\n                            control={Select}\n                            label=\"Sort By\"\n                            placeholder=\"\"\n                            options={sortByDropdownOptions}\n                            defaultValue='price'\n                            name=\"sortBy\"\n                            onChange={this.handleDropdownChange}\n                        />\n                        <Form.Field\n                            control={Select}\n                            label=\"Order\"\n                            options={sortByDirectionDropdownOptions}\n                            defaultValue={-1}\n                            name=\"sortByDirection\"\n                            onChange={this.handleDropdownChange}\n                        />\n                    </Form.Group>\n\n                    <Form.Group>\n                        <Form.Button primary onClick={() => this.props.handleSubmit({\n                            title,\n                            setName,\n                            format,\n                            priceNum,\n                            priceFilter,\n                            finish,\n                            sortBy,\n                            sortByDirection,\n                            colors,\n                            type: typeLine\n                        })}>Submit</Form.Button>\n                    </Form.Group>\n                </Form>\n            </Segment>\n        )\n    }\n}","import React from 'react';\nimport { Table, Icon, Image } from 'semantic-ui-react';\nimport Price from '../common/Price';\n\nconst conditionMap = {\n    NM: 'Near Mint',\n    LP: 'Light Play',\n    MP: 'Moderate Play',\n    HP: 'Heavy Play',\n};\n\nconst Tooltip = ({ image_uri, posX, posY }) => {\n    return (\n        <div style={{\n            position: 'absolute',\n            left: `${posX}px`,\n            width: '150px', // Width of the image when size=\"small\"\n            height: '209px', // Height of the image when size=\"small\"\n            borderRadius: '7px 7px 7px 7px',\n            boxShadow: '2px 2px 5px 0 rgba(0, 0, 0, 0.25)',\n            background: 'repeating-linear-gradient(45deg, #bfbfbf, #bfbfbf 10px, #b0b0b0 10px, #b0b0b0 20px)'\n        }}>\n            <Image\n                style={{ borderRadius: '7px 7px 7px 7px' }}\n                size=\"small\"\n                src={image_uri}\n            />\n        </div>\n    )\n}\n\nexport default class DeckboxCloneRow extends React.Component {\n    state = { mouseInside: false, mouseX: 0, mouseY: 0 };\n\n    mouseEnter = (e) => {\n        const mouseX = e.clientX - e.target.offsetLeft\n        const mouseY = e.clientY - e.target.offsetTop;\n        this.setState({ mouseInside: true, mouseX, mouseY });\n    }\n\n    mouseLeave = (e) => this.setState({ mouseInside: false });\n\n    mouseMove = (e) => {\n        const mouseX = e.clientX - e.target.offsetLeft\n        const mouseY = e.clientY - e.target.offsetTop;\n        this.setState({ mouseX, mouseY });\n    };\n\n    render() {\n        const { inventory, name, set_name, price, set, rarity, image_uri } = this.props;\n        const { mouseInside, mouseX, mouseY } = this.state;\n        const finish = inventory.k.split('_')[0];\n        const condition = inventory.k.split('_')[1];\n\n        return <Table.Row>\n            <Table.Cell>\n                <span\n                    onMouseEnter={this.mouseEnter}\n                    onMouseLeave={this.mouseLeave}\n                    onMouseMove={this.mouseMove}\n                    style={{ cursor: 'help' }}\n                >\n                    {name}{' '}\n                </span>\n                {finish === 'FOIL' && <Icon name=\"star\" color=\"blue\" />}\n                {mouseInside && <Tooltip image_uri={image_uri} posX={mouseX} posY={mouseY} />}\n            </Table.Cell>\n            <Table.Cell><i className={`ss ss-fw ss-${set} ss-${rarity}`} style={{ fontSize: '20px' }} />{\" \"}{set_name}</Table.Cell>\n            <Table.Cell>{conditionMap[condition]}</Table.Cell>\n            <Table.Cell>{inventory.v}</Table.Cell>\n            <Table.Cell><Price num={price} /></Table.Cell>\n        </Table.Row>\n    }\n}","import React from 'react'\nimport { GET_CARDS_BY_FILTER } from '../utils/api_resources';\nimport DeckboxCloneForm from './DeckboxCloneForm';\nimport DeckboxCloneRow from './DeckboxCloneRow';\nimport axios from 'axios';\nimport { Table, Menu, Icon, Dimmer, Loader, Segment, Header, Container } from 'semantic-ui-react';\nimport _ from 'lodash';\nconst LIMIT = 100 // Matching the backend for now\n\nexport default class DeckboxClone extends React.Component {\n    state = {\n        data: [],\n        count: 0,\n        currentPage: 0,\n        numPages: 0,\n        pageArray: [],\n        isLoading: false,\n        cachedFilters: {},\n        showPages: [],\n        searchTouched: false // Tracks whether the user has initially searched for the 'no results' message\n    }\n\n    fetchData = async (filters, page) => {\n        try {\n            this.setState({ isLoading: true });\n\n            const { data } = await axios.get(GET_CARDS_BY_FILTER, {\n                params: { ...filters, page }\n            });\n\n            const numPages = Math.ceil(data.total / LIMIT);\n            const pages = _.range(1, numPages + 1);\n            let showPages;\n\n            // Logic that controls the visibility of page number links \n            // Default max number pages to display is 5\n            if (page <= 3) {\n                showPages = pages.slice(0, 5);\n            } else if (page >= numPages - 2) {\n                showPages = pages.slice(numPages - 5, numPages);\n            } else {\n                showPages = pages.slice(page - 2, page + 3);\n            }\n\n            this.setState({\n                data: data.cards,\n                count: data.total,\n                isLoading: false,\n                numPages: numPages,\n                currentPage: page,\n                showPages: showPages,\n                searchTouched: true\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    }\n\n    handleSubmit = async (filters) => {\n        this.setState({ cachedFilters: filters }); // Set the filters for pagination requests later\n        await this.fetchData(filters, 1); // On submit, starting page mut always be 1\n    }\n\n    handlePage = async (page) => {\n        await this.fetchData(this.state.cachedFilters, page)\n        this.setState({ currentPage: page });\n    };\n\n    render() {\n        const { data, isLoading, currentPage, numPages, count } = this.state;\n        const showLeftPageButtons = !(currentPage === 1);\n        const showRightPageButtons = !(currentPage === numPages);\n\n        return <Container>\n            <Dimmer active={isLoading} inverted page style={{ marginTop: '52.63px' }}>\n                <Loader size=\"large\">Loading</Loader>\n            </Dimmer>\n            <Segment secondary>\n                <Icon name=\"exclamation triangle\" color=\"blue\" />\n                Prices from this table are updated weekly and are subject to fluctuations. Consult 'New Sale' or 'Manage Inventory' for up-to-date values\n            </Segment>\n            <DeckboxCloneForm handleSubmit={this.handleSubmit} />\n\n            {!!data.length && <Table celled striped compact>\n                <Table.Header>\n                    <Table.Row>\n                        <Table.HeaderCell colSpan='5'>\n                            <Menu floated=\"left\">\n                                <Menu.Item>Viewing page {currentPage} of {numPages}</Menu.Item>\n                            </Menu>\n                            <Menu floated=\"right\">\n                                {showLeftPageButtons && <Menu.Item as=\"a\" icon onClick={() => this.handlePage(currentPage - 1)} >\n                                    <Icon name='chevron left' />\n                                </Menu.Item>}\n\n                                <React.Fragment>\n                                    {this.state.showPages.map(p => {\n                                        return (\n                                            <Menu.Item\n                                                key={`page-${p}`}\n                                                onClick={() => this.handlePage(p)}\n                                                active={currentPage === p}\n                                                disabled={currentPage === p}\n                                                as=\"a\">\n                                                {p}\n                                            </Menu.Item>\n                                        )\n                                    })}\n                                </React.Fragment>\n\n                                {showRightPageButtons && <Menu.Item as=\"a\" icon onClick={() => this.handlePage(currentPage + 1)}>\n                                    <Icon name='chevron right' />\n                                </Menu.Item>}\n                            </Menu>\n                        </Table.HeaderCell>\n                    </Table.Row>\n                </Table.Header>\n\n                <Table.Header>\n                    <Table.Row>\n                        <Table.HeaderCell>Name</Table.HeaderCell>\n                        <Table.HeaderCell>Edition</Table.HeaderCell>\n                        <Table.HeaderCell>Condition</Table.HeaderCell>\n                        <Table.HeaderCell>Qty</Table.HeaderCell>\n                        <Table.HeaderCell>Price</Table.HeaderCell>\n                    </Table.Row>\n                </Table.Header>\n\n                <Table.Body>\n                    {data.map(d => <DeckboxCloneRow {...d} key={`${d._id}${d.inventory.k}`} />)}\n                </Table.Body>\n\n                <Table.Footer>\n                    <Table.Row>\n                        <Table.HeaderCell colSpan='5'>\n                            <Menu floated=\"left\">\n                                <Menu.Item>Total results: {count}</Menu.Item>\n                            </Menu>\n                            <Menu floated=\"right\">\n                                {showLeftPageButtons && <Menu.Item\n                                    as=\"a\"\n                                    icon\n                                    onClick={() => this.handlePage(currentPage - 1)}\n                                >\n                                    <Icon name='chevron left' />\n                                </Menu.Item>}\n\n                                <React.Fragment>\n                                    {this.state.showPages.map(p => {\n                                        return (\n                                            <Menu.Item\n                                                key={`page-${p}`}\n                                                onClick={() => this.handlePage(p)}\n                                                active={currentPage === p}\n                                                disabled={currentPage === p}\n                                                as=\"a\">\n                                                {p}\n                                            </Menu.Item>\n                                        )\n                                    })}\n                                </React.Fragment>\n\n                                {showRightPageButtons && <Menu.Item\n                                    as=\"a\"\n                                    icon\n                                    onClick={() => this.handlePage(currentPage + 1)}\n                                >\n                                    <Icon name='chevron right' />\n                                </Menu.Item>}\n                            </Menu>\n                        </Table.HeaderCell>\n                    </Table.Row>\n                </Table.Footer>\n            </Table>}\n\n            {!data.length &&\n                <Segment placeholder>\n                    <Header icon>\n                        <Icon name=\"search\" />\n                        {this.state.searchTouched ?\n                            'No results found' :\n                            'Use the filters to browse inventory'\n                        }\n                    </Header>\n                </Segment>}\n        </Container>\n    }\n}","import React, { useState } from 'react';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport { LOGIN } from '../utils/api_resources';\nimport axios from 'axios';\n\nexport const AuthContext = React.createContext();\n\nexport default function AuthProvider(props) {\n    const [loggedIn, setLoggedIn] = useState(!!localStorage.getItem('clubhouse_JWT'));\n\n    const handleLogin = async (username, password) => {\n        try {\n            const { data } = await axios.post(LOGIN, {\n                username: username.toLowerCase(),\n                password: password\n            }, { headers: makeAuthHeader() });\n\n            if (data.token) {\n                localStorage.setItem('clubhouse_JWT', data.token);\n                setLoggedIn(!!localStorage.getItem('clubhouse_JWT'))\n\n                return { authed: true };\n            } else {\n                return { authed: false };\n            }\n        } catch (err) {\n            console.log(err);\n        }\n    }\n\n    const handleLogout = async () => {\n        try {\n            localStorage.removeItem('clubhouse_JWT');\n            setLoggedIn(!!localStorage.getItem('clubhouse_JWT'));\n\n            return { authed: false };\n        } catch (err) {\n            console.log(err);\n        }\n    }\n\n    return <AuthContext.Provider value={{ loggedIn, handleLogin, handleLogout }}>\n        {props.children}\n    </AuthContext.Provider>\n}\n","import React, { useState, useContext } from 'react';\nimport createToast from '../common/createToast';\nimport { Form, Button, Segment } from 'semantic-ui-react';\nimport { Redirect } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthProvider';\nimport styled from 'styled-components';\n\nconst LoginContainer = styled.div`\n    margin-top: 15px;\n    display: flex;\n    justify-content: center;\n`;\n\nconst FormContainer = styled(Segment)`\n    width: 400px;\n    padding: 25px 25px 25px 25px !important;\n`;\n\nconst initialState = { username: '', password: '', loading: false };\n\nexport default function Login() {\n    const [state, setState] = useState(initialState);\n    const { loggedIn, handleLogin } = useContext(AuthContext);\n\n    const handleInputChange = (e, { value }) => setState({ ...state, [e.target.name]: value });\n\n    const login = async () => {\n        setState({ loading: true });\n\n        const { authed } = await handleLogin(state.username, state.password);\n\n        if (authed) {\n            // Do not set state here to mitigate React setState warning after component unmounted due to redirect\n            createToast({\n                color: 'green',\n                header: 'Success',\n                message: `Enjoy your time here!`,\n            });\n        } else {\n            setState(initialState);\n            createToast({\n                color: 'red',\n                header: 'Error',\n                message: `Username or password was incorrect`,\n            });\n        }\n    };\n\n    if (loggedIn) return <Redirect to=\"/manage-inventory\" />\n\n    return <LoginContainer>\n        <FormContainer raised loading={state.loading}>\n            <Form>\n                <Form.Field>\n                    <Form.Input\n                        className=\"username-input\"\n                        name=\"username\"\n                        placeholder=\"Username\"\n                        label=\"Username\"\n                        value={state.username || ''}\n                        onChange={handleInputChange}\n                    />\n                </Form.Field>\n                <Form.Field>\n                    <Form.Input\n                        className=\"password-input\"\n                        name=\"password\"\n                        placeholder=\"Password\"\n                        type=\"password\"\n                        label=\"Password\"\n                        value={state.password || ''}\n                        onChange={handleInputChange}\n                    />\n                </Form.Field>\n                <Button\n                    primary\n                    fluid\n                    floated=\"right\"\n                    type=\"submit\"\n                    onClick={login}\n                    className=\"login-btn\"\n                    disabled={!state.username || !state.password}>\n                    Submit\n            </Button>\n            </Form>\n        </FormContainer>\n    </LoginContainer>\n}\n","import React, { useContext } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthProvider';\n\nfunction Logout() {\n    const { handleLogout } = useContext(AuthContext);\n\n    handleLogout();\n\n    return <Redirect to=\"/login\" />\n};\n\nexport default Logout;\n","import React, { useState } from 'react';\nimport {\n    Segment,\n    Input,\n    Button,\n    Form,\n    Select,\n    Label,\n    Item\n} from 'semantic-ui-react';\nimport QohLabels from '../common/QohLabels';\nimport CardImage from '../common/CardImage';\nimport MarketPrice from '../common/MarketPrice'\nimport $ from 'jquery';\nimport createToast from '../common/createToast';\n\nconst finishes = [\n    { key: 'NONFOIL', text: 'Nonfoil', value: 'NONFOIL' },\n    { key: 'FOIL', text: 'Foil', value: 'FOIL' }\n];\n\nconst cardConditions = [\n    { key: 'NM', text: 'Near Mint', value: 'NM' },\n    { key: 'LP', text: 'Light Play', value: 'LP' },\n    { key: 'MP', text: 'Moderate Play', value: 'MP' },\n    { key: 'HP', text: 'Heavy Play', value: 'HP' }\n];\n\n/**\n * Seeds state from props. Used to determine if cards have only foil, nonfoil, or both printings\n * from their `foil` and `nonfoil`\n * @param {Boolean} nonfoilProp\n * @param {Boolean} foilProp\n */\nfunction checkCardFinish(nonfoil, foil) {\n    if (!nonfoil && foil) {\n        return { selectedFinish: 'FOIL', finishDisabled: true };\n    } else if (nonfoil && !foil) {\n        return { selectedFinish: 'NONFOIL', finishDisabled: true };\n    } else if (nonfoil && foil) {\n        return { selectedFinish: 'NONFOIL', finishDisabled: false };\n    }\n}\n\nexport default function ReceivingCardItem(props) {\n    const [quantity, setQuantity] = useState(1);\n    const [cashPrice, setCashPrice] = useState(0);\n    const [creditPrice, setCreditPrice] = useState(0);\n    const [selectedCondition, setSelectedCondition] = useState('NM');\n    const [marketPrice, setMarketPrice] = useState(0);\n    const [selectedFinish, setSelectedFinish] = useState(\n        checkCardFinish(props.nonfoil, props.foil).selectedFinish // seed state from props\n    );\n\n    // Determines whether the select finish dropdown is permanently disabled, seeded from props\n    const finishDisabled = checkCardFinish(props.nonfoil, props.foil).finishDisabled;\n\n    const handleFinishChange = (e, { value }) => setSelectedFinish(value);\n\n    const handleConditionChange = (e, { value }) => setSelectedCondition(value);\n\n    // Validates/sanitizes user inputs by tracking the `name` attribute of the input element\n    const handlePriceChange = (e, { value }) => {\n        let val = Number(value) || 0;\n        if (val < 0) val = 0;\n\n        switch (e.target.name) {\n            case \"cashInput\":\n                setCashPrice(val);\n                break;\n            case \"marketPriceInput\":\n                setMarketPrice(val);\n                break;\n            case \"creditInput\":\n                setCreditPrice(val);\n                break;\n            default:\n                break;\n        }\n    }\n\n    const handleQuantityChange = (e, { value }) => {\n        let val = parseInt(value, 10) || 0;\n        if (val < 0) val = 0; // cannot receive less than 0\n        if (val > 50) val = 50 // set max to 50 cards per single transaction\n        setQuantity(val);\n    };\n\n\n    const handleFocus = e => {\n        switch (e.target.name) {\n            case \"cashInput\":\n                if (cashPrice === 0) setCashPrice('');\n                break;\n            case \"marketPriceInput\":\n                if (marketPrice === 0) setMarketPrice('');\n                break;\n            case \"creditInput\":\n                if (creditPrice === 0) setCreditPrice('');\n                break;\n            default:\n                break;\n        }\n    }\n\n    const handleBlur = e => {\n        switch (e.target.name) {\n            case \"cashInput\":\n                if (cashPrice === '') setCashPrice(0);\n                break;\n            case \"marketPriceInput\":\n                if (marketPrice === '') setMarketPrice(0);\n                break;\n            case \"creditInput\":\n                if (creditPrice === '') setCreditPrice(0);\n                break;\n            default:\n                break;\n        }\n    }\n\n    const handleInventoryAdd = () => {\n        props.addToList({\n            quantity,\n            cashPrice,\n            marketPrice,\n            creditPrice,\n            finishCondition: `${selectedFinish}_${selectedCondition}`, // ex. NONFOIL_NM\n            cardInfo: { ...props }\n        })\n\n        setQuantity(1);\n        setCashPrice(0);\n        setMarketPrice(0);\n        setCreditPrice(0);\n        setSelectedCondition('NM');\n        setSelectedFinish(checkCardFinish(props.nonfoil, props.foil).selectedFinish);\n\n        createToast({\n            color: 'green',\n            header: `${quantity}x ${props.name} added to buylist!`,\n            duration: 2000\n        });\n\n        // Highlight the input after successful card add\n        $('#searchBar').focus().select();\n    };\n\n    /**\n     * Determines whether the `Add` button should be disabled\n     */\n    const submitDisabled = () => {\n        const validateQty = quantity === 0 || quantity === '';\n        const validateTradeTypes = !cashPrice && !creditPrice;\n        const validateMarketPrice = marketPrice === 0 || marketPrice === '';\n\n        if (cashPrice > 0) {\n            return validateQty || validateTradeTypes || validateMarketPrice;\n        }\n\n        return validateQty || validateTradeTypes;\n    }\n\n    const {\n        image_uris,\n        name,\n        set_name,\n        set,\n        rarity,\n        card_faces,\n        id,\n        language\n    } = props;\n\n    return (\n        <Segment>\n            <Item.Group divided>\n                <Item>\n                    <Item.Image size=\"small\">\n                        <CardImage\n                            image_uris={image_uris}\n                            card_faces={card_faces}\n                            hover={false}\n                        />\n                    </Item.Image>\n                    <Item.Content>\n                        <Item.Header as='h3'>\n                            {name}\n                            {' '}\n                            <i\n                                className={`ss ss-fw ss-${set} ss-${rarity}`}\n                                style={{ fontSize: '30px' }}\n                            />\n                            <Label color=\"grey\">\n                                {set_name} ({String(set).toUpperCase()})\n                                </Label>\n                            <QohLabels inventoryQty={props.qoh} />\n                            {' '}\n                            <MarketPrice id={id} finish={selectedFinish} />\n                            <Label image color=\"grey\">{language}</Label>\n                        </Item.Header>\n                        <Item.Description>\n                            <Form>\n                                <Form.Group widths=\"12\">\n                                    <Form.Field\n                                        control={Input}\n                                        type=\"number\"\n                                        label=\"Quantity\"\n                                        value={quantity}\n                                        onChange={handleQuantityChange}\n                                        onFocus={e => e.target.select()}\n                                    />\n                                    <Form.Field\n                                        label=\"Credit Price\"\n                                        name=\"creditInput\"\n                                        control={Input}\n                                        type=\"number\"\n                                        value={creditPrice}\n                                        onChange={handlePriceChange}\n                                        onFocus={handleFocus}\n                                        onBlur={handleBlur}\n                                        step=\"0.25\"\n                                    />\n                                    <Form.Field\n                                        label=\"Cash Price\"\n                                        name=\"cashInput\"\n                                        control={Input}\n                                        type=\"number\"\n                                        value={cashPrice}\n                                        onChange={handlePriceChange}\n                                        onFocus={handleFocus}\n                                        onBlur={handleBlur}\n                                        step=\"0.25\"\n                                    />\n                                    <Form.Field\n                                        label=\"Market Price\"\n                                        name=\"marketPriceInput\"\n                                        control={Input}\n                                        type=\"number\"\n                                        value={marketPrice}\n                                        onChange={handlePriceChange}\n                                        onFocus={handleFocus}\n                                        onBlur={handleBlur}\n                                        step=\"0.25\"\n                                        disabled={cashPrice === 0 || cashPrice === ''}\n                                    />\n                                </Form.Group>\n                                <Form.Group widths=\"12\">\n                                    <Form.Field\n                                        label=\"Finish\"\n                                        control={Select}\n                                        value={selectedFinish}\n                                        options={finishes}\n                                        disabled={finishDisabled}\n                                        onChange={handleFinishChange}\n                                    />\n                                    <Form.Field\n                                        label=\"Condition\"\n                                        control={Select}\n                                        value={selectedCondition}\n                                        options={cardConditions}\n                                        onChange={handleConditionChange}\n                                    />\n                                    <Form.Button\n                                        label=\"Add to List?\"\n                                        control={Button}\n                                        primary\n                                        disabled={submitDisabled()}\n                                        onClick={handleInventoryAdd}\n                                    >\n                                        Add\n                                    </Form.Button>\n                                </Form.Group>\n                            </Form>\n                        </Item.Description>\n                    </Item.Content>\n                </Item>\n            </Item.Group>\n        </Segment>\n    );\n}","import React from 'react';\nimport ReceivingCardItem from './ReceivingSearchItem';\n\nexport default function ReceivingCardList({ cards, addToList }) {\n    return cards.map(c => {\n        return <ReceivingCardItem\n            key={c.id}\n            {...c}\n            addToList={addToList}\n        />\n    });\n}\n","import React, { useState } from 'react';\nimport { Table, Button, Label, Icon } from 'semantic-ui-react';\nimport Price from '../common/Price';\n\n// Defines whether it uses cash or credit for trade types\nconst TRADE_TYPE = { CASH: 'CASH', CREDIT: 'CREDIT' };\n\nexport default function ReceivingListItem({ name, set, rarity, cashPrice, creditPrice, finishCondition, uuid_key, removeFromList, tradeType, activeTradeType }) {\n    const { CASH, CREDIT } = TRADE_TYPE;\n    const [hovered, setHovered] = useState(false);\n\n    return (\n        <Table.Row>\n            <Table.Cell><b>{name}</b></Table.Cell>\n            <Table.Cell singleLine>\n                <i\n                    className={`ss ss-fw ss-${set} ss-${rarity}`}\n                    style={{ fontSize: '20px' }}\n                />\n                <Label color=\"grey\">{set.toUpperCase()}</Label>\n            </Table.Cell>\n            <Table.Cell>\n                <div style={{ whiteSpace: 'noWrap' }}>\n                    Cash <b><Price num={cashPrice} /></b>\n                </div>\n                <div style={{ whiteSpace: 'noWrap' }}>\n                    Credit <b><Price num={creditPrice} /></b>\n                </div>\n                <p>{finishCondition.split('_')[0]} | {finishCondition.split('_')[1]}</p>\n            </Table.Cell>\n            <Table.Cell>\n                <Button\n                    active={tradeType === CASH}\n                    color={tradeType === CASH ? 'blue' : null}\n                    onClick={() => activeTradeType(uuid_key, CASH)}\n                    disabled={cashPrice === 0}\n                    icon\n                >\n                    <Icon name=\"dollar sign\"></Icon>\n                </Button>\n            </Table.Cell>\n            <Table.Cell>\n                <Button\n                    active={tradeType === CREDIT}\n                    color={tradeType === CREDIT ? 'blue' : null}\n                    onClick={() => activeTradeType(uuid_key, CREDIT)}\n                    disabled={creditPrice === 0}\n                    icon\n                >\n                    <Icon name=\"credit card outline\"></Icon>\n                </Button>\n            </Table.Cell>\n            <Table.Cell>\n                <Button\n                    icon=\"cancel\"\n                    circular\n                    onClick={() => removeFromList(uuid_key)}\n                    onMouseOver={() => setHovered(true)}\n                    onMouseOut={() => setHovered(false)}\n                    color={hovered ? 'red' : null}\n                >\n                </Button>\n            </Table.Cell>\n        </Table.Row>\n    );\n}","import React from 'react';\nimport _ from 'lodash';\nimport Price from '../common/Price';\nimport { Table } from 'semantic-ui-react';\n\n// Am I crazy or is this logic really convoluted?\n// Perhaps look at this down the line for improvement...\nexport default function CashReport({ receivingList, closeCashModal }) {\n    // If id, cashPrice and marketPrice are the same, goes in one bucket\n    const countByPriceAndID = _.chain(receivingList)\n        .filter(c => c.tradeType === 'CASH')\n        .map(c => {\n            // Note: We're creating a unique uuid-esque comparator string based on:\n            // `id`, `cashPrice`, `marketPrice`, and `finishCondition`\n            return { ...c, temp_uuid: `${c.id}-${c.cashPrice}-${c.marketPrice}-${c.finishCondition}` }\n        })\n        .groupBy(\"temp_uuid\")\n        .mapValues(val => val.length)\n        .value();\n\n    const uniqLineItems = _.chain(receivingList)\n        .filter(c => c.tradeType === 'CASH')\n        .map(c => {\n            return { ...c, temp_uuid: `${c.id}-${c.cashPrice}-${c.marketPrice}-${c.finishCondition}` }\n        })\n        .uniqBy('temp_uuid')\n        .value();\n\n    const mergedWithQty = uniqLineItems.map(c => {\n        return { ...c, tradeQty: countByPriceAndID[c.temp_uuid] } // Add a trade quantity referencing the previous count\n    });\n\n    const totalCashOut = _.chain(receivingList)\n        .filter(c => c.tradeType === 'CASH')\n        .sumBy(c => c.cashPrice)\n        .value();\n\n    return <React.Fragment>\n        <div id=\"cash-report\">\n            <Table celled>\n                <Table.Header>\n                    <Table.Row>\n                        <Table.HeaderCell colSpan={6}>Employee Name:</Table.HeaderCell>\n                    </Table.Row>\n                    <Table.Row>\n                        <Table.HeaderCell>Card Name</Table.HeaderCell>\n                        <Table.HeaderCell>Market Value</Table.HeaderCell>\n                        <Table.HeaderCell>Condition</Table.HeaderCell>\n                        <Table.HeaderCell>Quantity</Table.HeaderCell>\n                        <Table.HeaderCell>Cash Offer</Table.HeaderCell>\n                        <Table.HeaderCell>Cash Out</Table.HeaderCell>\n                    </Table.Row>\n                </Table.Header>\n                <Table.Body>\n                    {mergedWithQty.map(c => {\n                        return <Table.Row key={c.temp_uuid}>\n                            <Table.Cell>{c.name}</Table.Cell>\n                            <Table.Cell><Price num={c.marketPrice} /></Table.Cell>\n                            <Table.Cell>{c.finishCondition}</Table.Cell>\n                            <Table.Cell>{c.tradeQty}</Table.Cell>\n                            <Table.Cell><Price num={c.cashPrice} /></Table.Cell>\n                            <Table.Cell><Price num={c.tradeQty * c.cashPrice} /></Table.Cell>\n                        </Table.Row>\n                    })}\n                </Table.Body>\n                <Table.Footer>\n                    <Table.HeaderCell colSpan={6}>Total: <Price num={totalCashOut} /></Table.HeaderCell>\n                </Table.Footer>\n            </Table>\n        </div>\n    </React.Fragment>\n}","import React, { useState } from 'react';\nimport { Segment, Statistic, Button, Modal, Header } from 'semantic-ui-react';\nimport Price from '../common/Price';\nimport CashReport from './CashReport';\nimport printCashReport from './printCashReport';\n\nconst TRADE_TYPE = { CASH: 'CASH', CREDIT: 'CREDIT' };\n\nexport default function ReceivingListTotals({ receivingList, selectAll, commitToInventory }) {\n    const { CASH, CREDIT } = TRADE_TYPE;\n    const [loading, setLoading] = useState(false);\n    const [showModal, setShowModal] = useState(false);\n    const [showCashModal, setShowCashModal] = useState(false);\n\n    const openCashModal = () => setShowCashModal(true);\n\n    const closeCashModal = () => setShowCashModal(false);\n\n    const submitToInventory = async () => {\n        setLoading(true);\n        await commitToInventory();\n        setLoading(false);\n    }\n\n    const handlePrintCashReport = () => {\n        setShowCashModal(false); // Close the modal so users don't have to after printing in new tab\n        printCashReport();\n    }\n\n    const cashTotal = receivingList.reduce((acc, curr) => {\n        let cashVal = curr.tradeType === CASH ? curr.cashPrice : 0;\n        return acc + cashVal;\n    }, 0);\n\n    const creditTotal = receivingList.reduce((acc, curr) => {\n        let creditVal = curr.tradeType === CREDIT ? curr.creditPrice : 0;\n        return acc + creditVal;\n    }, 0);\n\n    return <Segment>\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n            <Button.Group>\n                <Button onClick={() => selectAll(TRADE_TYPE.CASH)}>Select all cash</Button>\n                <Button.Or />\n                <Button onClick={() => selectAll(TRADE_TYPE.CREDIT)}>Select all credit</Button>\n            </Button.Group>\n            <div>\n                <Statistic size=\"mini\">\n                    <Statistic.Label>Cash Due:</Statistic.Label>\n                    <Statistic.Value><Price num={cashTotal} /></Statistic.Value>\n                </Statistic>\n                <Statistic size=\"mini\">\n                    <Statistic.Label>Credit Due:</Statistic.Label>\n                    <Statistic.Value><Price num={creditTotal} /></Statistic.Value>\n                </Statistic>\n            </div>\n        </div>\n\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n            <Modal\n                open={showCashModal}\n                trigger={\n                    <Button\n                        color={cashTotal > 0 ? 'green' : null}\n                        disabled={cashTotal === 0}\n                        onClick={openCashModal}>\n                        Generate cash report\n                    </Button>\n                }>\n                <Modal.Content>\n                    <CashReport\n                        receivingList={receivingList}\n                        closeCashModal={closeCashModal} />\n                </Modal.Content>\n                <Modal.Actions>\n                    <Button onClick={handlePrintCashReport} color=\"blue\">Print Report</Button>\n                    <Button onClick={closeCashModal}>Cancel</Button>\n                </Modal.Actions>\n            </Modal>\n\n            <Modal\n                closeOnDimmerClick={false}\n                trigger={\n                    <Button\n                        color=\"blue\"\n                        disabled={receivingList.length === 0}\n                        onClick={() => setShowModal(true)}>\n                        Commit to inventory\n                    </Button>\n                }\n                open={showModal}\n                onClose={() => setShowModal(false)}\n                basic style={{ marginTop: '50px' }} >\n                <Header>Confirm receipt of new inventory?</Header>\n                <Modal.Content>\n                    <p><b>Pressing 'Submit' will commit the following items to inventory:</b></p>\n                    <ul>\n                        {receivingList.map(c => {\n                            return <li key={c.uuid_key}>{c.name} | {c.set_name}({c.set.toUpperCase()})</li>\n                        })}\n                    </ul>\n                    <div>\n                        <p><b>The customer is owed: </b></p>\n                        <ul>\n                            {cashTotal > 0 ? <li><Price num={cashTotal} /> in cold, hard cash</li> : null}\n                            {creditTotal > 0 ? <li><Price num={creditTotal} /> in store credit</li> : null}\n                        </ul>\n                    </div>\n                </Modal.Content>\n                <Modal.Actions>\n                    <Button basic color=\"red\" inverted onClick={() => setShowModal(false)}>Cancel</Button>\n                    <Button color=\"green\" inverted loading={loading} disabled={loading} onClick={submitToInventory}>Submit</Button>\n                </Modal.Actions>\n            </Modal>\n        </div>\n    </Segment>\n}","const printStyle = `\n    body {\n        font-family: 'helvetica neue', helvetica, arial, sans-serif;\n    }\n\n    table {\n        table-layout: fixed;\n        width: 100%;\n        border-collapse: collapse;\n        border: 1px solid gray;\n        text-align: left;\n    }\n\n    thead th:nth-child(1) {\n        width: 30%;\n    }\n\n    thead th:nth-child(2) {\n        width: 20%;\n    }\n\n    thead th:nth-child(3) {\n        width: 15%;\n    }\n\n    thead th:nth-child(4) {\n        width: 35%;\n    }\n\n    th, td {\n        border: 1px solid #ddd;\n        padding: 10px;\n    }\n\n    tfoot {\n        text-align: right !important;\n    }\n`;\n\n/**\n     * We're creating a new tab here for the modal table and writing CSS to it - not the most elegant solution from a UX and\n     * code standpoint, but time was of the essence for this release. Refactor down the road.\n     * \n     * The id cash-report is found on the cash report table\n     */\nexport default function printCashReport() {\n    const divToPrint = document.getElementById('cash-report');\n    const popup = window.open('', '_blank');\n    popup.document.open();\n    popup.document.write(`<html>`);\n    popup.document.write(`<head>`);\n    popup.document.write(`<title>Cash Report</title>`)\n    popup.document.write(`<style>${printStyle}</style>`);\n    popup.document.write(`</head>`);\n    popup.document.write(`<body onload=\"window.print()\">`);\n    popup.document.write(`${divToPrint.innerHTML}`);\n    popup.document.write(`</body>`);\n    popup.document.write(`</html>`);\n    popup.document.close();\n}","import React, { useState } from 'react';\nimport SearchBar from '../common/SearchBar';\nimport axios from 'axios';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport ReceivingSearchList from './ReceivingSearchList';\nimport { Segment, Header, Icon, Grid, Divider, Table } from 'semantic-ui-react'\nimport { RECEIVE_CARDS, GET_CARDS_WITH_INFO } from '../utils/api_resources';\nimport ReceivingListItem from './ReceivingListItem';\nimport ReceivingListTotals from './ReceivingListTotals';\nimport createToast from '../common/createToast';\nimport { ScryfallCard } from '../utils/ScryfallCard';\nimport _ from 'lodash';\nimport uuid from 'uuid'; // Used to crete unique keys for the list\n\n// Defines whether the receivingListItem uses cash or credit for trade types\nconst TRADE_TYPE = { CASH: 'CASH', CREDIT: 'CREDIT' };\n\nfunction DefaultPlaceholder({ active, headerText }) {\n    return (\n        <React.Fragment>\n            {active &&\n                <Segment placeholder>\n                    <Header icon>\n                        <Icon name=\"search\" />\n                        <em>{headerText}</em>\n                    </Header>\n                </Segment>}\n        </React.Fragment>\n    )\n}\n\nexport default function Receiving() {\n    const [searchResults, setSearchResults] = useState([]);\n    const [receivingList, setReceivingList] = useState([]);\n\n    /**\n     * Fetches cards from the DB by title when a user selects a title after querying.\n     * This function merges the data (inventory quantity and card objects) from two endpoints into one array.\n     * \n     * @param {String} term - the search term\n     */\n    const handleSearchSelect = async term => {\n        try {\n            const { data } = await axios.get(GET_CARDS_WITH_INFO, {\n                params: { title: term, matchInStock: false },\n                headers: makeAuthHeader()\n            });\n\n            setSearchResults(data.map(d => new ScryfallCard(d)));\n        } catch (e) {\n            console.log(e);\n        }\n    };\n\n    /**\n     * Adds a card to the receiving list, with a unique uuid for identification\n     */\n    const addToList = ({ quantity, cashPrice, marketPrice, creditPrice, finishCondition, cardInfo }) => {\n\n        const previousState = [...receivingList];\n        let initialTradeType = TRADE_TYPE.CREDIT;\n\n        // If the creditPrice is 0 default to cash\n        if (!creditPrice) initialTradeType = TRADE_TYPE.CASH;\n\n        // Each line-item represents one card. Use _.times() to repeat\n        const newState = previousState.concat(_.times(quantity, idx => {\n            return { cashPrice, marketPrice, creditPrice, finishCondition, ...cardInfo, uuid_key: uuid(), tradeType: initialTradeType }\n        }))\n\n        setReceivingList(_.sortBy(newState, 'name'));\n    }\n\n    /**\n     * Removes a card from the receiving list using the uuid\n     */\n    const removeFromList = (uuid_key) => {\n        const copiedState = [...receivingList];\n        _.remove(copiedState, e => e.uuid_key === uuid_key); // Mutates array\n        setReceivingList(copiedState);\n    }\n\n    /**\n     * Determines whether line-items use cash or credit. Changes the tradeType by reference in the receivingList array\n     * which changes the button color/active prop in ReceivingListItem\n     */\n    const activeTradeType = (uuid_key, tradeType) => {\n        const previousState = [...receivingList];\n        const card = previousState.find(e => e.uuid_key === uuid_key);\n        card.tradeType = TRADE_TYPE[tradeType];\n        setReceivingList(previousState);\n    }\n\n    /**\n     * Selects all items by their tradeType, if possible\n     * \n     * @param {String} tradeType - `CASH` or `CREDIT`\n     */\n    const selectAll = (tradeType) => {\n        const oldState = [...receivingList];\n        const { CASH, CREDIT } = TRADE_TYPE;\n\n        oldState.forEach((card, idx, arr) => {\n            if (card.tradeType !== tradeType) { // if the line-items tradeType is not the one passed\n                const otherType = card.tradeType === CASH ? CREDIT : CASH; // determine the tradeType and set it to other one (toggle)\n                const otherTypeValue = otherType === CASH ? card.cashPrice : card.creditPrice; // see what the value of the other is\n                // if the other is greater than 0, we mutate array in-place\n                if (otherTypeValue > 0) arr[idx].tradeType = otherType;\n            }\n        })\n\n        setReceivingList(oldState);\n    }\n\n    /**\n     * Persists all passed cards to inventory via Promise.all() using the addCardToInventory backend method\n     */\n    const commitToInventory = async () => {\n        try {\n            const cardsToCommit = receivingList.map(card => {\n                const { finishCondition, id, name, set_name, set } = card;\n                return { quantity: 1, finishCondition, id, name, set_name, set }; // Only committing one per line-item\n            })\n\n            const messages = await axios.post(RECEIVE_CARDS, { cards: cardsToCommit }, { headers: makeAuthHeader() });\n\n            console.log(messages);\n\n            setSearchResults([]);\n            setReceivingList([]);\n\n            createToast({\n                color: 'green',\n                header: `${receivingList.length} cards were added to inventory!`,\n                duration: 2000\n            });\n        } catch (e) {\n            console.log(e);\n            createToast({\n                color: 'red',\n                header: `Something went wrong...`,\n                duration: 2000\n            });\n        }\n    }\n\n    return (\n        <React.Fragment>\n            <SearchBar handleSearchSelect={handleSearchSelect} />\n            <br />\n            <Grid stackable={true}>\n                <Grid.Row>\n                    <Grid.Column width=\"10\">\n                        <Header as=\"h2\" style={{ display: \"inline-block\" }}>Card Search</Header>\n                        <Divider />\n                        <DefaultPlaceholder\n                            active={!searchResults.length}\n                            headerText={\"So many cards, so little time.\"}\n                        />\n                        <ReceivingSearchList\n                            cards={searchResults}\n                            addToList={addToList}\n                        />\n                    </Grid.Column>\n                    <Grid.Column width=\"6\">\n                        <Header as=\"h2\" style={{ display: \"inline-block\" }}>Buylist</Header>\n                        {receivingList.length > 0 &&\n                            <Header floated=\"right\" style={{ display: \"inline-block\" }}>Total Cards: {receivingList.length}</Header>\n                        }\n                        <Divider />\n                        <DefaultPlaceholder\n                            active={!receivingList.length}\n                            headerText={\"If you receive it, they will come.\"}\n                        />\n                        {receivingList.length > 0 && <Table compact size=\"small\">\n                            <Table.Body>\n                                {receivingList.map(({ name, set, rarity, cashPrice, creditPrice, finishCondition, uuid_key, tradeType }) => {\n                                    return <ReceivingListItem\n                                        name={name}\n                                        set={set}\n                                        rarity={rarity}\n                                        cashPrice={cashPrice}\n                                        creditPrice={creditPrice}\n                                        finishCondition={finishCondition}\n                                        uuid_key={uuid_key}\n                                        removeFromList={removeFromList}\n                                        tradeType={tradeType}\n                                        activeTradeType={activeTradeType}\n                                        key={uuid_key}\n                                    />\n                                })}\n                            </Table.Body>\n                        </Table>}\n                        {receivingList.length > 0 && <ReceivingListTotals\n                            receivingList={receivingList}\n                            selectAll={selectAll}\n                            commitToInventory={commitToInventory}\n                        />}\n                    </Grid.Column>\n                </Grid.Row>\n            </Grid>\n        </React.Fragment>\n    );\n}\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { GET_ALL_SALES } from '../utils/api_resources';\nimport { Segment, Icon, Grid } from 'semantic-ui-react';\nimport Highcharts from 'highcharts';\nimport moment from 'moment';\nimport _ from 'lodash';\n\nexport default function Reports() {\n    // const [salesData, setSalesData] = useState([]);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        (async () => {\n            setLoading(true);\n\n            const { data } = await axios.get(GET_ALL_SALES);\n            const { sales_data, format_legalities } = data;\n\n            const groupByDay = _.groupBy(sales_data, d => moment(d.sale_data.timeStamp).startOf('day').format());\n\n            const dailySalesTotals = {};\n            const dailyAverageSales = {};\n            const rangeBuckets = {\n                0: 0, // $0.50 to $0.99\n                1: 0, // $1.00 to $4.99 \n                2: 0, // $5.00 to $9.99\n                3: 0, // $10.00 to $19.99\n                4: 0, // $20.00 to $49.99\n                5: 0, // $50.00 and above\n            };\n            const rarityCounts = {};\n\n            // Create daily sales totals\n            _.forOwn(groupByDay, (val, key) => {\n                dailySalesTotals[key] = val.reduce((acc, curr) => acc + curr.sale_data.total, 0);\n            });\n\n            // Create average sales totals\n            _.forOwn(groupByDay, (val, key) => {\n                dailyAverageSales[key] = val.reduce((acc, curr) => acc + curr.sale_data.total, 0) / val.length;\n            });\n\n            // Create range buckets for card prices\n            const cards = [];\n            sales_data.forEach(d => cards.push(...d.card_list));\n            cards.forEach(c => {\n                if (c.price >= 0.5 && c.price < 1) rangeBuckets[0] += c.qtyToSell;\n                if (c.price >= 1 && c.price < 5) rangeBuckets[1] += c.qtyToSell;\n                if (c.price >= 5 && c.price < 10) rangeBuckets[2] += c.qtyToSell;\n                if (c.price >= 10 && c.price < 20) rangeBuckets[3] += c.qtyToSell;\n                if (c.price >= 20 && c.price < 50) rangeBuckets[4] += c.qtyToSell;\n                if (c.price >= 50) rangeBuckets[5] += c.qtyToSell;\n            });\n\n            // Create rarity sales counts\n            cards.forEach(c => {\n                if (rarityCounts[c.rarity]) {\n                    rarityCounts[c.rarity] += c.qtyToSell\n                } else {\n                    rarityCounts[c.rarity] = c.qtyToSell;\n                }\n            });\n\n            // Create format legality data\n            const legalityCounts = { standard: 0, nonStandard: 0 };\n\n            format_legalities.forEach(c => {\n                const qtySold = c.qtyToSell;\n\n                if (!c.legalities) return; // Some cards may not link via mongo $lookup\n\n                if (c.legalities.standard === \"legal\") {\n                    legalityCounts.standard += qtySold;\n                } else {\n                    legalityCounts.nonStandard += qtySold;\n                }\n            });\n\n            // Format data for consumption by Highcharts API\n            const formattedDailySalesTotals = Object.entries(dailySalesTotals).map(el => [new Date(el[0]).getTime(), el[1]]);\n\n            const formattedDailyAverageSales = Object.entries(dailyAverageSales).map(el => [new Date(el[0]).getTime(), el[1]]);\n\n            const formattedRangeBuckets = Object.entries(rangeBuckets).map(d => d[1]);\n\n            const formattedRarityCounts = Object.entries(rarityCounts).map(d => ({ name: d[0], y: d[1] }));\n\n            const formattedLegalities = Object.entries(legalityCounts).map(d => ({ name: d[0], y: d[1] }));\n\n            setLoading(false);\n\n            Highcharts.setOptions({\n                lang: {\n                    thousandsSep: ','\n                }\n            });\n\n            Highcharts.chart('daily-sales', {\n                chart: {\n                    zoomType: 'x'\n                },\n                title: {\n                    text: 'Sales Over Time'\n                },\n                subtitle: {\n                    text: 'Click and drag to zoom'\n                },\n                credits: {\n                    enabled: false\n                },\n                xAxis: {\n                    type: 'datetime',\n                    title: {\n                        text: 'Date'\n                    }\n                },\n                yAxis: {\n                    title: {\n                        text: 'USD ($)'\n                    }\n                },\n                legend: {\n                    enabled: true\n                },\n                series: [{\n                    type: 'spline',\n                    data: formattedDailySalesTotals,\n                    name: 'Total Sales',\n                    tooltip: {\n                        valueDecimals: 2\n                    }\n                }, {\n                    type: 'spline',\n                    data: formattedDailyAverageSales,\n                    name: 'Average Sales',\n                    tooltip: {\n                        valueDecimals: 2\n                    }\n                }]\n            });\n\n            Highcharts.chart('price-buckets', {\n                chart: {\n                    type: 'bar'\n                },\n                title: {\n                    text: 'Cards Sold Per Price Range'\n                },\n                subtitle: {\n                    text: 'All-time'\n                },\n                yAxis: {\n                    min: 0,\n                    title: {\n                        text: 'Number sold'\n                    }\n                },\n                xAxis: {\n                    categories: [\n                        '$0.50 - $0.99',\n                        '$1.00 - $4.99',\n                        '$5.00 - $9.99',\n                        '$10.00 - $19.99',\n                        '$20.00 - $49.99',\n                        '$50.00 +'\n                    ]\n                },\n                plotOptions: {\n                    bar: {\n                        dataLabels: {\n                            enabled: true\n                        }\n                    }\n                },\n                legend: {\n                    enabled: false\n                },\n                credits: {\n                    enabled: false\n                },\n                series: [{\n                    name: \"Total cards\",\n                    data: formattedRangeBuckets\n                }]\n            });\n\n            Highcharts.chart('rarity-sales', {\n                chart: {\n                    plotBackgroundColor: null,\n                    plotBorderWidth: null,\n                    plotShadow: null,\n                    type: 'pie'\n                },\n                title: {\n                    text: 'Cards Sold Per Rarity'\n                },\n                subtitle: {\n                    text: 'All-time'\n                },\n                plotOptions: {\n                    pie: {\n                        dataLabels: {\n                            enabled: true,\n                            format: '<b>{point.name}</b><br>{point.percentage:.0f} %',\n                            distance: -50,\n                            filter: {\n                                property: 'percentage',\n                                operator: '>',\n                                value: 4\n                            }\n                        },\n                        colors: ['#7bb5ed', '#6798c8', '#4b769f', '#2d567c']\n                    }\n                },\n                legend: {\n                    enabled: false\n                },\n                credits: {\n                    enabled: false\n                },\n                series: [{\n                    name: \"Cards Sold\",\n                    data: formattedRarityCounts\n                }]\n            })\n\n            Highcharts.chart('format-legalities', {\n                chart: {\n                    plotBackgroundColor: null,\n                    plotBorderWidth: null,\n                    plotShadow: null,\n                    type: 'pie'\n                },\n                title: {\n                    text: 'Standard vs Non-Standard Sales'\n                },\n                subtitle: {\n                    text: 'All-time'\n                },\n                plotOptions: {\n                    pie: {\n                        dataLabels: {\n                            enabled: true,\n                            format: '<b>{point.name}</b><br>{point.percentage:.0f} %',\n                            distance: -50,\n                            filter: {\n                                property: 'percentage',\n                                operator: '>',\n                                value: 4\n                            }\n                        },\n                        colors: ['#7bb5ed', '#6798c8', '#4b769f', '#2d567c']\n                    }\n                },\n                legend: {\n                    enabled: false\n                },\n                credits: {\n                    enabled: false\n                },\n                series: [{\n                    name: \"Cards Sold\",\n                    data: formattedLegalities\n                }]\n            })\n        })();\n    }, []);\n\n    return (\n        <React.Fragment>\n            <Segment secondary>\n                <Icon name=\"exclamation triangle\" color=\"blue\" />\n                This feature is currently in beta. Metrics may not be entirely accurate. Please contact your development team if you have any feedback!\n            </Segment>\n            <Segment loading={loading}>\n                <div id=\"daily-sales\" style={{ width: \"100%\", height: \"400px\" }} />\n            </Segment>\n            <Grid columns={2} stackable={true}>\n                <Grid.Column>\n                    <Segment loading={loading}>\n                        <div id=\"price-buckets\" style={{ width: \"100%\", height: \"400px\" }} />\n                    </Segment>\n                </Grid.Column>\n                <Grid.Column>\n                    <Segment loading={loading}>\n                        <div id=\"rarity-sales\" style={{ width: \"100%\", height: \"400px\" }} />\n                    </Segment>\n                </Grid.Column>\n                <Grid.Column>\n                    <Segment loading={loading}>\n                        <div id=\"format-legalities\" style={{ width: \"100%\", height: \"400px\" }} />\n                    </Segment>\n                </Grid.Column>\n            </Grid>\n        </React.Fragment>\n    );\n}","import React from 'react';\nimport styled from 'styled-components';\n\nconst Text = styled.p`\n    font-size: 16px;\n    color: black;\n    text-align: left;\n`;\n\nconst Image = styled.img`\n    width: 100%;\n`;\n\nconst Content = styled.div`\n    padding: 2px 16px;\n`;\n\nconst Container = styled.div`\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\n    border-radius: 5px 5px 5px 5px;\n    width: 380px;\n    height: 700px;\n    margin: 10px 10px 10px 10px;\n    overflow: hidden; // This allows us to edit the borders on the card's border-flush images\n\n    @media (max-width: 800px) {\n        width: 320px;\n    }\n`;\n\nexport default function Card({ imageSrc, header, date, children }) {\n    return <Container>\n        <Image src={imageSrc} />\n        <Content>\n            <h3><b>{header}</b></h3>\n            <p><em>{date}</em></p>\n            <Text>{children}</Text>\n        </Content>\n    </Container>\n}","import React from 'react';\nimport styled from 'styled-components';\nimport { Icon, Label } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport Card from './Card';\nimport clubhouse_products from './clubhouse_products.png';\nimport ikoria_splash from './ikoria_splash.jpg';\nimport core_2021_draft_booster from './core_2021_draft_booster.png';\nimport core_2021_collector from './core_2021_collector.jpg';\n\nconst Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n`;\n\nconst BaseContent = styled.div`\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    margin-top: 52px;\n`;\n\nconst ContentContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    width: 1200px;\n\n    @media (max-width: 800px) {\n        width: 100%;\n        padding: 0px 10px 0px 10px;\n    }\n`;\n\nconst Image = styled.div`\n    background: url(${clubhouse_products});\n    background-size: cover;\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    height: 500px;\n    width: 100%;\n    z-index: -50;\n`;\n\nconst Image2 = styled.div`\n    background: url(${clubhouse_products});\n    background-size: cover;\n    position: absolute;\n    left: 0px;\n    height: 400px;\n    width: 100%;\n    z-index: -50;\n    opacity: 0.15;\n`;\n\nconst ImageMask = styled.div`\n    background-image: linear-gradient(to bottom, rgba(32, 106, 208, 1), rgba(32, 106, 208, 0.85), rgba(32, 106, 208, 0.66), rgba(255, 255, 255, 1));\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    height: 500px;\n    width: 100%;\n    z-index: -49;\n`;\n\nconst ImageMask2 = styled.div`\n    background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(255, 255, 255, 1));\n    position: absolute;\n    left: 0px;\n    height: 400px;\n    width: 100%;\n    z-index: -49;\n`;\n\nconst Divider = styled.div`\n    display: flex;\n    flex-direction: column;\n    min-height: 400px;\n`;\n\nconst FlexRow = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n`;\n\nconst FlexRowResponsive = styled(FlexRow)`\n    justify-content: flex-start;\n\n    @media (max-width: 800px) {\n        justify-content: center;\n        flex-wrap: wrap;\n    }\n`;\n\nconst SpanStyle = styled.span`\n    margin-right: 10px;\n`;\n\nconst FlexColumn = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n`;\n\nconst Slogan = styled.h1`\n    font-size: 83px;\n    color: white;\n\n    @media (max-width: 800px) {\n        font-size: 45px;\n        text-align: center;\n    }\n`;\n\nconst Header = styled.p`\n    font-size: 50px;\n    margin-top: 0px;\n    color: black;\n\n    @media (max-width: 800px) {\n        font-size: 27px;\n    }\n`;\n\nconst Subheader = styled.p`\n    font-size: 23px;\n    margin-top: 0px;\n    color: ${(props) => props.color || 'black'};\n\n    @media (max-width: 800px) {\n        font-size: 18px;\n        text-align: center;\n    }\n`;\n\nconst Button = styled.button`\n    outline: none;\n    width: 200px;\n    height: 45px;\n    background-color: rgb(33, 133, 208);\n    border-radius: 20px 20px 20px 20px;\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\n    cursor: pointer;\n    margin-right: 20px;\n    margin-top: 10px;\n    font-size: 17px;\n    color: white;\n    border: 0px;\n    \n    :hover {\n        background-color: rgb(35, 139, 219);\n        box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.4);\n    }\n`;\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(380px, max-content));\n    grid-gap: 10px;\n    justify-content: center;\n\n    @media (max-width: 800px) {\n        grid-template-columns: repeat(auto-fit, minmax(320px, max-content));\n    }\n`;\n\nconst IconStyled = styled(Icon)`\n    background-color: rgb(33, 133, 208);\n    color: white;\n`;\n\nconst FooterIcon = styled(Icon)`\n    color: white;\n`;\n\nconst BodyText = styled.p`\n    font-size: ${props => props.size || '16px'};\n    color: ${props => props.color || 'black'};\n    text-align: ${props => props.align === 'center' ? 'center' : 'left'};\n`;\n\nconst Spacer = styled.div`\n    width: 100%;\n    height: ${props => props.height || 0}px;\n`;\n\nconst FooterStyle = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    height: 50px;\n    background-color: darkslategray;\n    width: 100%;\n    bottom: 0;\n    padding: 0px 10px 0px 10px;\n`;\n\nconst SocialMedia = styled.div`\n    position: absolute;\n    top: 10px;\n    right: 10px;\n`;\n\nconst ServiceCard = ({ icon = \"users\", header = \"Header\", content = \"Content\", align }) => {\n    return <FlexColumn>\n        <IconStyled circular name={icon} size=\"huge\" />\n        <Subheader>{header}</Subheader>\n        <BodyText color=\"gray\" align={align}>\n            {content}\n        </BodyText>\n    </FlexColumn>\n}\n\nconst InfoCard = ({ icon = \"users\", header = \"Header\", content = \"Content\", align }) => {\n    return <FlexColumn>\n        <Icon name={icon} size=\"big\" />\n        <Subheader>{header}</Subheader>\n        <BodyText color=\"gray\" align={align}>\n            {content}\n        </BodyText>\n    </FlexColumn>\n}\n\nexport default function LandingPage() {\n    return <Wrapper>\n        <BaseContent>\n            <ContentContainer>\n                <SocialMedia>\n                    <div>\n                        <a href=\"https://discord.gg/Wpej7dQ\" target=\"_blank\" rel=\"noopener noreferrer\">\n                            <FooterIcon link name=\"discord\" size=\"big\" />\n                        </a>\n                        <a href=\"https://www.facebook.com/RGTClubhouse/\" target=\"_blank\" rel=\"noopener noreferrer\">\n                            <FooterIcon link name=\"facebook\" size=\"big\" />\n                        </a>\n                    </div>\n                </SocialMedia>\n                <Spacer height=\"30\" />\n                <Divider>\n                    <Slogan>The Clubhouse is open <span role=\"img\" aria-label=\"confetti\">🎉</span></Slogan>\n                    <Subheader color=\"white\">It's official! We are now open 7 days a week, from 2pm to 9pm. Play space is limited to 16 mask-wearing players.</Subheader>\n                    <FlexRowResponsive>\n                        {/* <Link to=\"/calendar\">\n                            <Button><b>Events calendar</b></Button>\n                        </Link> */}\n                        <Link to=\"/public-inventory\">\n                            <Button><b>Browse cards</b></Button>\n                        </Link>\n                    </FlexRowResponsive>\n                    <ImageMask />\n                    <Image />\n                </Divider>\n\n                <FlexRow>\n                    <Header>Latest News</Header>\n                </FlexRow>\n                <Spacer height=\"30\" />\n                <Grid>\n                    <Card imageSrc={core_2021_collector}\n                        header=\"Collector Booster preorders!\"\n                        date=\"06/02/2020\">\n                        <p>\n                            To compound the excitement, We JUST got numbers on Collector Boosters for Core 2021! We are now taking pre-orders for those as well! $229 per, limit 1 box per customer.\n                        </p>\n                    </Card>\n                    <Card imageSrc={core_2021_draft_booster}\n                        header=\"Core 2021 preorders!\"\n                        date=\"06/02/2020\">\n                        <p>\n                            It's already time. Core 2021 is upon us. We are now taking Booster Box pre-orders! $100 per box, 2 boxes per person limit. Pre-release sign ups will begin on June 19th!\n                        </p>\n                    </Card>\n                    <Card imageSrc={ikoria_splash}\n                        header=\"Big announcement!\"\n                        date=\"05/31/2020\">\n                        <p>\n                            The Clubhouse play space re-opens TOMORROW! We are open 7 days a week from 2pm to 9 pm! There will be a 16 person capacity enforced on seating. MASKS are REQUIRED for play or any customer service.\n                        </p>\n                        <p>\n                            This means EVENTS are returning in a limited capacity. Tuesday and Saturday are FREE PLAY Commander! A pack of Ikoria will be given to the first pod that starts play on each free play day. Wednesday we will have an Ikoria booster draft for $15! Then on Friday evening we will be holding a MYSTERY BOOSTER DRAFT for $35! Pack and a half of prize support per participant will be added to the prizes as well as free pizza, and giveaways during our Mystery Booster event!\n                        </p>\n                    </Card>\n                </Grid>\n\n                <Spacer height=\"30\" />\n\n                <Divider>\n                    <Spacer height=\"30\" />\n                    <FlexRow>\n                        <Header>Our Services</Header>\n                    </FlexRow>\n                    <FlexRow>\n                        <Subheader>We're here for all your CCG needs!</Subheader>\n                    </FlexRow>\n                    <Spacer height=\"30\" />\n                    <Grid>\n                        <ServiceCard\n                            icon=\"box\"\n                            header=\"Large product selection\"\n                            content=\"We stock an extensive selection of singles and CCG supplies just for you! When the deckbuilding itch strikes, turn to us\"\n                            align=\"center\"\n                        />\n                        <ServiceCard\n                            header=\"Inclusive community\"\n                            content=\"We pride ourselves on our friendly atmosphere. Young or seasoned, beginner or advanced, we welcome all players!\"\n                            align=\"center\"\n                        />\n                        <ServiceCard\n                            icon=\"dollar sign\"\n                            header=\"Cash or credit trade-ins\"\n                            content=\"Whether a whole collection or a single card, come on by and have one of our expert managers appraise it using competitive market rates\"\n                            align=\"center\"\n                        />\n                    </Grid>\n                    <ImageMask2 />\n                    <Image2 />\n                </Divider>\n                <Spacer height=\"30\" />\n                <Grid>\n                    <InfoCard\n                        icon=\"clock\"\n                        header=\"Hours\"\n                        content=\"2PM to 9PM daily\"\n                        align=\"center\"\n                    />\n                    <InfoCard\n                        icon=\"location arrow\"\n                        header=\"Location\"\n                        content=\"13895 SW Farmington Rd, Beaverton, OR 97005\"\n                        align=\"center\"\n                    />\n                    <InfoCard\n                        icon=\"phone\"\n                        header=\"Contact\"\n                        content=\"(503) 268-1449\"\n                    />\n                </Grid>\n                <Spacer height=\"30\" />\n            </ContentContainer>\n        </BaseContent>\n        <FooterStyle>\n            <SpanStyle>\n                <Link to=\"/login\" id=\"login-btn\">\n                    <Label as='a' color=\"black\">Staff login</Label>\n                </Link>\n            </SpanStyle>\n            <SpanStyle><BodyText size=\"12px\" color=\"white\">© 2020 The Clubhouse</BodyText></SpanStyle>\n            <SpanStyle><BodyText size=\"12px\" color=\"gray\">Powered by Scryfall</BodyText></SpanStyle>\n        </FooterStyle>\n    </Wrapper>\n}","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport Home from './ManageInventory/Home';\nimport Sale from './NewSale/Sale';\nimport BrowseSales from './BrowseSales/BrowseSales';\nimport PublicInventory from './PublicInventory/PublicInventory';\nimport DeckboxClone from './DeckboxClone/DeckboxClone';\nimport Login from './Login/Login';\nimport Logout from './Logout/Logout';\nimport Receiving from './Receiving/Receiving';\nimport Reports from './Reports/Reports'\nimport LandingPage from './LandingPage/LandingPage'\nimport styled from 'styled-components';\n\nconst ContentContainer = styled.div`\n    padding-top: 75px;\n    margin-left: 20px;\n    margin-right: 20px;\n`;\n\nexport default function Main() {\n    return <Switch>\n        <Route exact path=\"/\" component={LandingPage} />\n        <ContentContainer id=\"content-container\">\n            <Route exact path=\"/manage-inventory\" component={Home} />\n            <Route exact path=\"/new-sale\" component={Sale} />\n            <Route exact path=\"/browse-sales\" component={BrowseSales} />\n            <Route exact path=\"/browse-inventory\" component={DeckboxClone} />\n            <Route exact path=\"/public-inventory\" component={PublicInventory} />\n            <Route exact path=\"/receiving\" component={Receiving} />\n            <Route exact path=\"/reports\" component={Reports} />\n            <Route exact path=\"/login\" component={Login} />\n            <Route exact path=\"/logout\" component={Logout} />\n        </ContentContainer>\n    </Switch>\n}","import React, { useContext } from 'react';\nimport ballLogo from './logos/magic-ball.png'\nimport { Menu, Icon, Dropdown } from 'semantic-ui-react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthProvider';\n\nconst style = {\n    background: \"linear-gradient(#2185d0, #206ac6)\",\n    boxShadow: '0 3px 5px 0 rgba(0,0,0,.25)'\n}\n\nfunction Header(props) {\n    const { loggedIn } = useContext(AuthContext);\n    const { pathname } = props.location;\n\n    return <Menu inverted fixed=\"top\" style={style}>\n        <Menu.Item as={Link} replace to=\"/\">\n            <img src={ballLogo} style={{ marginRight: '7px' }} alt=\"logo\" />\n            <span><h3>Clubhouse Collection</h3></span>\n        </Menu.Item>\n        <Menu.Menu position=\"right\">\n            <Menu.Item active={pathname === '/public-inventory'} position=\"right\" as={Link} replace to=\"/public-inventory\">\n                Search\n            </Menu.Item>\n            {loggedIn && <Dropdown item icon=\"bars\">\n                <Dropdown.Menu>\n                    <Dropdown.Item active={pathname === '/manage-inventory'} as={Link} replace to=\"/manage-inventory\">\n                        <Icon name=\"plus\" color=\"blue\" />Manage Inventory\n                    </Dropdown.Item>\n                    <Dropdown.Item active={pathname === '/new-sale'} as={Link} replace to=\"/new-sale\" >\n                        <Icon name=\"dollar sign\" color=\"blue\" />New Sale\n                    </Dropdown.Item>\n                    <Dropdown.Item active={pathname === '/receiving'} as={Link} replace to=\"/receiving\" >\n                        <Icon name=\"list alternate outline\" color=\"blue\" />Receiving\n                    </Dropdown.Item>\n\n                    <Dropdown.Divider />\n\n                    <Dropdown.Item active={pathname === '/browse-inventory'} as={Link} replace to=\"/browse-inventory\" >\n                        <Icon name=\"box\" color=\"blue\" />Browse Inventory\n                    </Dropdown.Item>\n                    <Dropdown.Item active={pathname === '/browse-sales'} as={Link} replace to=\"/browse-sales\" >\n                        <Icon name=\"eye\" color=\"blue\" />Browse Sales\n                    </Dropdown.Item>\n                    <Dropdown.Item active={pathname === '/reports'} as={Link} replace to=\"/reports\" >\n                        <Icon name=\"chart bar\" color=\"blue\" />Reporting (Beta)\n                    </Dropdown.Item>\n\n                    <Dropdown.Divider />\n\n                    <Dropdown.Item active={pathname === '/logout'} as={Link} replace to=\"/logout\" >\n                        <Icon name=\"log out\" color=\"blue\" />Log out\n                    </Dropdown.Item>\n                </Dropdown.Menu>\n            </Dropdown>}\n        </Menu.Menu>\n    </Menu >\n}\n\nexport default withRouter(props => <Header {...props} />);\n","import React from 'react';\nimport Main from './Main';\nimport Header from './Header/Header';\nimport AuthProvider from './context/AuthProvider';\nimport { SaleProvider } from './context/SaleContext';\n\nclass App extends React.Component {\n    render() {\n        return (\n            <AuthProvider>\n                <Header />\n                <SaleProvider>\n                    <Main />\n                </SaleProvider>\n            </AuthProvider>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { HashRouter } from 'react-router-dom';\nimport 'semantic-ui-css/semantic.min.css';\n\nReactDOM.render(\n    <HashRouter basename='/'>\n        <App />\n    </HashRouter>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}