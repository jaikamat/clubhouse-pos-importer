{"version":3,"sources":["LandingPage/clubhouse_products.png","utils/api_resources.js","Header/logos/magic-ball.png","LandingPage/core_2021_draft_booster.png","LandingPage/core_2021_collector.jpg","LandingPage/double_masters.png","LandingPage/zen_meme.jpg","utils/makeAuthHeader.js","context/AuthProvider.js","Header/Header.js","common/SearchBar.js","common/QohLabels.js","utils/parseQoh.js","common/createToast.js","common/CardImage.js","common/MarketPrice.js","common/Language.js","utils/dropdownOptions.js","utils/checkCardFinish.js","ManageInventory/ScryfallCardListItem.js","ManageInventory/ScryfallCardList.js","utils/ScryfallCard.js","ManageInventory/Home.js","context/SaleContext.js","utils/sortSaleList.js","NewSale/BrowseCardItem.js","NewSale/BrowseCardList.js","common/Price.js","common/TooltipImage.js","NewSale/SaleLineItem.js","NewSale/SalePriceTotal.js","NewSale/FinishSale.js","NewSale/CustomerSaleList.js","NewSale/PrintList.js","NewSale/SuspendedSale.js","common/TotalCardsLabel.js","NewSale/Sale.js","BrowseSales/SalesListItem.js","BrowseSales/SalesList.js","BrowseSales/BrowseSales.js","PublicInventory/PublicCardItem.js","PublicInventory/PublicCardList.js","PublicInventory/PublicInventory.js","DeckboxClone/DeckboxCloneForm.js","DeckboxClone/DeckboxCloneRow.js","DeckboxClone/DeckboxClone.js","Login/Login.js","Logout/Logout.js","context/ReceivingContext.js","Receiving/ReceivingSearchItem.js","Receiving/ReceivingSearchList.js","Receiving/DefaultPlaceholder.js","Receiving/ReceivingListItem.js","Receiving/CashReport.js","Receiving/ReceivingListModal.js","Receiving/ReceivingListTotals.js","Receiving/printCashReport.js","Receiving/ReceivingList.js","Receiving/Receiving.js","Reports/Reports.js","LandingPage/Card.js","LandingPage/LandingPage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","REACT_APP_ENVIRONMENT","process","env","getPrefix","endpoints","FINISH_SALE","ADD_CARD_TO_INVENTORY","RECEIVE_CARDS","GET_CARDS_BY_FILTER","GET_SET_NAMES","SUSPEND_SALE","LOGIN","GET_SALES_BY_TITLE","GET_ALL_SALES","GET_CARDS_WITH_INFO","SCRYFALL_AUTOCOMPLETE","SCRYFALL_SEARCH","GET_LIVE_PRICE","makeAuthHeader","Authorization","localStorage","getItem","AuthContext","React","createContext","AuthProvider","props","useState","loggedIn","setLoggedIn","handleLogin","username","password","a","axios","post","toLowerCase","headers","data","token","setItem","authed","console","log","handleLogout","removeItem","Provider","value","children","style","background","boxShadow","Header","useContext","pathname","location","Menu","inverted","fixed","Item","as","Link","replace","to","src","ballLogo","marginRight","alt","position","active","Dropdown","item","icon","Icon","name","color","Divider","withRouter","SearchBar","isLoading","setIsLoading","results","setResults","handleResultSelect","e","result","setTimeout","$","select","handleSearchSelect","title","Search","onSearchChange","_","debounce","length","get","formattedResults","map","el","slice","leading","trailing","onResultSelect","loading","placeholder","selectFirstResult","id","onFocus","target","onBlur","showInventory","inventoryQty","matchStrings","Object","entries","k","v","includes","finishCondition","labelMap","FOIL_NM","FOIL_LP","FOIL_MP","FOIL_HP","NONFOIL_NM","NONFOIL_LP","NONFOIL_MP","NONFOIL_HP","prettyLabel","QohLabels","foilQty","nonfoilQty","parseQoh","foilColor","nonfoilColor","Popup","content","trigger","Label","image","className","Detail","ToastContainer","styled","Message","createToast","header","message","duration","toaster","notify","compact","zIndex","transition","CardImage","state","hovered","mouseOver","setState","mouseOut","this","image_uris","card_faces","hover","Image","size","transform","onMouseOver","onMouseOut","normal","Component","LabelStyle","foil","displayPrice","price","toFixed","MarketPrice","finish","round","showMid","market","setMarket","median","setMedian","setLoading","isFoil","useEffect","_isMounted","params","scryfallId","marketPrices","medianPrices","Number","num","loader","Math","ceil","LANG_CODES","en","es","fr","de","it","pt","ja","ko","ru","zhs","zht","he","la","grc","ar","sa","px","Language","languageCode","finishes","key","text","cardConditions","checkCardFinish","nonfoil","selectedFinish","finishDisabled","ScryfallCardListItem","qoh","set_name","set","rarity","cardImage","lang","setSelectedFinish","setInventoryQty","onSubmit","quantity","selectedCondition","resetForm","parseInt","cardInfo","focus","Segment","Group","divided","Content","fontSize","String","toUpperCase","Description","initialValues","validate","errors","isInteger","initialErrors","values","handleSubmit","setFieldValue","isSubmitting","isValid","Form","Field","control","Input","type","label","onChange","Select","options","disabled","Button","primary","onClick","ScryfallCardList","cards","card","InventoryCard","_qoh","qtyToSell","quantities","printed_name","colors","type_line","frame_effects","border_color","display_name","_createDisplayName","_getCardImage","color_identity","myImage","Home","searchResults","setSearchResults","term","matchInStock","modeledData","c","Fragment","SaleContext","SaleProvider","saleListCards","setSaleListCards","_id","notes","list","suspendedSale","setSuspendedSale","restoreSale","response","suspendSale","customerName","delete","saleList","resetSaleState","ops","deleteSuspendedSale","finalizeSale","saleID","sale_data","Sale","addToSaleList","newCard","oldState","modeledCard","idx","findIndex","splice","push","sortedCards","ORDER","helpSort","arrayConst","colorsLength","cardFace","sort","b","localeCompare","indexOf","sortSaleList","removeFromSaleList","newState","reject","createConditionOptions","removeZeroedQuantites","pickBy","p","d","conditionFinish","qty","split","join","createInitialSelectedFinish","keysMapped","keys","uniq","BrowseCardItem","selectedFinishCondition","setSelectedFinishCondition","selectedFinishConditionQty","setSelectedFinishConditionQty","quantityToSell","setQuantityToSell","setPrice","conditionOptions","setConditionOptions","selection","numVal","isNaN","step","BrowseCardList","Price","TooltipImage","image_uri","posX","left","width","height","borderRadius","BoldHelp","SaleLineItem","setHovered","mouseInside","setMouseInside","mousePos","setMousePos","Table","Row","Cell","onMouseEnter","rect","getBoundingClientRect","X","clientX","x","onMouseMove","onMouseLeave","singleLine","circular","SalePriceTotal","total","reduce","acc","val","FinishSale","submit","setSubmit","showModal","setShowModal","handleFinalizeSale","modalTrigger","floated","Modal","basic","open","Actions","CustomerSaleList","Body","clearing","sub","PrintList","printClicked","print","window","display","float","div","ClearMargin","CharLimit","SuspendedSale","saleListLength","sales","setSales","setSaleID","modalOpen","setModalOpen","setCustomerName","setNotes","setDisabled","suspendBtn","restoreBtn","deleteBtn","loadingBtn","setLoadingBtn","getSales","clearFields","submitSuspendSale","submitRestoreSale","submitDeleteSale","Grid","columns","stackable","relaxed","Column","substring","TextArea","fluid","s","info","TotalCardsLabel","listLength","displayStr","findSaleCardsQty","curr","searchTerm","setSearchTerm","alignItems","SalesListItem","saleData","quantitySold","cardList","pre","moment","createTime","format","SalesList","celled","unstackable","HeaderCell","card_list","BrowseSales","salesList","cardName","Wrapper","InventoryWrapper","InventoryRow","ImageWrapper","PublicCardItem","qohParsed","displayFoil","displayNonfoil","gridStyle","flexWrap","alignContent","PublicCardList","initialState","PublicInventory","Subheader","formatDropdownOptions","priceFilterDropdownOptions","finishDropdownOptions","sortByDropdownOptions","sortByDirectionDropdownOptions","sortByColorDropdownOptions","colorSpecificityDropdownOptions","typeLineOptions","frameOptions","setName","priceNum","priceFilter","sortBy","colorsArray","sortByDirection","colorSpecificity","typeLine","setNames","frame","DeckboxCloneForm","editionDropdownOptions","handleSearchBlur","handleChange","handleDropdownChange","setNameOptions","concatWithBlankOption","concat","widths","search","multiple","defaultValue","labelPosition","conditionMap","NM","LP","MP","HP","DeckboxCloneRow","mouseX","mouseY","mouseEnter","offsetLeft","clientY","offsetTop","mouseLeave","mouseMove","inventory","condition","cursor","DeckboxClone","count","currentPage","numPages","pageArray","cachedFilters","showPages","searchTouched","fetchData","filters","page","pages","range","handlePage","showLeftPageButtons","showRightPageButtons","Container","Dimmer","marginTop","Loader","secondary","striped","colSpan","Footer","LoginContainer","FormContainer","Login","handleInputChange","login","raised","Logout","TRADE_TYPES","CASH","CREDIT","LineItem","cardProps","cashPrice","marketPrice","creditPrice","uuid_key","uuid","tradeType","ReceivingContext","ReceivingProvider","receivingList","setReceivingList","commitToInventory","cardsToCommit","addToList","times","removeFromList","copiedState","remove","activeTradeType","previousState","find","selectAll","selectType","forEach","arr","selectedPrice","resetSearchResults","ReceivingSearchItem","setQuantity","setCashPrice","setCreditPrice","setSelectedCondition","setMarketPrice","handlePriceChange","handleFocus","validateQty","validateTradeTypes","submitDisabled","ReceivingCardList","DefaultPlaceholder","TRADE_TYPE","ReceivingListItem","whiteSpace","CashReport","countByPriceAndID","closeCashModal","chain","filter","temp_uuid","groupBy","mapValues","mergedWithQty","uniqBy","tradeQty","totalCashOut","sumBy","ReceivingListModal","cashTotal","creditTotal","submitToInventory","closeOnDimmerClick","onClose","FlexRow","FlexCol","StatisticColor","Statistic","ReceivingListTotals","showCashModal","setShowCashModal","Or","divToPrint","document","getElementById","popup","write","innerHTML","close","printCashReport","Value","ReceivingList","Receiving","Reports","sales_data","format_legalities","groupByDay","timeStamp","startOf","dailySalesTotals","dailyAverageSales","rangeBuckets","0","1","2","3","4","5","rarityCounts","forOwn","legalityCounts","standard","nonStandard","qtySold","legalities","formattedDailySalesTotals","Date","getTime","formattedDailyAverageSales","formattedRangeBuckets","formattedRarityCounts","y","formattedLegalities","Highcharts","setOptions","thousandsSep","chart","zoomType","subtitle","credits","enabled","xAxis","yAxis","legend","series","tooltip","valueDecimals","min","categories","plotOptions","bar","dataLabels","plotBackgroundColor","plotBorderWidth","plotShadow","pie","distance","property","operator","Text","img","Card","imageSrc","date","BaseContent","ContentContainer","clubhouse_products","Image2","ImageMask","ImageMask2","FlexRowResponsive","SpanStyle","span","FlexColumn","Slogan","h1","button","IconStyled","FooterIcon","BodyText","align","Spacer","FooterStyle","SocialMedia","ServiceCard","InfoCard","LandingPage","href","rel","link","role","aria-label","zen_meme","double_masters","core_2021_collector","core_2021_draft_booster","BackgroundColor","App","exact","path","component","Boolean","hostname","match","ReactDOM","render","basename","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.93c214d6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/clubhouse_products.2a94c562.png\";","// Maps all GCF and Scryfall API endpoints for code re-use\nconst { REACT_APP_ENVIRONMENT } = process.env;\n\n/**\n * Check the environment for dev - if dev, we reach out\n * to all endpoints appended by `_test` instead of production\n */\nconst env = REACT_APP_ENVIRONMENT === 'development' ? '_test' : '';\n\n/**\n * Asserts the development env and returns the proper path prefix for resources\n */\nconst getPrefix = () => {\n    return REACT_APP_ENVIRONMENT === 'development'\n        ? 'http://localhost:7331'\n        : 'https://clubhouse-collection.appspot.com';\n};\n\nconst endpoints = {\n    FINISH_SALE: `${getPrefix()}/auth/finishSale`,\n    ADD_CARD_TO_INVENTORY: `${getPrefix()}/auth/addCardToInventory`,\n    RECEIVE_CARDS: `${getPrefix()}/auth/receiveCards`,\n    GET_CARDS_BY_FILTER: `${getPrefix()}/getCardsByFilter`,\n    GET_SET_NAMES: `${getPrefix()}/getDistinctSetNames`,\n    SUSPEND_SALE: `${getPrefix()}/auth/suspendSale`,\n    LOGIN: `${getPrefix()}/jwt`,\n    GET_SALES_BY_TITLE: `${getPrefix()}/auth/getSaleByTitle`,\n    GET_ALL_SALES: `${getPrefix()}/auth/allSales`,\n    GET_CARDS_WITH_INFO: `${getPrefix()}/getCardsWithInfo`,\n    SCRYFALL_AUTOCOMPLETE: 'https://api.scryfall.com/cards/autocomplete',\n    SCRYFALL_SEARCH: 'https://api.scryfall.com/cards/search',\n    GET_LIVE_PRICE: `https://us-central1-clubhouse-collection.cloudfunctions.net/getPriceFromTcg${env}`,\n};\n\nmodule.exports = endpoints;\n","module.exports = __webpack_public_path__ + \"static/media/magic-ball.c3fcddd6.png\";","module.exports = __webpack_public_path__ + \"static/media/core_2021_draft_booster.dcb6da2f.png\";","module.exports = __webpack_public_path__ + \"static/media/core_2021_collector.36289244.jpg\";","module.exports = __webpack_public_path__ + \"static/media/double_masters.26445b43.png\";","module.exports = __webpack_public_path__ + \"static/media/zen_meme.ac3a27fa.jpg\";","/**\n * This function is a helper for Axios, it yields an object for Axios params\n */\nexport default function makeAuthHeader() {\n    const header = { Authorization: `Bearer ${localStorage.getItem('clubhouse_JWT')}` };\n    return header;\n}","import React, { useState } from 'react';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport { LOGIN } from '../utils/api_resources';\nimport axios from 'axios';\n\nexport const AuthContext = React.createContext();\n\nexport default function AuthProvider(props) {\n    const [loggedIn, setLoggedIn] = useState(!!localStorage.getItem('clubhouse_JWT'));\n\n    const handleLogin = async (username, password) => {\n        try {\n            const { data } = await axios.post(LOGIN, {\n                username: username.toLowerCase(),\n                password: password\n            }, { headers: makeAuthHeader() });\n\n            if (data.token) {\n                localStorage.setItem('clubhouse_JWT', data.token);\n                setLoggedIn(!!localStorage.getItem('clubhouse_JWT'))\n\n                return { authed: true };\n            } else {\n                return { authed: false };\n            }\n        } catch (err) {\n            console.log(err);\n        }\n    }\n\n    const handleLogout = async () => {\n        try {\n            localStorage.removeItem('clubhouse_JWT');\n            setLoggedIn(!!localStorage.getItem('clubhouse_JWT'));\n\n            return { authed: false };\n        } catch (err) {\n            console.log(err);\n        }\n    }\n\n    return <AuthContext.Provider value={{ loggedIn, handleLogin, handleLogout }}>\n        {props.children}\n    </AuthContext.Provider>\n}\n","import React, { useContext } from 'react';\nimport ballLogo from './logos/magic-ball.png'\nimport { Menu, Icon, Dropdown } from 'semantic-ui-react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthProvider';\n\nconst style = {\n    background: \"linear-gradient(#2185d0, #206ac6)\",\n    boxShadow: '0 3px 5px 0 rgba(0,0,0,.25)'\n}\n\nfunction Header(props) {\n    const { loggedIn } = useContext(AuthContext);\n    const { pathname } = props.location;\n\n    return <Menu inverted fixed=\"top\" style={style}>\n        <Menu.Item as={Link} replace to=\"/\">\n            <img src={ballLogo} style={{ marginRight: '7px' }} alt=\"logo\" />\n            <span><h3>Clubhouse Collection</h3></span>\n        </Menu.Item>\n        <Menu.Menu position=\"right\">\n            <Menu.Item active={pathname === '/public-inventory'} position=\"right\" as={Link} replace to=\"/public-inventory\">\n                Search\n            </Menu.Item>\n            {loggedIn && <Dropdown item icon=\"bars\">\n                <Dropdown.Menu>\n                    <Dropdown.Item active={pathname === '/manage-inventory'} as={Link} replace to=\"/manage-inventory\">\n                        <Icon name=\"plus\" color=\"blue\" />Manage Inventory\n                    </Dropdown.Item>\n                    <Dropdown.Item active={pathname === '/new-sale'} as={Link} replace to=\"/new-sale\" >\n                        <Icon name=\"dollar sign\" color=\"blue\" />New Sale\n                    </Dropdown.Item>\n                    <Dropdown.Item active={pathname === '/receiving'} as={Link} replace to=\"/receiving\" >\n                        <Icon name=\"list alternate outline\" color=\"blue\" />Receiving\n                    </Dropdown.Item>\n\n                    <Dropdown.Divider />\n\n                    <Dropdown.Item active={pathname === '/browse-inventory'} as={Link} replace to=\"/browse-inventory\" >\n                        <Icon name=\"box\" color=\"blue\" />Browse Inventory\n                    </Dropdown.Item>\n                    <Dropdown.Item active={pathname === '/browse-sales'} as={Link} replace to=\"/browse-sales\" >\n                        <Icon name=\"eye\" color=\"blue\" />Browse Sales\n                    </Dropdown.Item>\n                    <Dropdown.Item active={pathname === '/reports'} as={Link} replace to=\"/reports\" >\n                        <Icon name=\"chart bar\" color=\"blue\" />Reporting (Beta)\n                    </Dropdown.Item>\n\n                    <Dropdown.Divider />\n\n                    <Dropdown.Item active={pathname === '/logout'} as={Link} replace to=\"/logout\" >\n                        <Icon name=\"log out\" color=\"blue\" />Log out\n                    </Dropdown.Item>\n                </Dropdown.Menu>\n            </Dropdown>}\n        </Menu.Menu>\n    </Menu >\n}\n\nexport default withRouter(props => <Header {...props} />);\n","import React, { useState } from 'react';\nimport { Search } from 'semantic-ui-react';\nimport _ from 'lodash';\nimport axios from 'axios';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport { SCRYFALL_AUTOCOMPLETE } from '../utils/api_resources';\nimport $ from 'jquery';\n\nexport default function SearchBar(props) {\n    const [isLoading, setIsLoading] = useState(false);\n    const [results, setResults] = useState([]);\n\n    const handleSearchChange = (e, { value }) => { // `value` is the search input string\n        if (value.length < 1) {\n            setIsLoading(false);\n            setResults([]);\n            return;\n        }\n\n        if (value.length < 3) return; // Don't search if only 2 letters in input\n\n        setIsLoading(true);\n\n        setTimeout(async () => {\n            const { data } = await axios.get(\n                `${SCRYFALL_AUTOCOMPLETE}?q=${value}`,\n                { headers: makeAuthHeader() }\n            );\n\n            const formattedResults = data.data.map(el => ({ title: el })).slice(0, 7);\n\n            setResults(formattedResults);\n            setIsLoading(false);\n        }, 100);\n    };\n\n    const handleResultSelect = async (e, { result }) => {\n        // This line is a hacky way to get around the fact that if we just select(), then\n        // when the user manually clicks the first (or any) result in the resultlist, it does not select,\n        // presumably because there is some collision between selecting the resultList element and focusing the input\n        setTimeout(() => $('#searchBar').select(), 10);\n        try {\n            setIsLoading(true);\n            await props.handleSearchSelect(result.title);\n            setIsLoading(false);\n        } catch (e) {\n            console.log(e);\n        }\n    };\n\n    return (\n        <Search\n            onSearchChange={_.debounce(handleSearchChange, 500, { leading: false, trailing: true })}\n            onResultSelect={handleResultSelect}\n            loading={isLoading}\n            results={results}\n            placeholder=\"Search for a card\"\n            selectFirstResult={true}\n            id=\"searchBar\"\n            onFocus={e => e.target.select()}\n            onBlur={props.onBlur} // Used to clear state in the Browse Inventory feature\n        />\n    );\n}\n","import React from 'react';\nimport { Label, Popup } from 'semantic-ui-react';\nimport parseQoh from '../utils/parseQoh';\n\n// This component parses the `qoh` object from mongo into something\n// more presentable\n\n// available entries:\n// {\n//     FOIL_NM: 0,\n//     FOIL_LP: 0,\n//     FOIL_MP: 0,\n//     FOIL_HP: 0,\n//     NONFOIL_NM: 0,\n//     NONFOIL_LP: 0,\n//     NONFOIL_MP: 0,\n//     NONFOIL_HP: 0\n// };\n\n/**\n * Maps a database label to a pretty display version of the label for display\n */\nconst prettyLabel = (finishCondition) => {\n    const labelMap = {\n        FOIL_NM: 'Foil (NM)',\n        FOIL_LP: 'Foil (LP)',\n        FOIL_MP: 'Foil (MP)',\n        FOIL_HP: 'Foil (HP)',\n        NONFOIL_NM: 'Nonfoil (NM)',\n        NONFOIL_LP: 'Nonfoil (LP)',\n        NONFOIL_MP: 'Nonfoil (MP)',\n        NONFOIL_HP: 'Nonfoil (HP)',\n    };\n\n    return labelMap[finishCondition] ? labelMap[finishCondition] : 'Not found';\n};\n\n/**\n * Takes in inventoryQty and a list of strings to match. If the strings are in the list,\n * they will render\n *\n * @param {object} inventoryQty\n * @param {object} matchStrings\n */\nconst showInventory = (inventoryQty, matchStrings) => {\n    return Object.entries(inventoryQty).map(([k, v]) => {\n        if (matchStrings.includes(k) && v > 0) {\n            return (\n                <p>\n                    {prettyLabel(k)}: {v}\n                </p>\n            );\n        }\n    });\n};\n\nexport default function QohLabels({ inventoryQty }) {\n    const [foilQty, nonfoilQty] = parseQoh(inventoryQty);\n\n    const foilColor = {};\n    if (foilQty > 0) {\n        foilColor.color = 'blue';\n    }\n\n    const nonfoilColor = {};\n    if (nonfoilQty > 0) {\n        nonfoilColor.color = 'blue';\n    }\n\n    return (\n        <>\n            <Popup\n                content={\n                    foilQty > 0\n                        ? showInventory(inventoryQty, [\n                              'FOIL_NM',\n                              'FOIL_LP',\n                              'FOIL_MP',\n                              'FOIL_HP',\n                          ])\n                        : 'None in stock'\n                }\n                trigger={\n                    <Label {...foilColor} image className=\"foil-label\">\n                        Foil\n                        <Label.Detail className=\"foil-label-qty\">\n                            {foilQty}\n                        </Label.Detail>\n                    </Label>\n                }\n            />\n            <Popup\n                content={\n                    nonfoilQty > 0\n                        ? showInventory(inventoryQty, [\n                              'NONFOIL_NM',\n                              'NONFOIL_LP',\n                              'NONFOIL_MP',\n                              'NONFOIL_HP',\n                          ])\n                        : 'None in stock'\n                }\n                trigger={\n                    <Label {...nonfoilColor} image className=\"nonfoil-label\">\n                        Nonfoil\n                        <Label.Detail className=\"nonfoil-label-qty\">\n                            {nonfoilQty}\n                        </Label.Detail>\n                    </Label>\n                }\n            />\n        </>\n    );\n}\n","// This function parses the `qoh` object from mongo into something more presentable\n\n// available entries:\n// {\n//     FOIL_NM: 0,\n//     FOIL_LP: 0,\n//     FOIL_MP: 0,\n//     FOIL_HP: 0,\n//     NONFOIL_NM: 0,\n//     NONFOIL_LP: 0,\n//     NONFOIL_MP: 0,\n//     NONFOIL_HP: 0\n// };\n\nexport default function parseQoh(inventoryQty) {\n    let foilQty = 0;\n    let nonfoilQty = 0;\n\n    if (inventoryQty) { // Check to see if props exist\n        foilQty =\n            (inventoryQty.FOIL_NM || 0) +\n            (inventoryQty.FOIL_LP || 0) +\n            (inventoryQty.FOIL_MP || 0) +\n            (inventoryQty.FOIL_HP || 0);\n\n        nonfoilQty =\n            (inventoryQty.NONFOIL_NM || 0) +\n            (inventoryQty.NONFOIL_LP || 0) +\n            (inventoryQty.NONFOIL_MP || 0) +\n            (inventoryQty.NONFOIL_HP || 0);\n    }\n\n    return [foilQty, nonfoilQty];\n}","import React from 'react';\nimport { Message } from 'semantic-ui-react';\nimport toaster from 'toasted-notes';\nimport styled from 'styled-components';\n\nconst ToastContainer = styled(Message)`\n    position: relative;\n    right: 10px;\n    bottom: 10px;\n`;\n\nconst createToast = ({ color, header, message, duration = 2000 }) => {\n    return toaster.notify(\n        () => (\n            <ToastContainer color={color} compact>\n                <Message.Header>{header}</Message.Header>\n                {message}\n            </ToastContainer>\n        ),\n        {\n            position: 'bottom-right',\n            duration: duration\n        }\n    );\n}\n\nexport default createToast;","import React from 'react';\nimport { Image } from 'semantic-ui-react';\n\nconst style = {\n    boxShadow: '2px 2px 5px 0 rgba(0,0,0,.25)',\n    zIndex: '10',\n    transition: 'all .2s ease-in-out'\n}\n\nclass CardImage extends React.Component {\n    state = { hovered: false };\n\n    mouseOver = () => { this.setState({ hovered: true }) };\n\n    mouseOut = () => { this.setState({ hovered: false }) };\n\n    render() {\n        const { image_uris, card_faces, image, hover = true } = this.props // default prop `hover` must be true\n\n        if (image) {\n            return <Image\n                src={image}\n                size=\"tiny\"\n                style={{ ...style, transform: `${this.state.hovered ? 'scale(1.75)' : 'scale(1)'}` }}\n                onMouseOver={hover ? this.mouseOver : null}\n                onMouseOut={hover ? this.mouseOut : null}\n            />;\n        }\n\n        // TODO: This is obsolete logic that should be refactored out once all components ingest the ScryfallCard class,\n        // which manages the correct image URL itself\n        try {\n            // If normal prop `image_uris.normal` doesn't exist, move to catch block for flip card faces\n            return <Image\n                src={image_uris.normal}\n                size=\"tiny\"\n                style={{ ...style, transform: `${this.state.hovered ? 'scale(1.75)' : 'scale(1)'}` }}\n                onMouseOver={hover ? this.mouseOver : null}\n                onMouseOut={hover ? this.mouseOut : null}\n            />;\n        } catch (e) {\n            return <Image src={\n                card_faces[0].image_uris.normal}\n                size=\"tiny\"\n                style={{ ...style, transform: `${this.state.hovered ? 'scale(1.75)' : 'scale(1)'}` }}\n                onMouseOver={hover ? this.mouseOver : null}\n                onMouseOut={hover ? this.mouseOut : null}\n            />;\n        }\n    }\n};\n\nexport default CardImage;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { GET_LIVE_PRICE } from '../utils/api_resources';\nimport { Label, Icon } from 'semantic-ui-react';\nimport styled from 'styled-components';\n\nconst LabelStyle = styled(Label)`\n    background-color: ${(props) =>\n        !!props.foil ? '#ffcfdf' : null} !important;\n    background-image: ${(props) =>\n        !!props.foil\n            ? 'linear-gradient(90deg, #ffcfdf 0%, #b0f3f1 74%)'\n            : null} !important;\n`;\n\n// Rounds the passed number to the nearest fifty cents\nconst roundNearestStep = (num) => Math.ceil(num * 2) / 2;\n\nconst displayPrice = (price) => (!!price ? `$${price.toFixed(2)}` : 'N/A');\n\nexport default function MarketPrice({ id, finish, round, showMid = true }) {\n    const [market, setMarket] = useState(null);\n    const [median, setMedian] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const isFoil = finish === 'FOIL';\n\n    useEffect(() => {\n        (async function fetchData() {\n            let _isMounted = true;\n            setLoading(true);\n\n            const { data } = await axios.get(GET_LIVE_PRICE, {\n                params: { scryfallId: id },\n            });\n            const { marketPrices, medianPrices } = data;\n\n            if (_isMounted) {\n                if (isFoil) {\n                    setMarket(Number(marketPrices.foil));\n                    setMedian(Number(medianPrices.foil));\n                } else {\n                    setMarket(Number(marketPrices.normal));\n                    setMedian(Number(medianPrices.normal));\n                }\n\n                setLoading(false);\n            }\n\n            return () => (_isMounted = false);\n        })();\n    }, [id, finish]);\n\n    const loader = (\n        <span>\n            Loading <Icon loading name=\"spinner\" />\n        </span>\n    );\n\n    return (\n        <>\n            <LabelStyle foil={isFoil}>\n                {loading ? (\n                    loader\n                ) : (\n                    <span>\n                        Mkt.{' '}\n                        {round\n                            ? displayPrice(roundNearestStep(market))\n                            : displayPrice(market)}\n                    </span>\n                )}\n            </LabelStyle>\n            {showMid && (\n                <LabelStyle foil={isFoil}>\n                    {loading ? (\n                        loader\n                    ) : (\n                        <span>Mid. {displayPrice(median)}</span>\n                    )}\n                </LabelStyle>\n            )}\n        </>\n    );\n}\n","import React from 'react';\nimport { Label } from 'semantic-ui-react';\n\n// Language codes from Scryfall. See https://scryfall.com/docs/api/languages for reference.\nconst LANG_CODES = {\n    en: 'English',\n    es: 'Spanish',\n    fr: 'French',\n    de: 'German',\n    it: 'Italian',\n    pt: 'Portuguese',\n    ja: 'Japanese',\n    ko: 'Korean',\n    ru: 'Russian',\n    zhs: 'Simplified Chinese',\n    zht: 'Traditional Chinese',\n    he: 'Hebrew',\n    la: 'Latin',\n    grc: 'Ancient Greek',\n    ar: 'Arabic',\n    sa: 'Sanskrit',\n    px: 'Phyrexian'\n}\n\nexport default function Language({ languageCode }) {\n    return <Label image color=\"grey\">{LANG_CODES[languageCode]}</Label>\n}","export const finishes = [\n    { key: 'NONFOIL', text: 'Nonfoil', value: 'NONFOIL' },\n    { key: 'FOIL', text: 'Foil', value: 'FOIL' },\n];\n\nexport const cardConditions = [\n    { key: 'NM', text: 'Near Mint', value: 'NM' },\n    { key: 'LP', text: 'Light Play', value: 'LP' },\n    { key: 'MP', text: 'Moderate Play', value: 'MP' },\n    { key: 'HP', text: 'Heavy Play', value: 'HP' },\n];\n","/**\n * Seeds state from props. Used to determine if cards have only foil, nonfoil, or both printings\n * from their `foil` and `nonfoil` properties\n *\n * @param {Boolean} nonfoilProp\n * @param {Boolean} foilProp\n */\nexport default function checkCardFinish(nonfoil, foil) {\n    if (!nonfoil && foil) {\n        return { selectedFinish: 'FOIL', finishDisabled: true };\n    } else if (nonfoil && !foil) {\n        return { selectedFinish: 'NONFOIL', finishDisabled: true };\n    } else if (nonfoil && foil) {\n        return { selectedFinish: 'NONFOIL', finishDisabled: false };\n    }\n}\n","import React, { useState } from 'react';\nimport {\n    Segment,\n    Input,\n    Button,\n    Form,\n    Select,\n    Label,\n    Item,\n} from 'semantic-ui-react';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport { Formik } from 'formik';\nimport QohLabels from '../common/QohLabels';\nimport createToast from '../common/createToast';\nimport CardImage from '../common/CardImage';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport MarketPrice from '../common/MarketPrice';\nimport { ADD_CARD_TO_INVENTORY } from '../utils/api_resources';\nimport Language from '../common/Language';\nimport { finishes, cardConditions } from '../utils/dropdownOptions';\nimport checkCardFinish from '../utils/checkCardFinish';\n\nexport default function ScryfallCardListItem({\n    qoh,\n    foil,\n    nonfoil,\n    name,\n    set_name,\n    set,\n    rarity,\n    id,\n    cardImage,\n    lang,\n}) {\n    const [selectedFinish, setSelectedFinish] = useState(\n        checkCardFinish(nonfoil, foil).selectedFinish\n    );\n\n    const [inventoryQty, setInventoryQty] = useState(qoh);\n\n    const validate = ({ quantity }) => {\n        const errors = {};\n\n        if (\n            !Number(quantity) ||\n            !Number.isInteger(+quantity) ||\n            +quantity > 100\n        )\n            errors.quantity = 'error';\n\n        return errors;\n    };\n\n    const onSubmit = async (\n        { quantity, selectedFinish, selectedCondition },\n        { resetForm }\n    ) => {\n        try {\n            const { data } = await axios.post(\n                ADD_CARD_TO_INVENTORY,\n                {\n                    quantity: parseInt(quantity, 10),\n                    finishCondition: `${selectedFinish}_${selectedCondition}`,\n                    cardInfo: { id, name, set_name, set },\n                },\n                { headers: makeAuthHeader() }\n            );\n\n            // Imperatively reset the form using Formik actions\n            resetForm();\n\n            // Update the new quantity\n            setInventoryQty(data.qoh);\n\n            createToast({\n                color: 'green',\n                header: `${quantity}x ${name} ${\n                    quantity > 0 ? 'added' : 'removed'\n                }!`,\n                duration: 2000,\n            });\n\n            // Highlight the input after successful card add\n            $('#searchBar').focus().select();\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    return (\n        <Segment>\n            <Item.Group divided>\n                <Item>\n                    <Item.Image size=\"tiny\">\n                        <CardImage image={cardImage} />\n                    </Item.Image>\n                    <Item.Content>\n                        <Item.Header as=\"h3\">\n                            {name}{' '}\n                            <i\n                                className={`ss ss-fw ss-${set} ss-${rarity}`}\n                                style={{ fontSize: '30px' }}\n                            />\n                            <Label color=\"grey\">\n                                {set_name} ({String(set).toUpperCase()})\n                            </Label>\n                            <QohLabels inventoryQty={inventoryQty} />{' '}\n                            <MarketPrice id={id} finish={selectedFinish} />\n                            <Language languageCode={lang} />\n                        </Item.Header>\n                        <Item.Description>\n                            <Formik\n                                initialValues={{\n                                    selectedFinish: checkCardFinish(\n                                        nonfoil,\n                                        foil\n                                    ).selectedFinish,\n                                    selectedCondition: 'NM',\n                                    quantity: 0,\n                                }}\n                                validate={validate}\n                                onSubmit={onSubmit}\n                                initialErrors={{ quantity: 'error' }}\n                            >\n                                {({\n                                    values,\n                                    handleSubmit,\n                                    setFieldValue,\n                                    isSubmitting,\n                                    isValid,\n                                }) => (\n                                    <Form>\n                                        <Form.Group>\n                                            <Form.Field\n                                                control={Input}\n                                                type=\"number\"\n                                                label=\"Quantity\"\n                                                value={values.quantity}\n                                                onChange={(_, { value }) =>\n                                                    setFieldValue(\n                                                        'quantity',\n                                                        value\n                                                    )\n                                                }\n                                                onFocus={() => {\n                                                    if (\n                                                        +values.quantity === 0\n                                                    ) {\n                                                        setFieldValue(\n                                                            'quantity',\n                                                            ''\n                                                        );\n                                                    }\n                                                }}\n                                            />\n                                            <Form.Field\n                                                label=\"Finish\"\n                                                control={Select}\n                                                value={values.selectedFinish}\n                                                options={finishes}\n                                                disabled={\n                                                    checkCardFinish(\n                                                        nonfoil,\n                                                        foil\n                                                    ).finishDisabled\n                                                }\n                                                onChange={(_, { value }) => {\n                                                    setSelectedFinish(value);\n                                                    setFieldValue(\n                                                        'selectedFinish',\n                                                        value\n                                                    );\n                                                }}\n                                            />\n                                            <Form.Field\n                                                label=\"Condition\"\n                                                control={Select}\n                                                value={values.selectedCondition}\n                                                options={cardConditions}\n                                                onChange={(_, { value }) =>\n                                                    setFieldValue(\n                                                        'selectedCondition',\n                                                        value\n                                                    )\n                                                }\n                                            />\n                                            <Form.Button\n                                                label=\"Add to Inventory?\"\n                                                control={Button}\n                                                primary\n                                                disabled={\n                                                    !isValid || isSubmitting\n                                                }\n                                                onClick={handleSubmit}\n                                                loading={isSubmitting}\n                                            >\n                                                Submit\n                                            </Form.Button>\n                                        </Form.Group>\n                                    </Form>\n                                )}\n                            </Formik>\n                        </Item.Description>\n                    </Item.Content>\n                </Item>\n            </Item.Group>\n        </Segment>\n    );\n}\n","import React from 'react';\nimport ScryfallCardListItem from './ScryfallCardListItem';\n\nexport default function ScryfallCardList(props) {\n    return props.cards.map(card => {\n        return <ScryfallCardListItem\n            key={card.id}\n            {...card}\n            qoh={card.qoh}\n        />\n    });\n}\n","/**\n * This class wraps the Scryfall API request data and models it to something we can control.\n * Also acts as a safeguard for any future updates to Scryfall's API data model and makes\n * the code easier to maintain and debug.\n */\nexport class ScryfallCard {\n    // Computes the proper displayName for a card, depending on its properties\n    _createDisplayName() {\n        const { name, printed_name, frame_effects, border_color, lang } = this;\n\n        if (lang !== 'en') return `${name} (${lang.toUpperCase()})`;\n\n        if (name !== printed_name && printed_name) {\n            // Covers cards like Godzilla series\n            return `${name} (IP series)`;\n        } else if (\n            frame_effects.length === 0 &&\n            border_color === 'borderless'\n        ) {\n            // Covers cards like comic-art Vivien, Monsters' Advocate\n            return `${name} (Borderless)`;\n        } else if (frame_effects.includes('showcase')) {\n            // Covers showcase cards like comic-art Illuna, Apex of Wishes\n            return `${name} (Showcase)`;\n        } else if (frame_effects.includes('extendedart')) {\n            // Covers cards with extended left and roght border art\n            return `${name} (Extended art)`;\n        } else {\n            return name;\n        }\n    }\n\n    _getCardImage() {\n        let myImage;\n\n        try {\n            // If normal prop doesn't exist, move to catch block for flip card faces\n            myImage = this.image_uris.normal;\n        } catch (e) {\n            myImage = this.card_faces[0].image_uris.normal;\n        }\n\n        return myImage;\n    }\n\n    constructor(card) {\n        this.id = card.id;\n        this.name = card.name;\n        this.printed_name = card.printed_name || null;\n        this.set = card.set;\n        this.set_name = card.set_name;\n        this.rarity = card.rarity;\n        this.image_uris = card.image_uris || null;\n        this.card_faces = card.card_faces || null;\n        this.nonfoil = card.nonfoil;\n        this.foil = card.foil;\n        this.colors = card.colors;\n        this.type_line = card.type_line;\n        this.frame_effects = card.frame_effects || [];\n        this.lang = card.lang || '';\n        this.border_color = card.border_color;\n        this.display_name = this._createDisplayName();\n        this.cardImage = this._getCardImage();\n        this.color_identity = card.color_identity || null;\n    }\n}\n\n/**\n * Extends the Scryfall card object and adds properties we know exist in our database.\n * Models the data and makes writing cards to Mongo a more confident process.\n */\nexport class InventoryCard extends ScryfallCard {\n    constructor(card) {\n        super(card);\n        this._qoh = card.qoh ? card.qoh : {};\n        // `quantity` and `qtyToSell` are redundant transaction props, unify them down the line\n        this.quantity = card.quantity || null;\n        this.qtyToSell = card.qtyToSell || null;\n        this.finishCondition = card.finishCondition || null;\n        this.price = card.price >= 0 ? card.price : null;\n    }\n\n    get qohParsed() {\n        const foilQty =\n            (this._qoh.FOIL_NM || 0) +\n            (this._qoh.FOIL_LP || 0) +\n            (this._qoh.FOIL_MP || 0) +\n            (this._qoh.FOIL_HP || 0);\n\n        const nonfoilQty =\n            (this._qoh.NONFOIL_NM || 0) +\n            (this._qoh.NONFOIL_LP || 0) +\n            (this._qoh.NONFOIL_MP || 0) +\n            (this._qoh.NONFOIL_HP || 0);\n\n        return [foilQty, nonfoilQty];\n    }\n\n    get qoh() {\n        return this._qoh;\n    }\n\n    set qoh(quantities) {\n        this._qoh = quantities ? quantities : {};\n    }\n}\n","import React, { useState } from 'react';\nimport SearchBar from '../common/SearchBar';\nimport axios from 'axios';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport ScryfallCardList from './ScryfallCardList';\nimport { Segment, Header, Icon, Divider } from 'semantic-ui-react'\nimport { GET_CARDS_WITH_INFO } from '../utils/api_resources';\nimport { InventoryCard } from '../utils/ScryfallCard';\n\nexport default function Home() {\n    const [searchResults, setSearchResults] = useState([]);\n\n    const handleSearchSelect = async term => {\n        try {\n            const { data } = await axios.get(\n                GET_CARDS_WITH_INFO, {\n                params: { title: term, matchInStock: false },\n                headers: makeAuthHeader()\n            });\n\n            const modeledData = data.map(c => new InventoryCard(c));\n\n            setSearchResults(modeledData);\n        } catch (e) {\n            console.log(e);\n        }\n    };\n\n    return (\n        <React.Fragment>\n            <SearchBar handleSearchSelect={handleSearchSelect} />\n\n            <Header as=\"h2\">Manage Inventory</Header>\n            <Divider />\n\n            {!searchResults.length &&\n                <Segment placeholder>\n                    <Header icon>\n                        <Icon name=\"search\" />\n                        <em>\"Searching the future for answers often leads to further questions.\"</em>\n                    </Header>\n                </Segment>}\n\n            <ScryfallCardList cards={searchResults} />\n        </React.Fragment>\n    );\n}\n","import React, { useState, createContext } from 'react';\nimport axios from 'axios';\nimport _ from 'lodash';\nimport { SUSPEND_SALE, FINISH_SALE } from '../utils/api_resources';\nimport { InventoryCard } from '../utils/ScryfallCard';\nimport sortSaleList from '../utils/sortSaleList';\nimport createToast from '../common/createToast';\nimport makeAuthHeader from '../utils/makeAuthHeader';\n\nexport const SaleContext = createContext();\n\nexport const SaleProvider = (props) => {\n    const [saleListCards, setSaleListCards] = useState([]);\n    const [suspendedSale, setSuspendedSale] = useState({\n        _id: '',\n        name: '',\n        notes: '',\n        list: [],\n    });\n\n    /**\n     * Adds product to the sale list\n     */\n    const addToSaleList = (card, finishCondition, qtyToSell, price) => {\n        const newCard = { ...card, finishCondition, qtyToSell, price };\n        const oldState = [...saleListCards];\n        const modeledCard = new InventoryCard(newCard);\n\n        // Need to make sure same ID's with differing conditions are separate line-items\n        const idx = oldState.findIndex((el) => {\n            return (\n                el.id === newCard.id && el.finishCondition === finishCondition\n            );\n        });\n\n        if (idx !== -1) {\n            oldState.splice(idx, 1, modeledCard);\n        } else {\n            oldState.push(modeledCard);\n        }\n\n        // Sorting the saleList cards here, on add\n        const sortedCards = sortSaleList(oldState);\n\n        setSaleListCards(sortedCards);\n    };\n\n    /**\n     * Removes product from the sale list\n     */\n    const removeFromSaleList = (id, finishCondition) => {\n        const newState = _.reject([...saleListCards], (el) => {\n            return el.id === id && el.finishCondition === finishCondition;\n        });\n\n        setSaleListCards(newState);\n    };\n\n    /**\n     * Restores a sale (assigns a saleList to state) from a suspended sale from the db\n     */\n    const restoreSale = async (id) => {\n        try {\n            const { data } = await axios.get(`${SUSPEND_SALE}/${id}`, {\n                headers: makeAuthHeader(),\n            });\n            const modeledData = data.list.map((c) => new InventoryCard(c));\n\n            setSaleListCards(modeledData);\n            setSuspendedSale(data);\n\n            createToast({\n                color: 'green',\n                header: `You are viewing ${data.name}'s sale`,\n            });\n        } catch (e) {\n            console.log(e.response);\n            createToast({ color: 'red', header: `Error` });\n        }\n    };\n\n    /**\n     * Suspends a sale (persists it to mongo) via the SuspendedSale component and API\n     */\n    const suspendSale = async ({ customerName, notes }) => {\n        const { _id } = suspendedSale;\n\n        try {\n            if (!!_id)\n                await axios.delete(`${SUSPEND_SALE}/${_id}`, {\n                    headers: makeAuthHeader(),\n                }); // If we're suspended, delete the previous to replace\n\n            const { data } = await axios.post(\n                SUSPEND_SALE,\n                {\n                    customerName: customerName,\n                    notes: notes,\n                    saleList: saleListCards,\n                },\n                { headers: makeAuthHeader() }\n            );\n\n            resetSaleState();\n\n            createToast({\n                color: 'green',\n                header: `${data.ops[0].name}'s sale was suspended`,\n            });\n        } catch (e) {\n            console.log(e.response);\n            createToast({\n                color: 'red',\n                header: `Error`,\n                message: `${e.response.data}`,\n            });\n        }\n    };\n\n    const deleteSuspendedSale = async () => {\n        try {\n            const { _id, name } = suspendedSale;\n            await axios.delete(`${SUSPEND_SALE}/${_id}`, {\n                headers: makeAuthHeader(),\n            });\n\n            resetSaleState();\n\n            createToast({\n                color: 'green',\n                header: `${name}'s sale was deleted`,\n            });\n        } catch (e) {\n            console.log(e.response);\n            createToast({ color: 'red', header: `Error` });\n        }\n    };\n\n    /**\n     * Extracts the saleList state and uses it to complete sale\n     */\n    const finalizeSale = async () => {\n        const { _id } = suspendedSale;\n\n        try {\n            // Must delete currently suspended sale to faithfully restore inventory prior to sale\n            if (!!_id)\n                await axios.delete(`${SUSPEND_SALE}/${_id}`, {\n                    headers: makeAuthHeader(),\n                });\n\n            const { data } = await axios.post(\n                FINISH_SALE,\n                { cards: saleListCards },\n                { headers: makeAuthHeader() }\n            );\n\n            const saleID = data.sale_data.Sale.saleID;\n\n            createToast({\n                color: 'green',\n                header: 'Sale created in Lightspeed!',\n                message: `The id number is #${saleID}`,\n            });\n\n            resetSaleState();\n        } catch (e) {\n            createToast({\n                color: 'red',\n                header: 'Error',\n                message: `Sale was not created`,\n            });\n\n            resetSaleState();\n            console.log(e.response);\n        }\n    };\n\n    const resetSaleState = () => {\n        setSaleListCards([]);\n        setSuspendedSale({\n            _id: '',\n            name: '',\n            notes: '',\n            list: [],\n        });\n    };\n\n    return (\n        <SaleContext.Provider\n            value={{\n                saleListCards,\n                suspendedSale,\n                addToSaleList,\n                removeFromSaleList,\n                restoreSale,\n                suspendSale,\n                deleteSuspendedSale,\n                finalizeSale,\n                resetSaleState,\n            }}\n        >\n            {props.children}\n        </SaleContext.Provider>\n    );\n};\n","/**\n * Takes in an unordered group of cards and sorts them according to The Clubhouse's specs:\n * WUBRG, then multicolor, then colorless, then land, alphabetically within each color/category\n */\nexport default function sortSaleList(cards) {\n    const ORDER = ['W', 'U', 'B', 'R', 'G', 'MULTI', 'COLORLESS', 'LAND'];\n\n    /**\n     * Main helper function that manages sort order\n     * @param {Object} card\n     */\n    function helpSort(card) {\n        let arrayConst = null;\n\n        let colorsLength = null;\n        let cardFace = null;\n\n        try {\n            // If colors don't exist, it's a flip card or storybook frame\n            colorsLength = card.colors.length;\n            cardFace = card;\n        } catch (e) {\n            try {\n                // Storybook frames from Eldraine may throw error\n                colorsLength = card.card_faces[0].colors.length;\n                cardFace = card.card_faces[0];\n            } catch (e) {\n                colorsLength = card.colors.length;\n                cardFace = card;\n            }\n        }\n\n        // Apply logic to return correct constant enum\n        if (colorsLength === 0) {\n            arrayConst = 'COLORLESS';\n        } else if (colorsLength === 1) {\n            arrayConst = cardFace.colors[0];\n        } else if (colorsLength > 1) {\n            arrayConst = 'MULTI';\n        }\n\n        // Drill into colorless cards, if they are lands or not\n        if (arrayConst === 'COLORLESS') {\n            if (cardFace.color_identity) {\n                if (cardFace.color_identity.length === 1) {\n                    arrayConst = cardFace.color_identity[0];\n                }\n                if (cardFace.color_identity.length > 1) {\n                    arrayConst = 'MULTI';\n                }\n            }\n            if (cardFace.type_line.includes('Land')) {\n                arrayConst = 'LAND';\n            }\n        }\n\n        // Final check to guard against a null arrayConst\n        if (!arrayConst) {\n            arrayConst = 'LAND';\n        }\n\n        return arrayConst;\n    }\n\n    const alphaSort = cards.sort((a, b) => {\n        return a.name.localeCompare(b.name);\n    });\n\n    const sorted = alphaSort.sort((a, b) => {\n        return ORDER.indexOf(helpSort(a)) - ORDER.indexOf(helpSort(b));\n    });\n\n    return sorted;\n}\n","import React, { useState, useContext } from 'react';\nimport {\n    Segment,\n    Label,\n    Form,\n    Input,\n    Dropdown,\n    Button,\n    Item,\n} from 'semantic-ui-react';\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport CardImage from '../common/CardImage';\nimport MarketPrice from '../common/MarketPrice';\nimport QohLabels from '../common/QohLabels';\nimport Language from '../common/Language';\nimport { SaleContext } from '../context/SaleContext';\n\n/**\n * Creates a list of conditions for the dropdown menu from the `qoh`\n * Note: Is this not needed if we default select initially?\n * @param {Object} qoh\n * @param {String} id\n */\nfunction createConditionOptions(qoh, id) {\n    const removeZeroedQuantites = _.pickBy(qoh, (p) => p > 0); // Quantites of zero not included\n\n    return Object.entries(removeZeroedQuantites).map((d) => {\n        const [conditionFinish, qty] = d;\n\n        return {\n            text: `${conditionFinish.split('_').join(' | ')} | Qty: ${qty}`,\n            value: conditionFinish,\n            key: `${id}${conditionFinish}`,\n        };\n    });\n}\n\n/**\n * Creates initial selectedFinish value, used for the MarketPrice component\n * Returns FOIL or NONFOIL depending on what's in current inventory (qoh)\n * @param {Object} qoh\n */\nfunction createInitialSelectedFinish(qoh) {\n    const removeZeroedQuantites = _.pickBy(qoh, (p) => p > 0);\n    // Isolate only the FOIL or NONFOIL values with mapping\n    const keysMapped = _.keys(removeZeroedQuantites).map(\n        (k) => k.split('_')[0]\n    );\n    const uniqueValues = _.uniq(keysMapped);\n    return uniqueValues.indexOf('NONFOIL') > -1 ? 'NONFOIL' : 'FOIL';\n}\n\nexport default function BrowseCardItem(props) {\n    const [selectedFinishCondition, setSelectedFinishCondition] = useState('');\n    const [\n        selectedFinishConditionQty,\n        setSelectedFinishConditionQty,\n    ] = useState(0);\n    const [quantityToSell, setQuantityToSell] = useState(0);\n    const [price, setPrice] = useState(0);\n    const [selectedFinish, setSelectedFinish] = useState(\n        createInitialSelectedFinish(props.qoh)\n    );\n    const [conditionOptions, setConditionOptions] = useState(\n        createConditionOptions(props.qoh, props.id)\n    );\n    const { addToSaleList } = useContext(SaleContext);\n\n    const handleQuantityChange = (e, { value }) => {\n        if (value === '') {\n            setQuantityToSell('');\n            return;\n        }\n\n        let numVal = parseInt(value);\n\n        if (numVal > selectedFinishConditionQty)\n            numVal = selectedFinishConditionQty;\n\n        if (isNaN(numVal) || numVal < 0) numVal = 0;\n\n        setQuantityToSell(numVal);\n    };\n\n    const handleSelectedFinishCondition = (e, { value }) => {\n        setSelectedFinish(value.split('_')[0]);\n        setSelectedFinishCondition(value);\n        setSelectedFinishConditionQty(props.qoh[value]);\n        setQuantityToSell(0);\n    };\n\n    const handlePriceChange = (e, { value }) => {\n        if (value === '') {\n            setPrice('');\n            return;\n        }\n\n        let numVal = Number(value);\n\n        if (isNaN(numVal) || numVal < 0) {\n            numVal = 0;\n        }\n\n        setPrice(numVal);\n    };\n\n    const handleAddToSale = () => {\n        const { qoh, id } = props;\n\n        addToSaleList(\n            { ...props },\n            selectedFinishCondition,\n            quantityToSell,\n            price\n        );\n\n        // Reset state\n        setSelectedFinishCondition('');\n        setSelectedFinishConditionQty(0);\n        setQuantityToSell(0);\n        setPrice(0);\n        setConditionOptions(createConditionOptions(qoh, id));\n        setSelectedFinish(createInitialSelectedFinish(qoh));\n\n        // Highlight the input after successful card add\n        $('#searchBar').focus().select();\n    };\n\n    return (\n        <Segment>\n            <Item.Group divided>\n                <Item>\n                    <Item.Image size=\"tiny\">\n                        <CardImage\n                            image_uris={props.image_uris}\n                            card_faces={props.card_faces}\n                        />\n                    </Item.Image>\n                    <Item.Content>\n                        <Item.Header as=\"h3\">\n                            {props.name}{' '}\n                            <i\n                                className={`ss ss-fw ss-${props.set} ss-${props.rarity}`}\n                                style={{ fontSize: '30px' }}\n                            />\n                            <Label color=\"grey\">\n                                {props.set_name} (\n                                {String(props.set).toUpperCase()})\n                            </Label>\n                            <QohLabels inventoryQty={props.qoh} />{' '}\n                            <MarketPrice\n                                id={props.id}\n                                finish={selectedFinish}\n                                round\n                            />\n                            <Language languageCode={props.lang} />\n                        </Item.Header>\n                        <Item.Description>\n                            <Form>\n                                <Form.Group>\n                                    <Form.Field\n                                        className=\"finish-condition\"\n                                        control={Dropdown}\n                                        selection\n                                        placeholder=\"Select inventory\"\n                                        options={conditionOptions}\n                                        value={selectedFinishCondition}\n                                        label=\"Select finish/condition\"\n                                        onChange={handleSelectedFinishCondition}\n                                    />\n                                    <Form.Field\n                                        className=\"sale-qty\"\n                                        control={Input}\n                                        type=\"number\"\n                                        label=\"Quantity to sell\"\n                                        value={quantityToSell}\n                                        onChange={handleQuantityChange}\n                                        disabled={!selectedFinishConditionQty}\n                                        onFocus={(e) => e.target.select()}\n                                    />\n                                    <Form.Field\n                                        className=\"sale-price\"\n                                        control={Input}\n                                        type=\"number\"\n                                        label=\"Price\"\n                                        value={price}\n                                        onChange={handlePriceChange}\n                                        disabled={!selectedFinishConditionQty}\n                                        onFocus={(e) => e.target.select()}\n                                        step={0.5}\n                                    />\n                                    <Form.Button\n                                        className=\"add-to-sale\"\n                                        label=\"Add to sale?\"\n                                        control={Button}\n                                        primary\n                                        onClick={handleAddToSale}\n                                        disabled={!quantityToSell}\n                                    >\n                                        Sell\n                                    </Form.Button>\n                                </Form.Group>\n                            </Form>\n                        </Item.Description>\n                    </Item.Content>\n                </Item>\n            </Item.Group>\n        </Segment>\n    );\n}\n","import React from 'react';\nimport BrowseCardItem from './BrowseCardItem';\nimport { Segment, Header, Icon } from 'semantic-ui-react';\n\nexport default function BrowseCardList({ term, cards }) {\n    // Creates text to notify the user of zero-result searches\n    const searchNotification = () => {\n        if (term && !cards.length) { // Check to make sure the user has searched and no results\n            return <p>Zero results for <em>{term}</em></p>\n        }\n        return <p>Search for inventory to sell</p>\n    }\n\n    if (cards.length === 0) {\n        return <Segment placeholder>\n            <Header icon>\n                <Icon name=\"search\" />\n                <span>{searchNotification()}</span>\n            </Header>\n        </Segment>\n    }\n\n    return cards.map(card => {\n        return <BrowseCardItem\n            key={card.id}\n            {...card}\n            qoh={card.qoh}\n        />\n    });\n}\n","import React from 'react';\n\nconst Price = ({ num }) => {\n    const price = Number(num).toFixed(2);\n    if (isNaN(price)) return <span>$0.00</span>;\n    return <span>${price}</span>;\n};\n\nexport default Price;\n","import React from 'react';\nimport { Image } from 'semantic-ui-react';\n\nexport default function TooltipImage({ image_uri, posX = 0 }) {\n    return (\n        <div style={{ // We use the style prop over styled-components because it renders much faster!\n            position: 'absolute',\n            left: `${posX}px`,\n            width: '150px', // Width of the image when size=\"small\"\n            height: '209px', // Height of the image when size=\"small\"\n            borderRadius: '7px 7px 7px 7px',\n            boxShadow: '2px 2px 5px 0 rgba(0, 0, 0, 0.25)',\n            background: 'repeating-linear-gradient(45deg, #bfbfbf, #bfbfbf 10px, #b0b0b0 10px, #b0b0b0 20px)',\n            zIndex: '5000'\n        }}>\n            <Image\n                style={{ borderRadius: '7px 7px 7px 7px' }}\n                size=\"small\"\n                src={image_uri}\n            />\n        </div>\n    )\n}","import React, { useState, useContext } from 'react';\nimport { Button, Label, Table } from 'semantic-ui-react';\nimport styled from 'styled-components';\nimport { SaleContext } from '../context/SaleContext';\nimport Price from '../common/Price';\nimport TooltipImage from '../common/TooltipImage';\n\nconst BoldHelp = styled.b`\n    cursor: help;\n`;\n\nexport default function SaleLineItem({ display_name, set, finishCondition, qtyToSell, price, rarity, id, cardImage }) {\n    const [hovered, setHovered] = useState(false);\n    const [mouseInside, setMouseInside] = useState(false);\n    const [mousePos, setMousePos] = useState({});\n    const { removeFromSaleList } = useContext(SaleContext);\n\n    const mouseEnter = e => {\n        const rect = e.target.getBoundingClientRect();\n        const X = Math.round(e.clientX - rect.x) + 30;\n        setMouseInside(true);\n        setMousePos({ X });\n    }\n\n    const mouseMove = e => {\n        const rect = e.target.getBoundingClientRect();\n        const X = Math.round(e.clientX - rect.x) + 30;\n        setMousePos({ X });\n    }\n\n    const mouseLeave = e => setMouseInside(false);\n\n    return (\n        <Table.Row>\n            <Table.Cell><h4 className=\"line-item-title\">\n                <BoldHelp\n                    onMouseEnter={mouseEnter}\n                    onMouseMove={mouseMove}\n                    onMouseLeave={mouseLeave}\n                >\n                    {display_name}\n                    {mouseInside && <TooltipImage image_uri={cardImage} posX={mousePos.X} />}\n                </BoldHelp>\n            </h4></Table.Cell>\n            <Table.Cell singleLine>\n                <i\n                    className={`ss ss-fw ss-${set} ss-${rarity}`}\n                    style={{ fontSize: '20px' }}\n                />\n                <Label color=\"grey\">{set.toUpperCase()}</Label>\n            </Table.Cell>\n            <Table.Cell>\n                <div className=\"line-item-price\">\n                    {qtyToSell}x @ <Price num={price} /> | {finishCondition}\n                </div>\n            </Table.Cell>\n            <Table.Cell>\n                <Button\n                    icon=\"cancel\"\n                    circular\n                    onClick={() => removeFromSaleList(id, finishCondition)}\n                    onMouseOver={() => setHovered(true)}\n                    onMouseOut={() => setHovered(false)}\n                    color={hovered ? 'red' : null}\n                >\n                </Button>\n            </Table.Cell>\n        </Table.Row>\n    );\n}\n","import React from 'react';\nimport Price from '../common/Price';\n\nconst SalePriceTotal = ({ saleList }) => {\n    const total = saleList.length\n        ? saleList.reduce(\n            (acc, val) => acc + parseInt(val.qtyToSell) * Number(val.price),\n            0\n        )\n        : 0;\n\n    return <div id=\"sale-price-total\"><Price num={total} /></div>\n};\n\nexport default SalePriceTotal;\n","import React, { useState, useContext } from 'react';\nimport { Modal, Button, Header, Icon } from 'semantic-ui-react';\nimport { SaleContext } from '../context/SaleContext';\n\nexport default function FinishSale() {\n    const [submit, setSubmit] = useState({ loading: false, disabled: false });\n    const [showModal, setShowModal] = useState(false);\n    const { finalizeSale } = useContext(SaleContext);\n\n    const handleFinalizeSale = async () => {\n        setSubmit({ loading: true, disabled: true });\n        await finalizeSale();\n    }\n\n    const modalTrigger = <Button floated=\"right\" primary\n        onClick={() => setShowModal(true)}>\n        Finalize sale\n        </Button>\n\n    return <Modal\n        basic\n        open={showModal}\n        trigger={modalTrigger}>\n        <Modal.Content>\n            <Header inverted as=\"h2\">\n                Finalize this sale?\n             </Header>\n            <p>\n                Click 'Yes' to create a sale\n                in Lightspeed. Ensure that\n                you have all cards pulled and double-checked\n                the customer list. Undoing this action will require manual data entry!\n             </p>\n        </Modal.Content>\n        <Modal.Actions>\n            <Button\n                basic\n                color=\"red\"\n                inverted\n                onClick={() => setShowModal(false)}>\n                <Icon name=\"remove\" /> No\n             </Button>\n            <Button\n                color=\"green\"\n                inverted\n                onClick={handleFinalizeSale}\n                loading={submit.loading}\n                disabled={submit.disabled}>\n                <Icon name=\"checkmark\" /> Yes\n            </Button>\n        </Modal.Actions>\n    </Modal>\n}","import React from 'react';\nimport SaleLineItem from './SaleLineItem';\nimport { Table, Segment, Header, Icon } from 'semantic-ui-react';\nimport SalePriceTotal from './SalePriceTotal';\nimport FinishSale from './FinishSale';\n\nexport default function CustomerSaleList({ saleList }) {\n    if (saleList.length === 0) {\n        return <Segment placeholder>\n            <Header icon>\n                <Icon name=\"plus\" />\n                    View and manage customer sale list here\n            </Header>\n        </Segment>\n    }\n\n    return <React.Fragment>\n        <Table>\n            <Table.Body>\n                {saleList.map(card => {\n                    return <SaleLineItem\n                        {...card}\n                        key={`${card.id}${card.finishCondition}${card.qtyToSell}`}\n                    />\n                })}\n            </Table.Body>\n        </Table>\n\n        <Segment clearing>\n            <Header floated=\"left\">\n                <Header sub>Subtotal</Header>\n                <SalePriceTotal saleList={saleList} />\n            </Header>\n            <FinishSale />\n        </Segment>\n    </React.Fragment>\n};","import React from 'react';\nimport { Button, Icon } from 'semantic-ui-react';\nimport Price from '../common/Price';\nimport './PrintList.css';\nimport SalePriceTotal from './SalePriceTotal';\n\nconst Row = ({ id, display_name, qtyToSell, finishCondition, set_name, price }) => {\n    return <li key={id}>\n        <b>{display_name} | x{qtyToSell} | {finishCondition} | {set_name} | <Price num={price} /></b>\n    </li>\n}\n\nexport default class PrintList extends React.Component {\n    state = { printClicked: false }\n\n    print = () => {\n        this.setState({ printClicked: true }, () => {\n            window.print();\n            this.setState({ printClicked: false })\n        });\n    }\n\n    render() {\n        const { saleListCards } = this.props;\n        const { printClicked } = this.state;\n\n        if (saleListCards.length > 0) { // Ensure print is hidden if no cards in list\n            return (\n                <React.Fragment>\n                    <Button style={{ display: 'inline-block', float: 'right' }} onClick={this.print} icon>\n                        <Icon name=\"print\" />\n                    </Button>\n\n                    <div id=\"printme\" style={{ display: printClicked ? 'inline-block' : 'none' }}>\n                        <ul>{saleListCards.map(c => Row(c))}</ul>\n                        <span><b>Subtotal: <SalePriceTotal saleList={saleListCards} /></b></span>\n                    </div>\n                </React.Fragment >\n            )\n        } else {\n            return null;\n        }\n    }\n}","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { SUSPEND_SALE } from '../utils/api_resources';\nimport { Modal, Button, Grid, Form, Message } from 'semantic-ui-react';\nimport styled from 'styled-components';\nimport makeAuthHeader from '../utils/makeAuthHeader';\n\nconst Divider = styled.div`\n    border-left: 1px solid rgba(0, 0, 0, 0.2);\n    height: 100%;\n`;\n\nconst ClearMargin = styled.div`\n    margin-top: 0px;\n    margin-bottom: 0px;\n`;\n\nconst CharLimit = styled.p`\n    font-size: 12px;\n    color: rgba(0, 0, 0, 0.2);\n    float: right;\n`;\n\nexport default function SuspendedSale({\n    restoreSale,\n    deleteSuspendedSale,\n    saleListLength,\n    suspendSale,\n    id,\n}) {\n    const [sales, setSales] = useState([]);\n    const [saleID, setSaleID] = useState('');\n    const [modalOpen, setModalOpen] = useState(false);\n    const [customerName, setCustomerName] = useState('');\n    const [notes, setNotes] = useState('');\n    const [disabled, setDisabled] = useState(false);\n    const [loadingBtn, setLoadingBtn] = useState({\n        suspendBtn: false,\n        restoreBtn: false,\n        deleteBtn: false,\n    });\n\n    const getSales = async () => {\n        const { data } = await axios.get(SUSPEND_SALE, {\n            headers: makeAuthHeader(),\n        });\n        setSales(data);\n    };\n\n    const clearFields = () => {\n        setCustomerName('');\n        setNotes('');\n        setSaleID('');\n    };\n\n    // Get the previously suspended sales on mount and parent state (_id) change\n    useEffect(() => {\n        getSales();\n    }, [id]); // If the parent-level suspended-sale _id changes, we fetch again\n\n    const modalTrigger = (\n        <Button\n            id=\"suspend-sale-btn\"\n            style={{ display: 'inline-block', float: 'right' }}\n            onClick={() => setModalOpen(true)}\n            icon=\"ellipsis horizontal\"\n        />\n    );\n\n    const submitSuspendSale = async () => {\n        setDisabled(true);\n        setLoadingBtn({ suspendBtn: true });\n        await suspendSale({ customerName, notes });\n        setModalOpen(false); // Close the modal to avoid \"flicker\" when state re-renders\n        await getSales(); // Parent _id does not change, re-fetch sales\n        clearFields();\n        setDisabled(false);\n        setLoadingBtn({ suspendBtn: false });\n    };\n\n    const submitRestoreSale = async () => {\n        setDisabled(true);\n        setLoadingBtn({ restoreBtn: true });\n        await restoreSale(saleID);\n        setModalOpen(false);\n        clearFields();\n        setDisabled(false);\n        setLoadingBtn({ restoreBtn: false });\n    };\n\n    const submitDeleteSale = async () => {\n        setDisabled(true);\n        setLoadingBtn({ deleteBtn: true });\n        await deleteSuspendedSale();\n        setModalOpen(false);\n        clearFields();\n        setDisabled(false);\n        setLoadingBtn({ deleteBtn: false });\n    };\n\n    return (\n        <React.Fragment>\n            <Modal trigger={modalTrigger} open={modalOpen}>\n                <Modal.Header>Sales menu</Modal.Header>\n                <Modal.Content>\n                    <Grid columns={2} stackable relaxed=\"very\">\n                        {saleListLength > 0 && (\n                            <React.Fragment>\n                                <Grid.Column width=\"7\">\n                                    <h3>Suspend Sale</h3>\n                                    <Form>\n                                        <ClearMargin>\n                                            <Form.Input\n                                                id=\"suspend-sale-name\"\n                                                label=\"Customer Name\"\n                                                placeholder=\"Jace, the Mind Sculptor\"\n                                                value={customerName}\n                                                onChange={(e, { value }) =>\n                                                    setCustomerName(\n                                                        value.substring(0, 50)\n                                                    )\n                                                }\n                                            />\n                                        </ClearMargin>\n                                        <ClearMargin>\n                                            <CharLimit>\n                                                {customerName.length}/50\n                                            </CharLimit>\n                                        </ClearMargin>\n                                        <ClearMargin>\n                                            <Form.TextArea\n                                                label=\"Notes\"\n                                                placeholder=\"Sometimes, I forget things...\"\n                                                value={notes}\n                                                onChange={(e, { value }) =>\n                                                    setNotes(\n                                                        value.substring(0, 150)\n                                                    )\n                                                }\n                                            />\n                                        </ClearMargin>\n                                        <ClearMargin>\n                                            <CharLimit>\n                                                {notes.length}/150\n                                            </CharLimit>\n                                        </ClearMargin>\n                                        <Form.Button\n                                            id=\"suspend-sale-submit\"\n                                            primary\n                                            disabled={disabled || !customerName}\n                                            loading={loadingBtn.suspendBtn}\n                                            onClick={submitSuspendSale}\n                                        >\n                                            Suspend Sale\n                                        </Form.Button>\n                                    </Form>\n                                </Grid.Column>\n                                <Grid.Column width=\"1\">\n                                    <Divider />\n                                </Grid.Column>\n                            </React.Fragment>\n                        )}\n                        <Grid.Column width=\"7\">\n                            <h3>Restore Sale</h3>\n                            {sales.length > 0 && (\n                                <React.Fragment>\n                                    <Form>\n                                        <Form.Select\n                                            fluid\n                                            label=\"Previously suspended sales\"\n                                            options={sales.map((s) => {\n                                                return {\n                                                    key: s._id,\n                                                    text: s.name,\n                                                    value: s._id,\n                                                };\n                                            })}\n                                            placeholder=\"Select a sale\"\n                                            onChange={(e, { value }) =>\n                                                setSaleID(value)\n                                            }\n                                        />\n                                        <Form.Button\n                                            primary\n                                            disabled={disabled || !saleID}\n                                            loading={loadingBtn.restoreBtn}\n                                            onClick={submitRestoreSale}\n                                        >\n                                            Restore Sale\n                                        </Form.Button>\n                                    </Form>\n                                </React.Fragment>\n                            )}\n                            {sales.length === 0 && (\n                                <Message info>\n                                    <Message.Header>No sales</Message.Header>\n                                    Suspend a sale first\n                                </Message>\n                            )}\n                        </Grid.Column>\n                    </Grid>\n                </Modal.Content>\n                <Modal.Actions>\n                    {!!id && (\n                        <Button\n                            color=\"red\"\n                            disabled={disabled}\n                            loading={loadingBtn.deleteBtn}\n                            onClick={submitDeleteSale}\n                        >\n                            Delete current Sale\n                        </Button>\n                    )}\n                    <Button\n                        primary\n                        disabled={disabled}\n                        onClick={() => setModalOpen(false)}\n                    >\n                        Cancel\n                    </Button>\n                </Modal.Actions>\n            </Modal>\n        </React.Fragment>\n    );\n}\n","import React from 'react';\nimport { Label } from 'semantic-ui-react';\n\nexport default function TotalCardsLabel({ listLength }) {\n    const displayStr = listLength > 1 ? 'cards' : 'card';\n\n    if (listLength > 0) {\n        return <Label color='grey'>{listLength} {displayStr}</Label>\n    }\n\n    return null;\n}\n\n/**\n * Cards in the Sale List need to be looped and counted\n * Receiving's list is one per line, so it's more straightforward there\n *\n * @param {Array} saleListCards - The Sale List cards\n */\nexport function findSaleCardsQty(saleListCards) {\n    return saleListCards.reduce((acc, curr) => acc + curr.qtyToSell, 0);\n}","import React, { useState, useContext } from 'react';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport { Grid, Header, Divider } from 'semantic-ui-react';\nimport { GET_CARDS_WITH_INFO } from '../utils/api_resources';\nimport SearchBar from '../common/SearchBar';\nimport BrowseCardList from './BrowseCardList';\nimport CustomerSaleList from './CustomerSaleList';\nimport PrintList from './PrintList';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport SuspendedSale from './SuspendedSale';\nimport { InventoryCard } from '../utils/ScryfallCard';\nimport { SaleContext } from '../context/SaleContext';\nimport TotalCardsLabel, { findSaleCardsQty } from '../common/TotalCardsLabel';\n\nexport default function Sale() {\n    const {\n        saleListCards,\n        suspendedSale,\n        restoreSale,\n        deleteSuspendedSale,\n        suspendSale,\n        resetSaleState\n    } = useContext(SaleContext);\n\n    const [searchResults, setSearchResults] = useState([]);\n    const [searchTerm, setSearchTerm] = useState('');\n\n    const resetState = () => {\n        setSearchResults([]);\n        setSearchTerm('');\n        resetSaleState();\n    };\n\n    const handleResultSelect = async term => {\n        try {\n            const { data } = await axios.get(GET_CARDS_WITH_INFO, {\n                params: { title: term, matchInStock: true },\n                headers: makeAuthHeader()\n            });\n\n            const modeledData = data.map(c => new InventoryCard(c));\n\n            setSearchResults(modeledData);\n            setSearchTerm(term);\n\n            if (data.length === 0) { $('#searchBar').focus().select() }\n        } catch (e) {\n            console.log(e.response);\n        }\n    };\n\n    return (\n        <React.Fragment>\n            <Grid.Row style={{ display: 'flex', alignItems: 'center' }}>\n                <SearchBar handleSearchSelect={handleResultSelect} />\n            </Grid.Row>\n            <br />\n            <Grid stackable={true}>\n                <Grid.Row>\n                    <Grid.Column width=\"11\">\n                        <Header as=\"h2\" style={{ display: \"inline-block\" }}>Inventory</Header>\n\n                        <Divider />\n\n                        <BrowseCardList term={searchTerm} cards={searchResults} />\n\n                    </Grid.Column>\n                    <Grid.Column width=\"5\">\n                        <Header as=\"h2\" style={{ display: 'inline-block' }} id=\"sale-header\">\n                            {suspendedSale.name === '' ? 'Sale Items' : `${suspendedSale.name}'s Items`}\n                            <TotalCardsLabel listLength={findSaleCardsQty(saleListCards)} />\n                        </Header>\n\n                        <SuspendedSale\n                            restoreSale={restoreSale}\n                            suspendSale={suspendSale}\n                            saleListLength={saleListCards.length}\n                            deleteSuspendedSale={deleteSuspendedSale}\n                            id={suspendedSale._id}\n                        />\n\n                        <PrintList saleListCards={saleListCards} />\n\n                        <Divider />\n\n                        <CustomerSaleList saleList={saleListCards} />\n                    </Grid.Column>\n                </Grid.Row >\n            </Grid >\n        </React.Fragment >\n    );\n}\n","import React from 'react';\nimport { Table } from 'semantic-ui-react';\nimport moment from 'moment';\n\nconst SalesListItem = ({ saleData, cardList }) => {\n    const quantitySold = cardList.reduce(\n        (pre, curr) => pre + curr.qtyToSell,\n        0\n    );\n\n    return (\n        <Table.Row>\n            <Table.Cell>{saleData.saleID}</Table.Cell>\n            <Table.Cell>\n                {moment(saleData.createTime).format('MM/DD/YYYY - h:mm A')}\n            </Table.Cell>\n            <Table.Cell>{quantitySold}</Table.Cell>\n        </Table.Row>\n    );\n};\n\nexport default SalesListItem;\n","import React from 'react';\nimport SalesListItem from './SalesListItem';\nimport { Table } from 'semantic-ui-react';\n\nconst SalesList = ({ list }) => {\n    return (\n        <Table celled unstackable compact>\n            <Table.Header>\n                <Table.Row>\n                    <Table.HeaderCell>Sale ID</Table.HeaderCell>\n                    <Table.HeaderCell>Date of Sale</Table.HeaderCell>\n                    <Table.HeaderCell>Quantity Sold</Table.HeaderCell>\n                </Table.Row>\n            </Table.Header>\n\n            <Table.Body>\n                {list.map(({ sale_data, card_list, _id }) => (\n                    <SalesListItem\n                        saleData={sale_data}\n                        cardList={card_list}\n                        key={_id}\n                    />\n                ))}\n            </Table.Body>\n        </Table>\n    );\n};\n\nexport default SalesList;\n","import React, { Component } from 'react';\nimport SearchBar from '../common/SearchBar';\nimport SalesList from './SalesList';\nimport axios from 'axios';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport { GET_SALES_BY_TITLE } from '../utils/api_resources';\nimport { Header, Divider } from 'semantic-ui-react';\n\nclass BrowseSales extends Component {\n    state = { salesList: [], cardName: '' };\n\n    handleSearchSelect = async cardName => {\n        const { data } = await axios.get(GET_SALES_BY_TITLE, {\n            params: { cardName: cardName },\n            headers: makeAuthHeader()\n        });\n\n        this.setState({ salesList: data, cardName: cardName });\n    };\n\n    render() {\n        const { salesList, cardName } = this.state;\n\n        return (\n            <div>\n                <SearchBar handleSearchSelect={this.handleSearchSelect} />\n\n                <Header as=\"h2\">Browse Sales</Header>\n                <Divider />\n\n                <span>\n                    <em>\n                        {cardName !== '' && (\n                            <h4>\n                                {salesList.length} results for {cardName}\n                            </h4>\n                        )}\n                    </em>\n                </span>\n                <SalesList list={salesList} />\n            </div>\n        );\n    }\n}\n\nexport default BrowseSales;\n","import React from 'react';\nimport { Image, Label } from 'semantic-ui-react';\nimport MarketPrice from '../common/MarketPrice';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n    display: inline-block;\n    margin: 10px 10px 10px 10px;\n`;\n\nconst InventoryWrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    padding: 5px;\n    background-color: rgba(0, 0, 0, 0.9);\n    border-radius: 10px 10px 10px 10px;\n    box-shadow: 2px 2px 5px 0 rgba(0, 0, 0, 0.25);\n`;\n\nconst InventoryRow = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    margin: 5px;\n`;\n\nconst ImageWrapper = styled.div`\n    width: 300px;\n    height: 418.3px;\n    box-shadow: 2px 2px 5px 0 rgba(0, 0, 0, 0.25);\n    background: repeating-linear-gradient(\n        45deg,\n        #bfbfbf,\n        #bfbfbf 10px,\n        #b0b0b0 10px,\n        #b0b0b0 20px\n    );\n    border-radius: 15px;\n`;\n\nexport default function PublicCardItem({ card }) {\n    const { id, cardImage } = card;\n    const [foilQty, nonfoilQty] = card.qohParsed;\n\n    const displayFoil = (\n        <InventoryRow>\n            <Label color=\"blue\" image>\n                Foil<Label.Detail>{foilQty}</Label.Detail>\n            </Label>\n            <MarketPrice id={id} finish=\"FOIL\" round showMid={false} />\n        </InventoryRow>\n    );\n\n    const displayNonfoil = (\n        <InventoryRow>\n            <Label color=\"blue\" image>\n                Nonfoil<Label.Detail>{nonfoilQty}</Label.Detail>\n            </Label>\n            <MarketPrice id={id} round showMid={false} />\n        </InventoryRow>\n    );\n\n    return (\n        <React.Fragment>\n            <Wrapper>\n                <ImageWrapper>\n                    <Image\n                        src={cardImage}\n                        size=\"medium\"\n                        style={{ borderRadius: '15px' }}\n                    />\n                </ImageWrapper>\n                <InventoryWrapper>\n                    {foilQty > 0 ? displayFoil : null}\n                    {nonfoilQty > 0 ? displayNonfoil : null}\n                </InventoryWrapper>\n            </Wrapper>\n        </React.Fragment>\n    );\n}\n","import React from 'react';\nimport PublicCardItem from './PublicCardItem';\nimport { Grid } from 'semantic-ui-react';\n\nconst gridStyle = {\n    display: 'flex',\n    flexWrap: 'wrap',\n    alignContent: 'space-evenly',\n    height: '100%'\n};\n\nexport default function PublicCardList({ cards }) {\n    return <Grid style={gridStyle} >\n        {cards.map(c =>\n            <PublicCardItem\n                key={c.id}\n                card={c}\n            />\n        )}\n    </ Grid>\n}\n","import React from 'react';\nimport axios from 'axios';\nimport {\n    Grid,\n    Segment,\n    Header,\n    Icon,\n    Divider,\n} from 'semantic-ui-react';\nimport SearchBar from '../common/SearchBar';\nimport PublicCardList from './PublicCardList';\nimport { GET_CARDS_WITH_INFO } from '../utils/api_resources';\nimport { InventoryCard } from '../utils/ScryfallCard';\n\nconst initialState = {\n    searchResults: [],\n    saleListCards: [],\n    searchTerm: ''\n};\n\nexport default class PublicInventory extends React.Component {\n    state = initialState;\n\n    handleResultSelect = async term => {\n        try {\n            const { data } = await axios.get(GET_CARDS_WITH_INFO, {\n                params: { title: term, matchInStock: true }\n            });\n\n            const modeledData = data.map(c => new InventoryCard(c));\n\n            this.setState({ searchResults: modeledData, searchTerm: term });\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    render() {\n        const {\n            searchResults,\n            searchTerm\n        } = this.state;\n\n        // Creates text to notify the user of zero-result searches\n        const searchNotification = () => {\n            if (searchTerm && !searchResults.length) { // Check to make sure the user has searched and no results\n                return <p><em>{searchTerm}</em> is out of stock</p>\n            }\n            return <p>Search for a card</p>; // Default text before search\n        }\n\n        return (\n            <React.Fragment>\n                <Grid.Row style={{ display: 'flex', alignItems: 'center' }}>\n                    <SearchBar handleSearchSelect={this.handleResultSelect} />\n                </Grid.Row>\n                <br />\n                <Grid stackable={true}>\n                    <Grid.Column>\n                        <Header as=\"h2\">\n                            Inventory Search\n                            <Header.Subheader>\n                                <em>Card prices subject to change. Consult a Clubhouse employee for final estimates</em>\n                            </Header.Subheader>\n                        </Header>\n\n                        <Divider />\n\n                        {!searchResults.length &&\n                            <Segment placeholder>\n                                <Header icon>\n                                    <Icon name=\"search\" />\n                                    <span>{searchNotification()}</span>\n                                </Header>\n                            </Segment>}\n\n                        <PublicCardList cards={searchResults} />\n                    </Grid.Column>\n                </Grid >\n            </React.Fragment >\n        );\n    }\n}\n","import React from 'react';\nimport SearchBar from '../common/SearchBar';\nimport { GET_SET_NAMES } from '../utils/api_resources';\nimport axios from 'axios';\nimport { Form, Input, Select, Dropdown, Segment } from 'semantic-ui-react';\n\nconst formatDropdownOptions = [\n    { key: 'qw', value: '', text: 'None' },\n    { key: 'we', value: 'standard', text: 'Standard' },\n    { key: 'er', value: 'future', text: 'Future' },\n    { key: 'rt', value: 'historic', text: 'Historic' },\n    { key: 'ty', value: 'pioneer', text: 'Pioneer' },\n    { key: 'yu', value: 'modern', text: 'Modern' },\n    { key: 'ui', value: 'legacy', text: 'Legacy' },\n    { key: 'io', value: 'pauper', text: 'Pauper' },\n    { key: 'op', value: 'vintage', text: 'Vintage' },\n    { key: 'as', value: 'penny', text: 'Penny' },\n    { key: 'sd', value: 'commander', text: 'Commander' },\n    { key: 'df', value: 'brawl', text: 'Brawl' },\n    { key: 'fg', value: 'duel', text: 'Duel' },\n    { key: 'gh', value: 'oldschool', text: 'Oldschool' },\n];\n\nconst priceFilterDropdownOptions = [\n    { key: 'gte', value: 'gte', text: '>=' },\n    { key: 'lte', value: 'lte', text: '<=' },\n    { key: 'gtx', value: 'gt', text: '>' },\n    { key: 'ltx', value: 'lt', text: '<' },\n];\n\nconst finishDropdownOptions = [\n    { key: 'nonfoil_foil', value: '', text: 'None' },\n    { key: 'nonfoil', value: 'NONFOIL', text: 'Nonfoil' },\n    { key: 'foil', value: 'FOIL', text: 'Foil' },\n];\n\nconst sortByDropdownOptions = [\n    { key: 'pricesort', value: 'price', text: 'Price' },\n    { key: 'alphasort', value: 'name', text: 'Card Name' },\n];\n\nconst sortByDirectionDropdownOptions = [\n    { key: 'descdirsort', value: 1, text: 'Ascending' },\n    { key: 'ascdirsort', value: -1, text: 'Descending' },\n];\n\nconst sortByColorDropdownOptions = [\n    { key: 'w', value: 'W', text: 'White' },\n    { key: 'u', value: 'U', text: 'Blue' },\n    { key: 'b', value: 'B', text: 'Black' },\n    { key: 'r', value: 'R', text: 'Red' },\n    { key: 'g', value: 'G', text: 'Green' },\n];\n\nconst colorSpecificityDropdownOptions = [\n    { key: 'all', value: '', text: 'None' },\n    { key: 'mono', value: 'mono', text: 'Monocolor only' },\n    { key: 'multi', value: 'multi', text: 'Multicolor only' },\n];\n\nconst typeLineOptions = [\n    { key: 'na', value: '', text: 'None' },\n    { key: 'artifact', value: 'Artifact', text: 'Artifact' },\n    { key: 'creature', value: 'Creature', text: 'Creature' },\n    { key: 'enchantment', value: 'Enchantment', text: 'Enchantment' },\n    { key: 'instant', value: 'Instant', text: 'Instant' },\n    { key: 'land', value: 'Land', text: 'Land' },\n    { key: 'planeswalker', value: 'Planeswalker', text: 'Planeswalker' },\n    { key: 'sorcery', value: 'Sorcery', text: 'Sorcery' },\n    { key: 'tribal', value: 'Tribal', text: 'Tribal' },\n];\n\nconst frameOptions = [\n    { key: 'na', value: '', text: 'None' },\n    { key: 'borderless', value: 'borderless', text: 'Borderless' },\n    { key: 'extendedArt', value: 'extendedArt', text: 'Extended Art' },\n    { key: 'extendedArt', value: 'showcase', text: 'Showcase' },\n];\n\nconst initialState = {\n    title: '',\n    setName: '',\n    format: '',\n    priceNum: '',\n    priceFilter: 'gte',\n    finish: '',\n    sortBy: 'price',\n    colorsArray: [],\n    sortByDirection: -1,\n    colorSpecificity: '',\n    typeLine: '',\n    setNames: [],\n    frame: '',\n};\n\nexport default class DeckboxCloneForm extends React.Component {\n    state = { editionDropdownOptions: [], ...initialState };\n\n    handleSearchSelect = (name) => this.setState({ title: name });\n\n    // When the user blurs the search field, we need to re-set state. Otherwise it won't clear from handleSearchSelect()\n    handleSearchBlur = (e, d) => this.setState({ title: e.target.value });\n\n    handleChange = (e, { value }) => this.setState({ [e.target.name]: value });\n\n    handleDropdownChange = (e, data) =>\n        this.setState({ [data.name]: data.value });\n\n    async componentDidMount() {\n        const { data } = await axios.get(GET_SET_NAMES);\n        const setNameOptions = data.map((d, idx) => {\n            return { key: `set${idx}`, value: d, text: d };\n        });\n        const concatWithBlankOption = [\n            { key: 'snull', value: '', text: 'None' },\n        ].concat(setNameOptions);\n        this.setState({ editionDropdownOptions: concatWithBlankOption });\n    }\n\n    render() {\n        const {\n            title,\n            setName,\n            format,\n            priceNum,\n            priceFilter,\n            finish,\n            sortBy,\n            sortByDirection,\n            colorsArray,\n            colorSpecificity,\n            typeLine,\n            frame,\n        } = this.state;\n\n        // Sort the colors here and concat prior to sending to the backend\n        const colors = colorsArray.sort().join('');\n\n        return (\n            <Segment>\n                <h3>Filters</h3>\n                <Form>\n                    <Form.Group widths=\"4\">\n                        <Form.Field>\n                            <label>Card Name</label>\n                            <SearchBar\n                                handleSearchSelect={this.handleSearchSelect}\n                                value={this.state.title}\n                                name=\"title\"\n                                onBlur={this.handleSearchBlur}\n                            />\n                        </Form.Field>\n                        <Form.Field\n                            control={Select}\n                            label=\"Format\"\n                            placeholder=\"Format\"\n                            options={formatDropdownOptions}\n                            name=\"format\"\n                            onChange={this.handleDropdownChange}\n                        />\n                        <Form.Field\n                            control={Select}\n                            label=\"Edition\"\n                            placeholder=\"Edition\"\n                            search\n                            options={this.state.editionDropdownOptions}\n                            name=\"setName\"\n                            onChange={this.handleDropdownChange}\n                        />\n                        <Form.Field\n                            control={Select}\n                            label=\"Finish\"\n                            placeholder=\"Finish\"\n                            options={finishDropdownOptions}\n                            name=\"finish\"\n                            onChange={this.handleDropdownChange}\n                        />\n                    </Form.Group>\n                    <Form.Group widths=\"4\">\n                        <Form.Field\n                            control={Select}\n                            multiple\n                            label=\"Colors\"\n                            placeholder=\"Colors\"\n                            options={sortByColorDropdownOptions}\n                            name=\"colorsArray\"\n                            onChange={this.handleDropdownChange}\n                        />\n\n                        <Form.Field\n                            control={Select}\n                            label=\"Color specificity\"\n                            placeholder=\"Color specificity\"\n                            options={colorSpecificityDropdownOptions}\n                            name=\"colorSpecificity\"\n                            onChange={this.handleDropdownChange}\n                        />\n\n                        <Form.Field\n                            control={Select}\n                            label=\"Type Line\"\n                            placeholder=\"Type Line\"\n                            options={typeLineOptions}\n                            name=\"typeLine\"\n                            onChange={this.handleDropdownChange}\n                        />\n\n                        <Form.Field\n                            control={Select}\n                            label=\"Frame Effects\"\n                            placeholder=\"Effect\"\n                            options={frameOptions}\n                            name=\"frame\"\n                            onChange={this.handleDropdownChange}\n                        />\n\n                        <Form.Field>\n                            <label>Price Filter</label>\n                            <Input\n                                label={\n                                    <Dropdown\n                                        options={priceFilterDropdownOptions}\n                                        name=\"priceFilter\"\n                                        defaultValue=\"gte\"\n                                        onChange={this.handleDropdownChange}\n                                    />\n                                }\n                                placeholder=\"Enter a price\"\n                                labelPosition=\"left\"\n                                name=\"priceNum\"\n                                type=\"number\"\n                                onChange={this.handleDropdownChange}\n                            />\n                        </Form.Field>\n                    </Form.Group>\n\n                    <h3>{'Sort & Order'}</h3>\n\n                    <Form.Group>\n                        <Form.Field\n                            control={Select}\n                            label=\"Sort By\"\n                            placeholder=\"\"\n                            options={sortByDropdownOptions}\n                            defaultValue=\"price\"\n                            name=\"sortBy\"\n                            onChange={this.handleDropdownChange}\n                        />\n                        <Form.Field\n                            control={Select}\n                            label=\"Order\"\n                            options={sortByDirectionDropdownOptions}\n                            defaultValue={-1}\n                            name=\"sortByDirection\"\n                            onChange={this.handleDropdownChange}\n                        />\n                    </Form.Group>\n\n                    <Form.Group>\n                        <Form.Button\n                            primary\n                            onClick={() =>\n                                this.props.handleSubmit({\n                                    title,\n                                    setName,\n                                    format,\n                                    priceNum,\n                                    priceFilter,\n                                    finish,\n                                    sortBy,\n                                    sortByDirection,\n                                    colors,\n                                    colorSpecificity,\n                                    type: typeLine,\n                                    frame,\n                                })\n                            }\n                        >\n                            Submit\n                        </Form.Button>\n                    </Form.Group>\n                </Form>\n            </Segment>\n        );\n    }\n}\n","import React from 'react';\nimport { Table, Icon } from 'semantic-ui-react';\nimport Price from '../common/Price';\nimport TooltipImage from '../common/TooltipImage';\n\nconst conditionMap = {\n    NM: 'Near Mint',\n    LP: 'Light Play',\n    MP: 'Moderate Play',\n    HP: 'Heavy Play',\n};\n\nexport default class DeckboxCloneRow extends React.Component {\n    state = { mouseInside: false, mouseX: 0, mouseY: 0 };\n\n    mouseEnter = (e) => {\n        const mouseX = e.clientX - e.target.offsetLeft\n        const mouseY = e.clientY - e.target.offsetTop;\n        this.setState({ mouseInside: true, mouseX, mouseY });\n    }\n\n    mouseLeave = (e) => this.setState({ mouseInside: false });\n\n    mouseMove = (e) => {\n        const mouseX = e.clientX - e.target.offsetLeft\n        const mouseY = e.clientY - e.target.offsetTop;\n        this.setState({ mouseX, mouseY });\n    };\n\n    render() {\n        const { inventory, name, set_name, price, set, rarity, image_uri } = this.props;\n        const { mouseInside, mouseX } = this.state;\n        const finish = inventory.k.split('_')[0];\n        const condition = inventory.k.split('_')[1];\n\n        return <Table.Row>\n            <Table.Cell>\n                <span\n                    onMouseEnter={this.mouseEnter}\n                    onMouseLeave={this.mouseLeave}\n                    onMouseMove={this.mouseMove}\n                    style={{ cursor: 'help' }}\n                >\n                    {name}{' '}\n                </span>\n                {finish === 'FOIL' && <Icon name=\"star\" color=\"blue\" />}\n                {mouseInside && <TooltipImage image_uri={image_uri} posX={mouseX} />}\n            </Table.Cell>\n            <Table.Cell><i className={`ss ss-fw ss-${set} ss-${rarity}`} style={{ fontSize: '20px' }} />{\" \"}{set_name}</Table.Cell>\n            <Table.Cell>{conditionMap[condition]}</Table.Cell>\n            <Table.Cell>{inventory.v}</Table.Cell>\n            <Table.Cell><Price num={price} /></Table.Cell>\n        </Table.Row>\n    }\n}","import React from 'react';\nimport { GET_CARDS_BY_FILTER } from '../utils/api_resources';\nimport DeckboxCloneForm from './DeckboxCloneForm';\nimport DeckboxCloneRow from './DeckboxCloneRow';\nimport axios from 'axios';\nimport {\n    Table,\n    Menu,\n    Icon,\n    Dimmer,\n    Loader,\n    Segment,\n    Header,\n    Container,\n} from 'semantic-ui-react';\nimport _ from 'lodash';\nconst LIMIT = 100; // Matching the backend for now\n\nexport default class DeckboxClone extends React.Component {\n    state = {\n        data: [],\n        count: 0,\n        currentPage: 0,\n        numPages: 0,\n        pageArray: [],\n        isLoading: false,\n        cachedFilters: {},\n        showPages: [],\n        searchTouched: false, // Tracks whether the user has initially searched for the 'no results' message\n    };\n\n    fetchData = async (filters, page) => {\n        try {\n            this.setState({ isLoading: true });\n\n            const { data } = await axios.get(GET_CARDS_BY_FILTER, {\n                params: { ...filters, page },\n            });\n\n            const numPages = Math.ceil(data.total / LIMIT);\n            const pages = _.range(1, numPages + 1);\n            let showPages;\n\n            // Logic that controls the visibility of page number links\n            // Default max number pages to display is 5\n            if (page <= 3) {\n                showPages = pages.slice(0, 5);\n            } else if (page >= numPages - 2) {\n                showPages = pages.slice(numPages - 5, numPages);\n            } else {\n                showPages = pages.slice(page - 2, page + 3);\n            }\n\n            this.setState({\n                data: data.cards,\n                count: data.total,\n                isLoading: false,\n                numPages: numPages,\n                currentPage: page,\n                showPages: showPages,\n                searchTouched: true,\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    handleSubmit = async (filters) => {\n        this.setState({ cachedFilters: filters }); // Set the filters for pagination requests later\n        await this.fetchData(filters, 1); // On submit, starting page mut always be 1\n    };\n\n    handlePage = async (page) => {\n        await this.fetchData(this.state.cachedFilters, page);\n        this.setState({ currentPage: page });\n    };\n\n    render() {\n        const { data, isLoading, currentPage, numPages, count } = this.state;\n        const showLeftPageButtons = !(currentPage === 1);\n        const showRightPageButtons = !(currentPage === numPages);\n\n        return (\n            <Container>\n                <Dimmer\n                    active={isLoading}\n                    inverted\n                    page\n                    style={{ marginTop: '52.63px' }}\n                >\n                    <Loader size=\"large\">Loading</Loader>\n                </Dimmer>\n                <Segment secondary>\n                    <Icon name=\"exclamation triangle\" color=\"blue\" />\n                    Prices from this table are updated weekly and are subject to\n                    fluctuations. Consult 'New Sale' or 'Manage Inventory' for\n                    up-to-date values\n                </Segment>\n                <DeckboxCloneForm handleSubmit={this.handleSubmit} />\n\n                {!!data.length && (\n                    <Table celled striped compact>\n                        <Table.Header>\n                            <Table.Row>\n                                <Table.HeaderCell colSpan=\"5\">\n                                    <Menu floated=\"left\">\n                                        <Menu.Item>\n                                            Viewing page {currentPage} of{' '}\n                                            {numPages}\n                                        </Menu.Item>\n                                    </Menu>\n                                    <Menu floated=\"right\">\n                                        {showLeftPageButtons && (\n                                            <Menu.Item\n                                                as=\"a\"\n                                                icon\n                                                onClick={() =>\n                                                    this.handlePage(\n                                                        currentPage - 1\n                                                    )\n                                                }\n                                            >\n                                                <Icon name=\"chevron left\" />\n                                            </Menu.Item>\n                                        )}\n\n                                        <React.Fragment>\n                                            {this.state.showPages.map((p) => {\n                                                return (\n                                                    <Menu.Item\n                                                        key={`page-${p}`}\n                                                        onClick={() =>\n                                                            this.handlePage(p)\n                                                        }\n                                                        active={\n                                                            currentPage === p\n                                                        }\n                                                        disabled={\n                                                            currentPage === p\n                                                        }\n                                                        as=\"a\"\n                                                    >\n                                                        {p}\n                                                    </Menu.Item>\n                                                );\n                                            })}\n                                        </React.Fragment>\n\n                                        {showRightPageButtons && (\n                                            <Menu.Item\n                                                as=\"a\"\n                                                icon\n                                                onClick={() =>\n                                                    this.handlePage(\n                                                        currentPage + 1\n                                                    )\n                                                }\n                                            >\n                                                <Icon name=\"chevron right\" />\n                                            </Menu.Item>\n                                        )}\n                                    </Menu>\n                                </Table.HeaderCell>\n                            </Table.Row>\n                        </Table.Header>\n\n                        <Table.Header>\n                            <Table.Row>\n                                <Table.HeaderCell>Name</Table.HeaderCell>\n                                <Table.HeaderCell>Edition</Table.HeaderCell>\n                                <Table.HeaderCell>Condition</Table.HeaderCell>\n                                <Table.HeaderCell>Qty</Table.HeaderCell>\n                                <Table.HeaderCell>Price</Table.HeaderCell>\n                            </Table.Row>\n                        </Table.Header>\n\n                        <Table.Body>\n                            {data.map((d) => (\n                                <DeckboxCloneRow\n                                    {...d}\n                                    key={`${d._id}${d.inventory.k}`}\n                                />\n                            ))}\n                        </Table.Body>\n\n                        <Table.Footer>\n                            <Table.Row>\n                                <Table.HeaderCell colSpan=\"5\">\n                                    <Menu floated=\"left\">\n                                        <Menu.Item>\n                                            Total results: {count}\n                                        </Menu.Item>\n                                    </Menu>\n                                    <Menu floated=\"right\">\n                                        {showLeftPageButtons && (\n                                            <Menu.Item\n                                                as=\"a\"\n                                                icon\n                                                onClick={() =>\n                                                    this.handlePage(\n                                                        currentPage - 1\n                                                    )\n                                                }\n                                            >\n                                                <Icon name=\"chevron left\" />\n                                            </Menu.Item>\n                                        )}\n\n                                        <React.Fragment>\n                                            {this.state.showPages.map((p) => {\n                                                return (\n                                                    <Menu.Item\n                                                        key={`page-${p}`}\n                                                        onClick={() =>\n                                                            this.handlePage(p)\n                                                        }\n                                                        active={\n                                                            currentPage === p\n                                                        }\n                                                        disabled={\n                                                            currentPage === p\n                                                        }\n                                                        as=\"a\"\n                                                    >\n                                                        {p}\n                                                    </Menu.Item>\n                                                );\n                                            })}\n                                        </React.Fragment>\n\n                                        {showRightPageButtons && (\n                                            <Menu.Item\n                                                as=\"a\"\n                                                icon\n                                                onClick={() =>\n                                                    this.handlePage(\n                                                        currentPage + 1\n                                                    )\n                                                }\n                                            >\n                                                <Icon name=\"chevron right\" />\n                                            </Menu.Item>\n                                        )}\n                                    </Menu>\n                                </Table.HeaderCell>\n                            </Table.Row>\n                        </Table.Footer>\n                    </Table>\n                )}\n\n                {!data.length && (\n                    <Segment placeholder>\n                        <Header icon>\n                            <Icon name=\"search\" />\n                            {this.state.searchTouched\n                                ? 'No results found'\n                                : 'Use the filters to browse inventory'}\n                        </Header>\n                    </Segment>\n                )}\n            </Container>\n        );\n    }\n}\n","import React, { useState, useContext } from 'react';\nimport createToast from '../common/createToast';\nimport { Form, Button, Segment } from 'semantic-ui-react';\nimport { Redirect } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthProvider';\nimport styled from 'styled-components';\n\nconst LoginContainer = styled.div`\n    margin-top: 15px;\n    display: flex;\n    justify-content: center;\n`;\n\nconst FormContainer = styled(Segment)`\n    width: 400px;\n    padding: 25px 25px 25px 25px !important;\n`;\n\nconst initialState = { username: '', password: '', loading: false };\n\nexport default function Login() {\n    const [state, setState] = useState(initialState);\n    const { loggedIn, handleLogin } = useContext(AuthContext);\n\n    const handleInputChange = (e, { value }) => setState({ ...state, [e.target.name]: value });\n\n    const login = async () => {\n        setState({ loading: true });\n\n        const { authed } = await handleLogin(state.username, state.password);\n\n        if (authed) {\n            // Do not set state here to mitigate React setState warning after component unmounted due to redirect\n            createToast({\n                color: 'green',\n                header: 'Success',\n                message: `Enjoy your time here!`,\n            });\n        } else {\n            setState(initialState);\n            createToast({\n                color: 'red',\n                header: 'Error',\n                message: `Username or password was incorrect`,\n            });\n        }\n    };\n\n    if (loggedIn) return <Redirect to=\"/manage-inventory\" />\n\n    return <LoginContainer>\n        <FormContainer raised loading={state.loading}>\n            <Form>\n                <Form.Field>\n                    <Form.Input\n                        className=\"username-input\"\n                        name=\"username\"\n                        placeholder=\"Username\"\n                        label=\"Username\"\n                        value={state.username || ''}\n                        onChange={handleInputChange}\n                    />\n                </Form.Field>\n                <Form.Field>\n                    <Form.Input\n                        className=\"password-input\"\n                        name=\"password\"\n                        placeholder=\"Password\"\n                        type=\"password\"\n                        label=\"Password\"\n                        value={state.password || ''}\n                        onChange={handleInputChange}\n                    />\n                </Form.Field>\n                <Button\n                    primary\n                    fluid\n                    floated=\"right\"\n                    type=\"submit\"\n                    onClick={login}\n                    className=\"login-btn\"\n                    disabled={!state.username || !state.password}>\n                    Submit\n            </Button>\n            </Form>\n        </FormContainer>\n    </LoginContainer>\n}\n","import React, { useContext } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthProvider';\n\nfunction Logout() {\n    const { handleLogout } = useContext(AuthContext);\n\n    handleLogout();\n\n    return <Redirect to=\"/login\" />\n};\n\nexport default Logout;\n","import React, { useState } from 'react';\nimport _ from 'lodash';\nimport uuid from 'uuid';\nimport axios from 'axios';\nimport createToast from '../common/createToast';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport { InventoryCard } from '../utils/ScryfallCard';\nimport { GET_CARDS_WITH_INFO, RECEIVE_CARDS } from '../utils/api_resources';\n\nconst TRADE_TYPES = { CASH: 'CASH', CREDIT: 'CREDIT' }; // Customers can only receive cash or credit for their assets\n\n// Models the line item in the Receiving List and sets a unique UUID key on each\nclass LineItem extends InventoryCard {\n    constructor(cardProps) {\n        super(cardProps);\n\n        const { cashPrice, marketPrice, creditPrice } = cardProps;\n\n        this.cashPrice = cashPrice;\n        this.marketPrice = marketPrice;\n        this.creditPrice = creditPrice;\n        this.uuid_key = uuid();\n\n        if (creditPrice === 0) this.tradeType = TRADE_TYPES.CASH; // Set to cash if customer doesn't want credit\n        else this.tradeType = TRADE_TYPES.CREDIT; // Otherwise, default to credit\n    }\n}\n\nexport const ReceivingContext = React.createContext();\n\nexport function ReceivingProvider(props) {\n    const [searchResults, setSearchResults] = useState([]);\n    const [receivingList, setReceivingList] = useState([]);\n\n    /**\n     * Fetches cards from the DB by title when a user selects a title after querying.\n     * This function merges the data (inventory quantity and card objects) from two endpoints into one array.\n     * \n     * @param {String} term - the search term\n     */\n    const handleSearchSelect = async term => {\n        try {\n            const { data } = await axios.get(GET_CARDS_WITH_INFO, {\n                params: { title: term, matchInStock: false },\n                headers: makeAuthHeader()\n            });\n\n            setSearchResults(data.map(d => new InventoryCard(d)));\n        } catch (e) {\n            console.log(e);\n        }\n    };\n\n    /**\n     * Adds a card to the receiving list, with a unique uuid\n     */\n    const addToList = (quantity, cardProps) => {\n        const previousState = [...receivingList];\n\n        // Each line-item represents one card. Use _.times() to repeat\n        const newState = previousState.concat(_.times(quantity, () => new LineItem(cardProps)));\n\n        setReceivingList(_.sortBy(newState, 'name'));\n    }\n\n    /**\n     * Removes a card from the receiving list using the uuid\n     */\n    const removeFromList = uuid_key => {\n        const copiedState = [...receivingList];\n        _.remove(copiedState, e => e.uuid_key === uuid_key); // Mutates array\n        setReceivingList(copiedState);\n    }\n\n    /**\n     * Determines whether line-items use cash or credit. Changes the tradeType by reference in the receivingList array\n     * which changes the active prop in ReceivingListItem\n     */\n    const activeTradeType = (uuid_key, tradeType) => {\n        const previousState = [...receivingList];\n        const card = previousState.find(e => e.uuid_key === uuid_key);\n        card.tradeType = TRADE_TYPES[tradeType];\n        setReceivingList(previousState);\n    }\n\n    /**\n    * Sets all items to a tradeType, if possible\n    * \n    * @param {String} selectType - `CASH` or `CREDIT`\n    */\n    const selectAll = selectType => {\n        const oldState = [...receivingList];\n        const { CASH, CREDIT } = TRADE_TYPES;\n\n        oldState.forEach((card, idx, arr) => {\n            let selectedPrice = 0;\n\n            if (selectType === CASH) selectedPrice = card.cashPrice;\n            else if (selectType === CREDIT) selectedPrice = card.creditPrice;\n\n            if (selectedPrice > 0) arr[idx].tradeType = selectType;\n        })\n\n        setReceivingList(oldState);\n    }\n\n    /**\n     * Persists all passed cards to inventory\n     */\n    const commitToInventory = async () => {\n        try {\n            const cardsToCommit = receivingList.map(card => {\n                const { finishCondition, id, name, set_name, set } = card;\n                return { quantity: 1, finishCondition, id, name, set_name, set }; // Only committing one per line-item\n            })\n\n            await axios.post(RECEIVE_CARDS, { cards: cardsToCommit }, { headers: makeAuthHeader() });\n\n            setSearchResults([]);\n            setReceivingList([]);\n\n            createToast({\n                color: 'green',\n                header: `${receivingList.length} cards were added to inventory!`,\n                duration: 2000\n            });\n        } catch (e) {\n            console.log(e);\n            createToast({\n                color: 'red',\n                header: `Something went wrong...`,\n                duration: 2000\n            });\n        }\n    }\n\n    const resetSearchResults = () => setSearchResults([]);\n\n    return <ReceivingContext.Provider\n        value={{\n            searchResults,\n            receivingList,\n            handleSearchSelect,\n            addToList,\n            removeFromList,\n            activeTradeType,\n            selectAll,\n            commitToInventory,\n            resetSearchResults\n        }}>\n        {props.children}\n    </ReceivingContext.Provider>\n}","import React, { useState, useContext } from 'react';\nimport $ from 'jquery';\nimport {\n    Segment,\n    Input,\n    Button,\n    Form,\n    Select,\n    Label,\n    Item,\n} from 'semantic-ui-react';\nimport QohLabels from '../common/QohLabels';\nimport CardImage from '../common/CardImage';\nimport MarketPrice from '../common/MarketPrice';\nimport createToast from '../common/createToast';\nimport { ReceivingContext } from '../context/ReceivingContext';\nimport Language from '../common/Language';\nimport { finishes, cardConditions } from '../utils/dropdownOptions';\nimport checkCardFinish from '../utils/checkCardFinish';\n\nexport default function ReceivingSearchItem(props) {\n    const [quantity, setQuantity] = useState(1);\n    const [cashPrice, setCashPrice] = useState(0);\n    const [creditPrice, setCreditPrice] = useState(0);\n    const [selectedCondition, setSelectedCondition] = useState('NM');\n    const [marketPrice, setMarketPrice] = useState(0);\n    const [selectedFinish, setSelectedFinish] = useState(\n        checkCardFinish(props.nonfoil, props.foil).selectedFinish // seed state from props\n    );\n\n    // Determines whether the select finish dropdown is permanently disabled, seeded from props\n    const finishDisabled = checkCardFinish(props.nonfoil, props.foil)\n        .finishDisabled;\n\n    const { addToList } = useContext(ReceivingContext);\n\n    const handleFinishChange = (e, { value }) => setSelectedFinish(value);\n\n    const handleConditionChange = (e, { value }) => setSelectedCondition(value);\n\n    // Validates/sanitizes user inputs by tracking the `name` attribute of the input element\n    const handlePriceChange = (e, { value }) => {\n        let val = Number(value) || 0;\n        if (val < 0) val = 0;\n        if (value === '') val = '';\n\n        switch (e.target.name) {\n            case 'cashInput':\n                setCashPrice(val);\n                break;\n            case 'marketPriceInput':\n                setMarketPrice(val);\n                break;\n            case 'creditInput':\n                setCreditPrice(val);\n                break;\n            default:\n                break;\n        }\n    };\n\n    const handleQuantityChange = (e, { value }) => {\n        let val = parseInt(value, 10) || 0;\n        if (val < 0) val = 0; // cannot receive less than 0\n        if (val > 50) val = 50; // set max to 50 cards per single transaction\n        setQuantity(val);\n    };\n\n    const handleFocus = (e) => e.target.select();\n\n    const handleInventoryAdd = () => {\n        addToList(quantity, {\n            ...props,\n            cashPrice,\n            marketPrice,\n            creditPrice,\n            finishCondition: `${selectedFinish}_${selectedCondition}`, // ex. NONFOIL_NM\n        });\n\n        setQuantity(1);\n        setCashPrice(0);\n        setMarketPrice(0);\n        setCreditPrice(0);\n        setSelectedCondition('NM');\n        setSelectedFinish(\n            checkCardFinish(props.nonfoil, props.foil).selectedFinish\n        );\n\n        createToast({\n            color: 'green',\n            header: `${quantity}x ${props.name} added to buylist!`,\n            duration: 2000,\n        });\n\n        // Highlight the input after successful card add\n        $('#searchBar').focus().select();\n    };\n\n    /**\n     * Determines whether the `Add` button should be disabled\n     */\n    const submitDisabled = () => {\n        const validateQty = quantity === 0 || quantity === '';\n        const validateTradeTypes =\n            !(cashPrice || creditPrice) ||\n            cashPrice === '' ||\n            creditPrice === '';\n        const validateMarketPrice = marketPrice === 0 || marketPrice === '';\n\n        if (cashPrice > 0) {\n            return validateQty || validateTradeTypes || validateMarketPrice;\n        }\n\n        return validateQty || validateTradeTypes;\n    };\n\n    const {\n        image_uris,\n        name,\n        set_name,\n        set,\n        rarity,\n        card_faces,\n        id,\n        lang,\n    } = props;\n\n    return (\n        <Segment>\n            <Item.Group divided>\n                <Item>\n                    <Item.Image size=\"small\">\n                        <CardImage\n                            image_uris={image_uris}\n                            card_faces={card_faces}\n                            hover={false}\n                        />\n                    </Item.Image>\n                    <Item.Content>\n                        <Item.Header as=\"h3\">\n                            {name}{' '}\n                            <i\n                                className={`ss ss-fw ss-${set} ss-${rarity}`}\n                                style={{ fontSize: '30px' }}\n                            />\n                            <Label color=\"grey\">\n                                {set_name} ({String(set).toUpperCase()})\n                            </Label>\n                            <QohLabels inventoryQty={props.qoh} />{' '}\n                            <MarketPrice id={id} finish={selectedFinish} />\n                            <Language languageCode={lang} />\n                        </Item.Header>\n                        <Item.Description>\n                            <Form>\n                                <Form.Group widths=\"12\">\n                                    <Form.Field\n                                        control={Input}\n                                        type=\"number\"\n                                        label=\"Quantity\"\n                                        value={quantity}\n                                        onChange={handleQuantityChange}\n                                        onFocus={(e) => e.target.select()}\n                                        className=\"receiving-quantity\"\n                                    />\n                                    <Form.Field\n                                        label=\"Credit Price\"\n                                        name=\"creditInput\"\n                                        control={Input}\n                                        type=\"number\"\n                                        value={creditPrice}\n                                        onChange={handlePriceChange}\n                                        onFocus={handleFocus}\n                                        step=\"0.25\"\n                                        className=\"receiving-credit\"\n                                    />\n                                    <Form.Field\n                                        label=\"Cash Price\"\n                                        name=\"cashInput\"\n                                        control={Input}\n                                        type=\"number\"\n                                        value={cashPrice}\n                                        onChange={handlePriceChange}\n                                        onFocus={handleFocus}\n                                        step=\"0.25\"\n                                        className=\"receiving-cash\"\n                                    />\n                                    <Form.Field\n                                        label=\"Market Price\"\n                                        name=\"marketPriceInput\"\n                                        control={Input}\n                                        type=\"number\"\n                                        value={marketPrice}\n                                        onChange={handlePriceChange}\n                                        onFocus={handleFocus}\n                                        step=\"0.25\"\n                                        disabled={\n                                            cashPrice === 0 || cashPrice === ''\n                                        }\n                                        className=\"receiving-market\"\n                                    />\n                                </Form.Group>\n                                <Form.Group widths=\"12\">\n                                    <Form.Field\n                                        label=\"Finish\"\n                                        control={Select}\n                                        value={selectedFinish}\n                                        options={finishes}\n                                        disabled={finishDisabled}\n                                        onChange={handleFinishChange}\n                                    />\n                                    <Form.Field\n                                        label=\"Condition\"\n                                        control={Select}\n                                        value={selectedCondition}\n                                        options={cardConditions}\n                                        onChange={handleConditionChange}\n                                    />\n                                    <Form.Button\n                                        label=\"Add to List?\"\n                                        control={Button}\n                                        primary\n                                        disabled={submitDisabled()}\n                                        onClick={handleInventoryAdd}\n                                    >\n                                        Add\n                                    </Form.Button>\n                                </Form.Group>\n                            </Form>\n                        </Item.Description>\n                    </Item.Content>\n                </Item>\n            </Item.Group>\n        </Segment>\n    );\n}\n","import React, { useContext } from 'react';\nimport ReceivingSearchItem from './ReceivingSearchItem';\nimport { ReceivingContext } from '../context/ReceivingContext';\n\nexport default function ReceivingCardList() {\n    const { searchResults } = useContext(ReceivingContext);\n\n    return searchResults.map(c => {\n        return <ReceivingSearchItem\n            key={c.id}\n            {...c}\n            qoh={c.qoh}\n        />\n    });\n}\n","import React from 'react';\nimport { Segment, Header, Icon } from 'semantic-ui-react';\n\nexport default function DefaultPlaceholder({ active, children }) {\n    return <React.Fragment>\n        {active &&\n            <Segment placeholder>\n                <Header icon>\n                    <Icon name=\"search\" />\n                    <em>{children}</em>\n                </Header>\n            </Segment>}\n    </React.Fragment>\n}","import React, { useState, useContext } from 'react';\nimport { Table, Button, Label, Icon } from 'semantic-ui-react';\nimport styled from 'styled-components';\nimport Price from '../common/Price';\nimport { ReceivingContext } from '../context/ReceivingContext';\nimport TooltipImage from '../common/TooltipImage';\n\nconst BoldHelp = styled.b`\n    cursor: help;\n`;\n\n// Defines whether it uses cash or credit for trade types\nconst TRADE_TYPE = { CASH: 'CASH', CREDIT: 'CREDIT' };\n\nexport default function ReceivingListItem({ display_name, set, rarity, cashPrice, creditPrice, finishCondition, uuid_key, tradeType, cardImage }) {\n    const { CASH, CREDIT } = TRADE_TYPE;\n    const [hovered, setHovered] = useState(false);\n    const [mouseInside, setMouseInside] = useState(false);\n    const [mousePos, setMousePos] = useState({});\n    const { removeFromList, activeTradeType } = useContext(ReceivingContext);\n\n    const mouseEnter = e => {\n        const rect = e.target.getBoundingClientRect();\n        const X = Math.round(e.clientX - rect.x) + 30;\n        setMouseInside(true);\n        setMousePos({ X });\n    }\n\n    const mouseMove = e => {\n        const rect = e.target.getBoundingClientRect();\n        const X = Math.round(e.clientX - rect.x) + 30;\n        setMousePos({ X });\n    }\n\n    const mouseLeave = e => setMouseInside(false);\n\n    return (\n        <Table.Row>\n            <Table.Cell>\n                <BoldHelp\n                    onMouseEnter={mouseEnter}\n                    onMouseMove={mouseMove}\n                    onMouseLeave={mouseLeave}\n                >\n                    {display_name}\n                    {mouseInside && <TooltipImage image_uri={cardImage} posX={mousePos.X} />}\n                </BoldHelp>\n            </Table.Cell>\n            <Table.Cell singleLine>\n                <i\n                    className={`ss ss-fw ss-${set} ss-${rarity}`}\n                    style={{ fontSize: '20px' }}\n                />\n                <Label color=\"grey\">{set.toUpperCase()}</Label>\n            </Table.Cell>\n            <Table.Cell>\n                <div style={{ whiteSpace: 'noWrap' }}>\n                    Cash <b><Price num={cashPrice} /></b>\n                </div>\n                <div style={{ whiteSpace: 'noWrap' }}>\n                    Credit <b><Price num={creditPrice} /></b>\n                </div>\n                <p>{finishCondition.split('_')[0]} | {finishCondition.split('_')[1]}</p>\n            </Table.Cell>\n            <Table.Cell>\n                <Button\n                    active={tradeType === CASH}\n                    color={tradeType === CASH ? 'blue' : null}\n                    onClick={() => activeTradeType(uuid_key, CASH)}\n                    disabled={cashPrice === 0}\n                    icon\n                >\n                    <Icon name=\"dollar sign\"></Icon>\n                </Button>\n            </Table.Cell>\n            <Table.Cell>\n                <Button\n                    active={tradeType === CREDIT}\n                    color={tradeType === CREDIT ? 'blue' : null}\n                    onClick={() => activeTradeType(uuid_key, CREDIT)}\n                    disabled={creditPrice === 0}\n                    icon\n                >\n                    <Icon name=\"credit card outline\"></Icon>\n                </Button>\n            </Table.Cell>\n            <Table.Cell>\n                <Button\n                    icon=\"cancel\"\n                    circular\n                    onClick={() => removeFromList(uuid_key)}\n                    onMouseOver={() => setHovered(true)}\n                    onMouseOut={() => setHovered(false)}\n                    color={hovered ? 'red' : null}\n                >\n                </Button>\n            </Table.Cell>\n        </Table.Row>\n    );\n}","import React from 'react';\nimport _ from 'lodash';\nimport Price from '../common/Price';\nimport { Table } from 'semantic-ui-react';\n\n// Am I crazy or is this logic really convoluted?\n// Perhaps look at this down the line for improvement...\nexport default function CashReport({ receivingList, closeCashModal }) {\n    // If id, cashPrice and marketPrice are the same, goes in one bucket\n    const countByPriceAndID = _.chain(receivingList)\n        .filter(c => c.tradeType === 'CASH')\n        .map(c => {\n            // Note: We're creating a unique uuid-esque comparator string based on:\n            // `id`, `cashPrice`, `marketPrice`, and `finishCondition`\n            return { ...c, temp_uuid: `${c.id}-${c.cashPrice}-${c.marketPrice}-${c.finishCondition}` }\n        })\n        .groupBy(\"temp_uuid\")\n        .mapValues(val => val.length)\n        .value();\n\n    const uniqLineItems = _.chain(receivingList)\n        .filter(c => c.tradeType === 'CASH')\n        .map(c => {\n            return { ...c, temp_uuid: `${c.id}-${c.cashPrice}-${c.marketPrice}-${c.finishCondition}` }\n        })\n        .uniqBy('temp_uuid')\n        .value();\n\n    const mergedWithQty = uniqLineItems.map(c => {\n        return { ...c, tradeQty: countByPriceAndID[c.temp_uuid] } // Add a trade quantity referencing the previous count\n    });\n\n    const totalCashOut = _.chain(receivingList)\n        .filter(c => c.tradeType === 'CASH')\n        .sumBy(c => c.cashPrice)\n        .value();\n\n    return <React.Fragment>\n        <div id=\"cash-report\">\n            <Table celled>\n                <Table.Header>\n                    <Table.Row>\n                        <Table.HeaderCell colSpan={6}>Employee Name:</Table.HeaderCell>\n                    </Table.Row>\n                    <Table.Row>\n                        <Table.HeaderCell>Card Name</Table.HeaderCell>\n                        <Table.HeaderCell>Market Value</Table.HeaderCell>\n                        <Table.HeaderCell>Condition</Table.HeaderCell>\n                        <Table.HeaderCell>Quantity</Table.HeaderCell>\n                        <Table.HeaderCell>Cash Offer</Table.HeaderCell>\n                        <Table.HeaderCell>Cash Out</Table.HeaderCell>\n                    </Table.Row>\n                </Table.Header>\n                <Table.Body>\n                    {mergedWithQty.map(c => {\n                        return <Table.Row key={c.temp_uuid}>\n                            <Table.Cell>{c.name}</Table.Cell>\n                            <Table.Cell><Price num={c.marketPrice} /></Table.Cell>\n                            <Table.Cell>{c.finishCondition}</Table.Cell>\n                            <Table.Cell>{c.tradeQty}</Table.Cell>\n                            <Table.Cell><Price num={c.cashPrice} /></Table.Cell>\n                            <Table.Cell><Price num={c.tradeQty * c.cashPrice} /></Table.Cell>\n                        </Table.Row>\n                    })}\n                </Table.Body>\n                <Table.Footer>\n                    <Table.HeaderCell colSpan={6}>Total: <Price num={totalCashOut} /></Table.HeaderCell>\n                </Table.Footer>\n            </Table>\n        </div>\n    </React.Fragment>\n}","import React, { useState, useContext } from 'react';\nimport { Modal, Header, Button } from 'semantic-ui-react';\nimport { ReceivingContext } from '../context/ReceivingContext';\nimport Price from '../common/Price';\n\nexport default function ReceivingListModal({ cashTotal, creditTotal }) {\n    const [loading, setLoading] = useState(false);\n    const [showModal, setShowModal] = useState(false);\n\n    const { receivingList, commitToInventory } = useContext(ReceivingContext);\n\n    const submitToInventory = async () => {\n        setLoading(true);\n        await commitToInventory();\n        setLoading(false);\n    }\n\n    return <Modal\n        closeOnDimmerClick={false}\n        trigger={\n            <Button\n                id=\"commit-to-inv\"\n                color=\"blue\"\n                disabled={receivingList.length === 0}\n                onClick={() => setShowModal(true)}>\n                Commit to inventory\n             </Button>\n        }\n        open={showModal}\n        onClose={() => setShowModal(false)}\n        basic style={{ marginTop: '50px' }} >\n        <Header>Confirm receipt of new inventory?</Header>\n        <Modal.Content>\n            <p><b>Pressing 'Submit' will commit the following items to inventory:</b></p>\n            <ul>\n                {receivingList.map(c => {\n                    return <li key={c.uuid_key}>{c.name} | {c.set_name}({c.set.toUpperCase()})</li>\n                })}\n            </ul>\n            <div>\n                <p><b>The customer is owed: </b></p>\n                <ul>\n                    {cashTotal > 0 ? <li><Price num={cashTotal} /> in cold, hard cash</li> : null}\n                    {creditTotal > 0 ? <li><Price num={creditTotal} /> in store credit</li> : null}\n                </ul>\n            </div>\n        </Modal.Content>\n        <Modal.Actions>\n            <Button basic color=\"red\" inverted onClick={() => setShowModal(false)}>Cancel</Button>\n            <Button\n                id=\"submit-to-inv\"\n                color=\"green\"\n                inverted\n                loading={loading}\n                disabled={loading}\n                onClick={submitToInventory}\n            >Submit</Button>\n        </Modal.Actions>\n    </Modal>\n}","import React, { useState, useContext } from 'react';\nimport { Segment, Statistic, Button, Modal } from 'semantic-ui-react';\nimport styled from 'styled-components';\nimport Price from '../common/Price';\nimport CashReport from './CashReport';\nimport printCashReport from './printCashReport';\nimport ReceivingListModal from './ReceivingListModal';\nimport { ReceivingContext } from '../context/ReceivingContext';\n\nconst FlexRow = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n`;\n\nconst FlexCol = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n    min-height: 100px;\n`;\n\nconst StatisticColor = styled(Statistic.Label)`\n    color: gray !important;\n`;\n\nconst TRADE_TYPE = { CASH: 'CASH', CREDIT: 'CREDIT' };\n\nexport default function ReceivingListTotals() {\n    const { CASH, CREDIT } = TRADE_TYPE;\n    const [showCashModal, setShowCashModal] = useState(false);\n    const { receivingList, selectAll } = useContext(ReceivingContext);\n\n    const openCashModal = () => setShowCashModal(true);\n    const closeCashModal = () => setShowCashModal(false);\n\n    const handlePrintCashReport = () => {\n        setShowCashModal(false); // Close the modal so users don't have to after printing in new tab\n        printCashReport();\n    }\n\n    const cashTotal = receivingList.reduce((acc, curr) => {\n        let cashVal = curr.tradeType === CASH ? curr.cashPrice : 0;\n        return acc + cashVal;\n    }, 0);\n\n    const creditTotal = receivingList.reduce((acc, curr) => {\n        let creditVal = curr.tradeType === CREDIT ? curr.creditPrice : 0;\n        return acc + creditVal;\n    }, 0);\n\n    return <Segment>\n        <FlexRow>\n            <FlexCol>\n                <Button.Group>\n                    <Button id=\"select-all-cash\" onClick={() => selectAll(TRADE_TYPE.CASH)}>Select all cash</Button>\n                    <Button.Or />\n                    <Button id=\"select-all-credit\" onClick={() => selectAll(TRADE_TYPE.CREDIT)}>Select all credit</Button>\n                </Button.Group>\n                <Modal\n                    open={showCashModal}\n                    trigger={\n                        <Button\n                            color={cashTotal > 0 ? 'green' : null}\n                            disabled={cashTotal === 0}\n                            onClick={openCashModal}>\n                            Generate cash report\n                    </Button>\n                    }>\n                    <Modal.Content>\n                        <CashReport\n                            receivingList={receivingList}\n                            closeCashModal={closeCashModal} />\n                    </Modal.Content>\n                    <Modal.Actions>\n                        <Button onClick={handlePrintCashReport} color=\"blue\">Print Report</Button>\n                        <Button onClick={closeCashModal}>Cancel</Button>\n                    </Modal.Actions>\n                </Modal>\n            </FlexCol>\n            <FlexCol>\n                <Segment>\n                    <div>\n                        <Statistic size=\"mini\">\n                            <StatisticColor>Cash Due</StatisticColor>\n                            <Statistic.Value id=\"cash-total\"><Price num={cashTotal} /></Statistic.Value>\n                        </Statistic>\n                        <Statistic size=\"mini\">\n                            <StatisticColor>Credit Due</StatisticColor>\n                            <Statistic.Value id=\"credit-total\"><Price num={creditTotal} /></Statistic.Value>\n                        </Statistic>\n                    </div>\n                    <ReceivingListModal\n                        cashTotal={cashTotal}\n                        creditTotal={creditTotal}\n                    />\n                </Segment>\n            </FlexCol>\n        </FlexRow>\n\n    </Segment>\n}","const printStyle = `\n    body {\n        font-family: 'helvetica neue', helvetica, arial, sans-serif;\n    }\n\n    table {\n        table-layout: fixed;\n        width: 100%;\n        border-collapse: collapse;\n        border: 1px solid gray;\n        text-align: left;\n    }\n\n    thead th:nth-child(1) {\n        width: 30%;\n    }\n\n    thead th:nth-child(2) {\n        width: 20%;\n    }\n\n    thead th:nth-child(3) {\n        width: 15%;\n    }\n\n    thead th:nth-child(4) {\n        width: 35%;\n    }\n\n    th, td {\n        border: 1px solid #ddd;\n        padding: 10px;\n    }\n\n    tfoot {\n        text-align: right !important;\n    }\n`;\n\n/**\n     * We're creating a new tab here for the modal table and writing CSS to it - not the most elegant solution from a UX and\n     * code standpoint, but time was of the essence for this release. Refactor down the road.\n     * \n     * The id cash-report is found on the cash report table\n     */\nexport default function printCashReport() {\n    const divToPrint = document.getElementById('cash-report');\n    const popup = window.open('', '_blank');\n    popup.document.open();\n    popup.document.write(`<html>`);\n    popup.document.write(`<head>`);\n    popup.document.write(`<title>Cash Report</title>`)\n    popup.document.write(`<style>${printStyle}</style>`);\n    popup.document.write(`</head>`);\n    popup.document.write(`<body onload=\"window.print()\">`);\n    popup.document.write(`${divToPrint.innerHTML}`);\n    popup.document.write(`</body>`);\n    popup.document.write(`</html>`);\n    popup.document.close();\n}","import React from 'react';\nimport { Table } from 'semantic-ui-react';\nimport ReceivingListItem from './ReceivingListItem';\nimport ReceivingListTotals from './ReceivingListTotals';\n\nexport default function ReceivingList({ cards }) {\n    return <React.Fragment>\n        {cards.length > 0 && <Table compact size=\"small\">\n            <Table.Body className='receiving-list-table'>\n                {cards.map(card => {\n                    const { name, display_name, set, rarity, cashPrice, creditPrice, finishCondition, uuid_key, tradeType, qoh, cardImage } = card;\n                    return <ReceivingListItem\n                        name={name}\n                        display_name={display_name}\n                        set={set}\n                        rarity={rarity}\n                        cashPrice={cashPrice}\n                        creditPrice={creditPrice}\n                        finishCondition={finishCondition}\n                        uuid_key={uuid_key}\n                        tradeType={tradeType}\n                        qoh={qoh}\n                        key={uuid_key}\n                        cardImage={cardImage}\n                    />\n                })}\n            </Table.Body>\n        </Table>}\n\n        {cards.length > 0 && <ReceivingListTotals />}\n    </React.Fragment>\n}","import React, { useContext, useEffect } from 'react';\nimport SearchBar from '../common/SearchBar';\nimport ReceivingSearchList from './ReceivingSearchList';\nimport { Header, Grid, Divider } from 'semantic-ui-react'\nimport { ReceivingContext } from '../context/ReceivingContext';\nimport DefaultPlaceholder from './DefaultPlaceholder';\nimport ReceivingList from './ReceivingList';\nimport TotalCardsLabel from '../common/TotalCardsLabel';\n\nexport default function Receiving() {\n    const {\n        searchResults,\n        receivingList,\n        handleSearchSelect,\n        resetSearchResults\n    } = useContext(ReceivingContext);\n\n    // Reset the search results on componentDidUnmount to clear store\n    useEffect(() => {\n        return () => resetSearchResults()\n    }, [])\n\n    return <React.Fragment>\n        <SearchBar handleSearchSelect={handleSearchSelect} />\n        <br />\n        <Grid stackable={true}>\n            <Grid.Row>\n                <Grid.Column width=\"10\">\n                    <Header as=\"h2\" style={{ display: \"inline-block\" }}>Card Search</Header>\n\n                    <Divider />\n\n                    <DefaultPlaceholder active={!searchResults.length}>\n                        \"So many cards, so little time.\"\n                    </DefaultPlaceholder>\n\n                    <ReceivingSearchList />\n                </Grid.Column>\n                <Grid.Column width=\"6\">\n                    <Header as=\"h2\" style={{ display: \"inline-block\" }}>\n                        Buylist\n                        <TotalCardsLabel listLength={receivingList.length} />\n                    </Header>\n\n                    <Divider />\n\n                    <DefaultPlaceholder active={!receivingList.length}>\n                        \"If you receive it, they will come.\"\n                     </DefaultPlaceholder>\n\n                    <ReceivingList cards={receivingList} />\n\n                </Grid.Column>\n            </Grid.Row>\n        </Grid>\n    </React.Fragment>\n}\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { GET_ALL_SALES } from '../utils/api_resources';\nimport { Segment, Icon, Grid } from 'semantic-ui-react';\nimport Highcharts from 'highcharts';\nimport moment from 'moment';\nimport _ from 'lodash';\n\nexport default function Reports() {\n    // const [salesData, setSalesData] = useState([]);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        (async () => {\n            setLoading(true);\n\n            const { data } = await axios.get(GET_ALL_SALES);\n            const { sales_data, format_legalities } = data;\n\n            const groupByDay = _.groupBy(sales_data, d => moment(d.sale_data.timeStamp).startOf('day').format());\n\n            const dailySalesTotals = {};\n            const dailyAverageSales = {};\n            const rangeBuckets = {\n                0: 0, // $0.50 to $0.99\n                1: 0, // $1.00 to $4.99 \n                2: 0, // $5.00 to $9.99\n                3: 0, // $10.00 to $19.99\n                4: 0, // $20.00 to $49.99\n                5: 0, // $50.00 and above\n            };\n            const rarityCounts = {};\n\n            // Create daily sales totals\n            _.forOwn(groupByDay, (val, key) => {\n                dailySalesTotals[key] = val.reduce((acc, curr) => acc + curr.sale_data.total, 0);\n            });\n\n            // Create average sales totals\n            _.forOwn(groupByDay, (val, key) => {\n                dailyAverageSales[key] = val.reduce((acc, curr) => acc + curr.sale_data.total, 0) / val.length;\n            });\n\n            // Create range buckets for card prices\n            const cards = [];\n            sales_data.forEach(d => cards.push(...d.card_list));\n            cards.forEach(c => {\n                if (c.price >= 0.5 && c.price < 1) rangeBuckets[0] += c.qtyToSell;\n                if (c.price >= 1 && c.price < 5) rangeBuckets[1] += c.qtyToSell;\n                if (c.price >= 5 && c.price < 10) rangeBuckets[2] += c.qtyToSell;\n                if (c.price >= 10 && c.price < 20) rangeBuckets[3] += c.qtyToSell;\n                if (c.price >= 20 && c.price < 50) rangeBuckets[4] += c.qtyToSell;\n                if (c.price >= 50) rangeBuckets[5] += c.qtyToSell;\n            });\n\n            // Create rarity sales counts\n            cards.forEach(c => {\n                if (rarityCounts[c.rarity]) {\n                    rarityCounts[c.rarity] += c.qtyToSell\n                } else {\n                    rarityCounts[c.rarity] = c.qtyToSell;\n                }\n            });\n\n            // Create format legality data\n            const legalityCounts = { standard: 0, nonStandard: 0 };\n\n            format_legalities.forEach(c => {\n                const qtySold = c.qtyToSell;\n\n                if (!c.legalities) return; // Some cards may not link via mongo $lookup\n\n                if (c.legalities.standard === \"legal\") {\n                    legalityCounts.standard += qtySold;\n                } else {\n                    legalityCounts.nonStandard += qtySold;\n                }\n            });\n\n            // Format data for consumption by Highcharts API\n            const formattedDailySalesTotals = Object.entries(dailySalesTotals).map(el => [new Date(el[0]).getTime(), el[1]]);\n\n            const formattedDailyAverageSales = Object.entries(dailyAverageSales).map(el => [new Date(el[0]).getTime(), el[1]]);\n\n            const formattedRangeBuckets = Object.entries(rangeBuckets).map(d => d[1]);\n\n            const formattedRarityCounts = Object.entries(rarityCounts).map(d => ({ name: d[0], y: d[1] }));\n\n            const formattedLegalities = Object.entries(legalityCounts).map(d => ({ name: d[0], y: d[1] }));\n\n            setLoading(false);\n\n            Highcharts.setOptions({\n                lang: {\n                    thousandsSep: ','\n                }\n            });\n\n            Highcharts.chart('daily-sales', {\n                chart: {\n                    zoomType: 'x'\n                },\n                title: {\n                    text: 'Sales Over Time'\n                },\n                subtitle: {\n                    text: 'Click and drag to zoom'\n                },\n                credits: {\n                    enabled: false\n                },\n                xAxis: {\n                    type: 'datetime',\n                    title: {\n                        text: 'Date'\n                    }\n                },\n                yAxis: {\n                    title: {\n                        text: 'USD ($)'\n                    }\n                },\n                legend: {\n                    enabled: true\n                },\n                series: [{\n                    type: 'spline',\n                    data: formattedDailySalesTotals,\n                    name: 'Total Sales',\n                    tooltip: {\n                        valueDecimals: 2\n                    }\n                }, {\n                    type: 'spline',\n                    data: formattedDailyAverageSales,\n                    name: 'Average Sales',\n                    tooltip: {\n                        valueDecimals: 2\n                    }\n                }]\n            });\n\n            Highcharts.chart('price-buckets', {\n                chart: {\n                    type: 'bar'\n                },\n                title: {\n                    text: 'Cards Sold Per Price Range'\n                },\n                subtitle: {\n                    text: 'All-time'\n                },\n                yAxis: {\n                    min: 0,\n                    title: {\n                        text: 'Number sold'\n                    }\n                },\n                xAxis: {\n                    categories: [\n                        '$0.50 - $0.99',\n                        '$1.00 - $4.99',\n                        '$5.00 - $9.99',\n                        '$10.00 - $19.99',\n                        '$20.00 - $49.99',\n                        '$50.00 +'\n                    ]\n                },\n                plotOptions: {\n                    bar: {\n                        dataLabels: {\n                            enabled: true\n                        }\n                    }\n                },\n                legend: {\n                    enabled: false\n                },\n                credits: {\n                    enabled: false\n                },\n                series: [{\n                    name: \"Total cards\",\n                    data: formattedRangeBuckets\n                }]\n            });\n\n            Highcharts.chart('rarity-sales', {\n                chart: {\n                    plotBackgroundColor: null,\n                    plotBorderWidth: null,\n                    plotShadow: null,\n                    type: 'pie'\n                },\n                title: {\n                    text: 'Cards Sold Per Rarity'\n                },\n                subtitle: {\n                    text: 'All-time'\n                },\n                plotOptions: {\n                    pie: {\n                        dataLabels: {\n                            enabled: true,\n                            format: '<b>{point.name}</b><br>{point.percentage:.0f} %',\n                            distance: -50,\n                            filter: {\n                                property: 'percentage',\n                                operator: '>',\n                                value: 4\n                            }\n                        },\n                        colors: ['#7bb5ed', '#6798c8', '#4b769f', '#2d567c']\n                    }\n                },\n                legend: {\n                    enabled: false\n                },\n                credits: {\n                    enabled: false\n                },\n                series: [{\n                    name: \"Cards Sold\",\n                    data: formattedRarityCounts\n                }]\n            })\n\n            Highcharts.chart('format-legalities', {\n                chart: {\n                    plotBackgroundColor: null,\n                    plotBorderWidth: null,\n                    plotShadow: null,\n                    type: 'pie'\n                },\n                title: {\n                    text: 'Standard vs Non-Standard Sales'\n                },\n                subtitle: {\n                    text: 'All-time'\n                },\n                plotOptions: {\n                    pie: {\n                        dataLabels: {\n                            enabled: true,\n                            format: '<b>{point.name}</b><br>{point.percentage:.0f} %',\n                            distance: -50,\n                            filter: {\n                                property: 'percentage',\n                                operator: '>',\n                                value: 4\n                            }\n                        },\n                        colors: ['#7bb5ed', '#6798c8', '#4b769f', '#2d567c']\n                    }\n                },\n                legend: {\n                    enabled: false\n                },\n                credits: {\n                    enabled: false\n                },\n                series: [{\n                    name: \"Cards Sold\",\n                    data: formattedLegalities\n                }]\n            })\n        })();\n    }, []);\n\n    return (\n        <React.Fragment>\n            <Segment secondary>\n                <Icon name=\"exclamation triangle\" color=\"blue\" />\n                This feature is currently in beta. Metrics may not be entirely accurate. Please contact your development team if you have any feedback!\n            </Segment>\n            <Segment loading={loading}>\n                <div id=\"daily-sales\" style={{ width: \"100%\", height: \"400px\" }} />\n            </Segment>\n            <Grid columns={2} stackable={true}>\n                <Grid.Column>\n                    <Segment loading={loading}>\n                        <div id=\"price-buckets\" style={{ width: \"100%\", height: \"400px\" }} />\n                    </Segment>\n                </Grid.Column>\n                <Grid.Column>\n                    <Segment loading={loading}>\n                        <div id=\"rarity-sales\" style={{ width: \"100%\", height: \"400px\" }} />\n                    </Segment>\n                </Grid.Column>\n                <Grid.Column>\n                    <Segment loading={loading}>\n                        <div id=\"format-legalities\" style={{ width: \"100%\", height: \"400px\" }} />\n                    </Segment>\n                </Grid.Column>\n            </Grid>\n        </React.Fragment>\n    );\n}","import React from 'react';\nimport styled from 'styled-components';\n\nconst Text = styled.p`\n    font-size: 16px;\n    color: black;\n    text-align: left;\n`;\n\nconst Image = styled.img`\n    width: 100%;\n`;\n\nconst Content = styled.div`\n    padding: 2px 16px;\n`;\n\nconst Container = styled.div`\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\n    border-radius: 5px 5px 5px 5px;\n    width: 380px;\n    height: 700px;\n    margin: 10px 10px 10px 10px;\n    overflow: hidden; // This allows us to edit the borders on the card's border-flush images\n\n    @media (max-width: 800px) {\n        width: 320px;\n    }\n`;\n\nexport default function Card({ imageSrc, header, date, children }) {\n    return <Container>\n        <Image src={imageSrc} />\n        <Content>\n            <h3><b>{header}</b></h3>\n            <p><em>{date}</em></p>\n            <Text>{children}</Text>\n        </Content>\n    </Container>\n}","import React from 'react';\nimport styled from 'styled-components';\nimport { Icon, Label } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport Card from './Card';\nimport clubhouse_products from './clubhouse_products.png';\nimport core_2021_draft_booster from './core_2021_draft_booster.png';\nimport core_2021_collector from './core_2021_collector.jpg';\nimport double_masters from './double_masters.png';\nimport zen_meme from './zen_meme.jpg';\n\nconst Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n`;\n\nconst BaseContent = styled.div`\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    margin-top: 52px;\n`;\n\nconst ContentContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    width: 1200px;\n\n    @media (max-width: 800px) {\n        width: 100%;\n        padding: 0px 10px 0px 10px;\n    }\n`;\n\nconst Image = styled.div`\n    background: url(${clubhouse_products});\n    background-size: cover;\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    height: 500px;\n    width: 100%;\n    z-index: -50;\n`;\n\nconst Image2 = styled.div`\n    background: url(${clubhouse_products});\n    background-size: cover;\n    position: absolute;\n    left: 0px;\n    height: 400px;\n    width: 100%;\n    z-index: -50;\n    opacity: 0.15;\n`;\n\nconst ImageMask = styled.div`\n    background-image: linear-gradient(\n        to bottom,\n        rgba(32, 106, 208, 1),\n        rgba(32, 106, 208, 0.85),\n        rgba(32, 106, 208, 0.66),\n        rgba(255, 255, 255, 1)\n    );\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    height: 500px;\n    width: 100%;\n    z-index: -49;\n`;\n\nconst ImageMask2 = styled.div`\n    background-image: linear-gradient(\n        to bottom,\n        rgba(0, 0, 0, 0),\n        rgba(255, 255, 255, 1)\n    );\n    position: absolute;\n    left: 0px;\n    height: 400px;\n    width: 100%;\n    z-index: -49;\n`;\n\nconst Divider = styled.div`\n    display: flex;\n    flex-direction: column;\n    min-height: 400px;\n`;\n\nconst FlexRow = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n`;\n\nconst FlexRowResponsive = styled(FlexRow)`\n    justify-content: flex-start;\n\n    @media (max-width: 800px) {\n        justify-content: center;\n        flex-wrap: wrap;\n    }\n`;\n\nconst SpanStyle = styled.span`\n    margin-right: 10px;\n`;\n\nconst FlexColumn = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n`;\n\nconst Slogan = styled.h1`\n    font-size: 83px;\n    color: white;\n\n    @media (max-width: 800px) {\n        font-size: 45px;\n        text-align: center;\n    }\n`;\n\nconst Header = styled.p`\n    font-size: 50px;\n    margin-top: 0px;\n    color: black;\n\n    @media (max-width: 800px) {\n        font-size: 27px;\n    }\n`;\n\nconst Subheader = styled.p`\n    font-size: 23px;\n    margin-top: 0px;\n    color: ${(props) => props.color || 'black'};\n\n    @media (max-width: 800px) {\n        font-size: 18px;\n        text-align: center;\n    }\n`;\n\nconst Button = styled.button`\n    outline: none;\n    width: 200px;\n    height: 45px;\n    background-color: rgb(33, 133, 208);\n    border-radius: 20px 20px 20px 20px;\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\n    cursor: pointer;\n    margin-right: 20px;\n    margin-top: 10px;\n    font-size: 17px;\n    color: white;\n    border: 0px;\n\n    :hover {\n        background-color: rgb(35, 139, 219);\n        box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.4);\n    }\n`;\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(380px, max-content));\n    grid-gap: 10px;\n    justify-content: center;\n\n    @media (max-width: 800px) {\n        grid-template-columns: repeat(auto-fit, minmax(320px, max-content));\n    }\n`;\n\nconst IconStyled = styled(Icon)`\n    background-color: rgb(33, 133, 208);\n    color: white;\n`;\n\nconst FooterIcon = styled(Icon)`\n    color: white;\n`;\n\nconst BodyText = styled.p`\n    font-size: ${(props) => props.size || '16px'};\n    color: ${(props) => props.color || 'black'};\n    text-align: ${(props) => (props.align === 'center' ? 'center' : 'left')};\n`;\n\nconst Spacer = styled.div`\n    width: 100%;\n    height: ${(props) => props.height || 0}px;\n`;\n\nconst FooterStyle = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    height: 50px;\n    background-color: darkslategray;\n    width: 100%;\n    bottom: 0;\n    padding: 0px 10px 0px 10px;\n`;\n\nconst SocialMedia = styled.div`\n    position: absolute;\n    top: 10px;\n    right: 10px;\n`;\n\nconst ServiceCard = ({\n    icon = 'users',\n    header = 'Header',\n    content = 'Content',\n    align,\n}) => {\n    return (\n        <FlexColumn>\n            <IconStyled circular name={icon} size=\"huge\" />\n            <Subheader>{header}</Subheader>\n            <BodyText color=\"gray\" align={align}>\n                {content}\n            </BodyText>\n        </FlexColumn>\n    );\n};\n\nconst InfoCard = ({\n    icon = 'users',\n    header = 'Header',\n    content = 'Content',\n    align,\n}) => {\n    return (\n        <FlexColumn>\n            <Icon name={icon} size=\"big\" />\n            <Subheader>{header}</Subheader>\n            <BodyText color=\"gray\" align={align}>\n                {content}\n            </BodyText>\n        </FlexColumn>\n    );\n};\n\nexport default function LandingPage() {\n    return (\n        <Wrapper>\n            <BaseContent>\n                <ContentContainer>\n                    <SocialMedia>\n                        <div>\n                            <a\n                                href=\"https://discord.gg/Wpej7dQ\"\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                            >\n                                <FooterIcon link name=\"discord\" size=\"big\" />\n                            </a>\n                            <a\n                                href=\"https://www.facebook.com/RGTClubhouse/\"\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                            >\n                                <FooterIcon link name=\"facebook\" size=\"big\" />\n                            </a>\n                        </div>\n                    </SocialMedia>\n                    <Spacer height=\"30\" />\n                    <Divider>\n                        <Slogan>\n                            The Clubhouse is open{' '}\n                            <span role=\"img\" aria-label=\"confetti\">\n                                \n                            </span>\n                        </Slogan>\n                        <Subheader color=\"white\">\n                            We are open Tuesday through Sunday for all your CCG\n                            needs!{' '}\n                            <em>\n                                (Play space use and events are cancelled until\n                                further notice due to WPN's in-store play\n                                suspension)\n                            </em>\n                        </Subheader>\n                        <FlexRowResponsive>\n                            {/* <Link to=\"/calendar\">\n                            <Button><b>Events calendar</b></Button>\n                        </Link> */}\n                            <Link to=\"/public-inventory\">\n                                <Button>\n                                    <b>Browse cards</b>\n                                </Button>\n                            </Link>\n                        </FlexRowResponsive>\n                        <ImageMask />\n                        <Image />\n                    </Divider>\n\n                    <FlexRow>\n                        <Header>Latest News</Header>\n                    </FlexRow>\n                    <Spacer height=\"30\" />\n                    <Grid>\n                        <Card\n                            imageSrc={zen_meme}\n                            header=\"New product preorders!\"\n                            date=\"09/05/2020\"\n                        >\n                            <p>\n                                Hey everyone! We are excited to announce that we\n                                have begun our Zendikar Rising preorders! Come\n                                on down starting today and lock in your products\n                                of choice. We have the following available:\n                            </p>\n                            <ul>\n                                <li>Regular Booster Box - $100</li>\n                                <li>Collector Booster Box - $209</li>\n                                <li>Set Booster Box - $110</li>\n                                <li>Bundle - $39</li>\n                            </ul>\n\n                            <p>\n                                Hope you're all as excited for the return to the\n                                legendary Zendikar as we are!\n                            </p>\n                        </Card>\n                        <Card\n                            imageSrc={double_masters}\n                            header=\"New product preorders!\"\n                            date=\"06/08/2020\"\n                        >\n                            <p>\n                                <em>\n                                    Note: Preorders for Double Masters are now\n                                    closed.\n                                </em>\n                            </p>\n                            <p>\n                                The time has come! We have had loads of\n                                questions about all the upcoming products, and\n                                we are excited to start taking PRE ORDERS on a\n                                range of upcoming items:\n                            </p>\n                            <ul>\n                                <li>Jump Start $90 per box, Limit 2</li>\n                                <li>Double Masters $249 per box, Limit 2</li>\n                                <li>\n                                    Double Masters VIP $369 per box, No Limit\n                                </li>\n                                <li>Double Master VIP $95 per pack, Limit 1</li>\n                            </ul>\n                        </Card>\n                        <Card\n                            imageSrc={core_2021_collector}\n                            header=\"Collector Booster preorders!\"\n                            date=\"06/02/2020\"\n                        >\n                            <p>\n                                To compound the excitement, We JUST got numbers\n                                on Collector Boosters for Core 2021! We are now\n                                taking pre-orders for those as well! $229 per,\n                                limit 1 box per customer.\n                            </p>\n                        </Card>\n                        <Card\n                            imageSrc={core_2021_draft_booster}\n                            header=\"Core 2021 preorders!\"\n                            date=\"06/02/2020\"\n                        >\n                            <p>\n                                It's already time. Core 2021 is upon us. We are\n                                now taking Booster Box pre-orders! $100 per box,\n                                2 boxes per person limit. Pre-release sign ups\n                                will begin on June 19th!\n                            </p>\n                            <p>\n                                Note: Preorders for draft booster boxes have now\n                                ended. We currently have them for sale at $110\n                                each. Collector Booster preorders will end on\n                                June 3rd.\n                            </p>\n                        </Card>\n                    </Grid>\n\n                    <Spacer height=\"30\" />\n\n                    <Divider>\n                        <Spacer height=\"30\" />\n                        <FlexRow>\n                            <Header>Our Services</Header>\n                        </FlexRow>\n                        <FlexRow>\n                            {/* <Subheader>\n                                We're here for all your CCG needs!\n                            </Subheader> */}\n                        </FlexRow>\n                        <Spacer height=\"30\" />\n                        <Grid>\n                            <ServiceCard\n                                icon=\"box\"\n                                header=\"Large product selection\"\n                                content=\"We stock an extensive selection of singles and CCG supplies just for you! When the deckbuilding itch strikes, turn to us\"\n                                align=\"center\"\n                            />\n                            <ServiceCard\n                                header=\"Inclusive community\"\n                                content=\"We pride ourselves on our friendly atmosphere. Young or seasoned, beginner or advanced, we welcome all players!\"\n                                align=\"center\"\n                            />\n                            <ServiceCard\n                                icon=\"dollar sign\"\n                                header=\"Cash or credit trade-ins\"\n                                content=\"Whether a whole collection or a single card, come on by and have one of our expert managers appraise it using competitive market rates\"\n                                align=\"center\"\n                            />\n                        </Grid>\n                        <ImageMask2 />\n                        <Image2 />\n                    </Divider>\n                    <Spacer height=\"30\" />\n                    <Grid>\n                        <InfoCard\n                            icon=\"clock\"\n                            header=\"Hours\"\n                            content=\"Tues - Fri 2pm to 7pm, Sat - Sun 12pm to 7pm\"\n                            align=\"center\"\n                        />\n                        <InfoCard\n                            icon=\"location arrow\"\n                            header=\"Location\"\n                            content=\"13895 SW Farmington Rd, Beaverton, OR 97005\"\n                            align=\"center\"\n                        />\n                        <InfoCard\n                            icon=\"phone\"\n                            header=\"Contact\"\n                            content=\"(503) 268-1449\"\n                        />\n                    </Grid>\n                    <Spacer height=\"30\" />\n                </ContentContainer>\n            </BaseContent>\n            <FooterStyle>\n                <SpanStyle>\n                    <Link to=\"/login\" id=\"login-btn\">\n                        <Label as=\"a\" color=\"black\">\n                            Staff login\n                        </Label>\n                    </Link>\n                </SpanStyle>\n                <SpanStyle>\n                    <BodyText size=\"12px\" color=\"white\">\n                         2020 The Clubhouse\n                    </BodyText>\n                </SpanStyle>\n                <SpanStyle>\n                    <BodyText size=\"12px\" color=\"gray\">\n                        Powered by Scryfall\n                    </BodyText>\n                </SpanStyle>\n            </FooterStyle>\n        </Wrapper>\n    );\n}\n","import React from 'react';\nimport Header from './Header/Header';\nimport AuthProvider from './context/AuthProvider';\nimport { Switch, Route } from 'react-router-dom';\nimport Home from './ManageInventory/Home';\nimport Sale from './NewSale/Sale';\nimport BrowseSales from './BrowseSales/BrowseSales';\nimport PublicInventory from './PublicInventory/PublicInventory';\nimport DeckboxClone from './DeckboxClone/DeckboxClone';\nimport Login from './Login/Login';\nimport Logout from './Logout/Logout';\nimport Receiving from './Receiving/Receiving';\nimport Reports from './Reports/Reports';\nimport LandingPage from './LandingPage/LandingPage';\nimport styled from 'styled-components';\nimport { SaleProvider } from './context/SaleContext';\nimport { ReceivingProvider } from './context/ReceivingContext';\n\nconst ContentContainer = styled.div`\n    padding-top: 75px;\n    margin-left: 20px;\n    margin-right: 20px;\n`;\n\nconst BackgroundColor = styled.div`\n    background-color: #f9fafb;\n    min-height: 100vh;\n`;\n\nclass App extends React.Component {\n    render() {\n        return (\n            <AuthProvider>\n                <Header />\n                <Switch>\n                    <Route exact path=\"/\" component={LandingPage} />\n                    <BackgroundColor>\n                        <ContentContainer id=\"content-container\">\n                            <Route\n                                exact\n                                path=\"/manage-inventory\"\n                                component={Home}\n                            />\n                            <SaleProvider>\n                                <Route\n                                    exact\n                                    path=\"/new-sale\"\n                                    component={Sale}\n                                />\n                            </SaleProvider>\n                            <Route\n                                exact\n                                path=\"/browse-sales\"\n                                component={BrowseSales}\n                            />\n                            <Route\n                                exact\n                                path=\"/browse-inventory\"\n                                component={DeckboxClone}\n                            />\n                            <Route\n                                exact\n                                path=\"/public-inventory\"\n                                component={PublicInventory}\n                            />\n                            <ReceivingProvider>\n                                <Route\n                                    exact\n                                    path=\"/receiving\"\n                                    component={Receiving}\n                                />\n                            </ReceivingProvider>\n                            <Route exact path=\"/reports\" component={Reports} />\n                            <Route exact path=\"/login\" component={Login} />\n                            <Route exact path=\"/logout\" component={Logout} />\n                        </ContentContainer>\n                    </BackgroundColor>\n                </Switch>\n            </AuthProvider>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { HashRouter } from 'react-router-dom';\nimport 'semantic-ui-css/semantic.min.css';\n\nReactDOM.render(\n    <HashRouter basename='/'>\n        <App />\n    </HashRouter>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}