{"version":3,"sources":["Header/logos/magic-ball.png","utils/api_resources.ts","utils/makeAuthHeader.ts","context/loginQuery.ts","context/AuthProvider.tsx","Header/Header.tsx","common/SearchBar.js","common/QohLabels.js","utils/parseQoh.ts","common/createToast.js","common/CardImage.tsx","common/MarketPrice.tsx","common/Language.js","utils/dropdownOptions.ts","utils/checkCardFinish.ts","utils/ScryfallCard.ts","context/InventoryContext.tsx","ManageInventory/ManageInventoryListItem.js","ManageInventory/ManageInventoryList.js","ManageInventory/AllLocationInventory.js","ManageInventory/ManageInventory.js","context/SaleContext.js","utils/sortSaleList.ts","NewSale/BrowseCardItem.js","NewSale/BrowseCardList.js","common/Price.js","common/TooltipImage.js","NewSale/SaleLineItem.js","NewSale/SalePriceTotal.js","NewSale/FinishSale.js","NewSale/CustomerSaleList.js","NewSale/PrintList.js","NewSale/SuspendedSale.js","common/TotalCardsLabel.js","NewSale/Sale.js","BrowseSales/SalesListItem.js","BrowseSales/SalesList.js","BrowseSales/BrowseSales.js","PublicInventory/PublicCardItem.js","PublicInventory/PublicCardList.js","PublicInventory/PublicInventory.js","DeckboxClone/DeckboxCloneForm.js","DeckboxClone/DeckboxCloneRow.js","DeckboxClone/DeckboxClone.js","Login/Login.js","Logout/Logout.js","context/ReceivingContext.js","Receiving/ReceivingSearchItem.js","Receiving/ReceivingSearchList.js","Receiving/DefaultPlaceholder.js","Receiving/ReceivingListItem.js","Receiving/CashReport.js","Receiving/printCashReport.js","Receiving/ReceivingListModal.js","Receiving/ReceivingListTotals.js","Receiving/ReceivingList.js","Receiving/Receiving.js","LandingPage/Card.js","LandingPage/clubhouse_products.png","LandingPage/core_2021_draft_booster.png","LandingPage/core_2021_collector.jpg","LandingPage/double_masters.png","LandingPage/zen_meme.jpg","LandingPage/kaldheim.png","LandingPage/LandingPage.js","App.tsx","serviceWorker.js","index.js"],"names":["REACT_APP_ENVIRONMENT","process","env","getPrefix","FINISH_SALE","GET_CARD_FROM_ALL_LOCATIONS","ADD_CARD_TO_INVENTORY","RECEIVE_CARDS","GET_CARDS_BY_FILTER","GET_SET_NAMES","SUSPEND_SALE","LOGIN","GET_SALES_BY_TITLE","GET_CARDS_WITH_INFO_PUBLIC","GET_CARDS_WITH_INFO","GET_LIVE_PRICE","makeAuthHeader","Authorization","localStorage","getItem","loginQuery","username","password","currentLocation","a","axios","post","toLowerCase","headers","data","AuthContext","React","createContext","loggedIn","currentUser","AuthProvider","children","useState","setLoggedIn","setCurrentLocation","setCurrentUser","handleLogin","token","setItem","console","log","Provider","value","handleLogout","removeItem","style","background","boxShadow","Header","location","useContext","pathname","useLocation","Menu","inverted","fixed","Item","as","Link","replace","to","src","ballLogo","marginRight","alt","position","active","Dropdown","item","icon","Icon","name","color","Divider","SearchBar","props","isLoading","setIsLoading","results","setResults","handleResultSelect","e","result","setTimeout","$","select","handleSearchSelect","title","Search","onSearchChange","_","debounce","length","get","formattedResults","map","el","slice","leading","trailing","onResultSelect","loading","placeholder","selectFirstResult","id","onFocus","target","onBlur","prettyLabel","finishCondition","labelMap","FOIL_NM","FOIL_LP","FOIL_MP","FOIL_HP","NONFOIL_NM","NONFOIL_LP","NONFOIL_MP","NONFOIL_HP","showInventory","inventoryQty","matchStrings","Object","entries","k","v","includes","QohLabels","parseQoh","foilQty","nonfoilQty","Popup","content","trigger","Label","image","className","Detail","ToastContainer","styled","Message","createToast","header","message","duration","toaster","notify","compact","zIndex","transition","CardImage","image_uris","card_faces","hover","hovered","setHovered","mouseOver","mouseOut","Image","size","transform","onMouseOver","onMouseOut","normal","LabelStyle","foil","displayPrice","price","toFixed","MarketPrice","finish","round","showMid","market","setMarket","median","setMedian","setLoading","isFoil","useEffect","_isMounted","params","scryfallId","marketPrices","medianPrices","Number","n","loader","Math","ceil","LANG_CODES","en","es","fr","de","it","pt","ja","ko","ru","zhs","zht","he","la","grc","ar","sa","px","Language","languageCode","finishes","key","text","cardConditions","checkCardFinish","nonfoil","selectedFinish","finishDisabled","InventoryCard","card","_qoh","quantity","qtyToSell","qoh","this","quantities","printed_name","set","set_name","rarity","colors","type_line","frame_effects","lang","border_color","display_name","cardImage","color_identity","_createDisplayName","_getCardImage","toUpperCase","myImage","InventoryContext","searchResults","changeCardQuantity","InventoryProvider","setSearchResults","term","matchInStock","modeledData","c","copiedState","targetIndex","findIndex","ManageInventoryListItem","setSelectedFinish","onSubmit","selectedCondition","resetForm","parseInt","cardInfo","focus","Segment","Group","divided","Content","fontSize","String","Description","initialValues","validate","errors","isInteger","initialErrors","values","handleSubmit","setFieldValue","isSubmitting","isValid","Form","Field","control","Input","type","label","onChange","Select","options","disabled","Button","primary","onClick","ManageInventoryList","cards","StyledContainer","display","FlexContainer","alignItems","marginLeft","QohLabel","AllLocationInventory","ch1","ch2","setQuantities","Loader","inline","sub","HeaderContainer","justifyContent","ManageInventory","SaleContext","SaleProvider","saleListCards","setSaleListCards","_id","notes","list","suspendedSale","setSuspendedSale","restoreSale","response","suspendSale","customerName","delete","saleList","resetSaleState","ops","deleteSuspendedSale","finalizeSale","saleID","sale_data","Sale","addToSaleList","newCard","oldState","modeledCard","idx","splice","push","sortedCards","ORDER","helpSort","arrayConst","colorsLength","cardFace","sort","b","localeCompare","indexOf","sortSaleList","removeFromSaleList","newState","reject","createConditionOptions","removeZeroedQuantites","pickBy","p","d","conditionFinish","qty","split","join","createInitialSelectedFinish","keysMapped","keys","uniq","BrowseCardItem","selectedFinishCondition","setSelectedFinishCondition","selectedFinishConditionQty","setSelectedFinishConditionQty","quantityToSell","setQuantityToSell","setPrice","conditionOptions","setConditionOptions","selection","numVal","isNaN","step","BrowseCardList","Price","num","TooltipImage","image_uri","posX","left","width","height","borderRadius","BoldHelp","SaleLineItem","mouseInside","setMouseInside","mousePos","setMousePos","Table","Row","Cell","onMouseEnter","rect","getBoundingClientRect","X","clientX","x","onMouseMove","onMouseLeave","singleLine","circular","SalePriceTotal","total","reduce","acc","val","FinishSale","submit","setSubmit","showModal","setShowModal","handleFinalizeSale","modalTrigger","floated","Modal","basic","open","Actions","CustomerSaleList","Fragment","Body","clearing","PrintList","state","printClicked","print","setState","window","Component","div","ClearMargin","CharLimit","SuspendedSale","saleListLength","sales","setSales","setSaleID","modalOpen","setModalOpen","setCustomerName","setNotes","setDisabled","suspendBtn","restoreBtn","deleteBtn","loadingBtn","setLoadingBtn","getSales","clearFields","submitSuspendSale","submitRestoreSale","submitDeleteSale","Grid","columns","stackable","relaxed","Column","substring","TextArea","fluid","s","info","TotalCardsLabel","listLength","displayStr","findSaleCardsQty","curr","ButtonContainer","searchTerm","setSearchTerm","SalesListItem","saleData","quantitySold","cardList","pre","moment","createTime","format","SalesList","celled","unstackable","HeaderCell","card_list","BrowseSales","salesList","cardName","Wrapper","InventoryWrapper","InventoryRow","ImageWrapper","PublicCardItem","qohParsed","displayFoil","displayNonfoil","gridStyle","flexWrap","alignContent","PublicCardList","initialState","selectedLocation","locationOptions","PublicInventory","fetchCards","isSubmitted","paddingTop","Subheader","formatDropdownOptions","priceFilterDropdownOptions","finishDropdownOptions","sortByDropdownOptions","sortByDirectionDropdownOptions","sortByColorDropdownOptions","colorSpecificityDropdownOptions","typeLineOptions","frameOptions","setName","priceNum","priceFilter","sortBy","colorsArray","sortByDirection","colorSpecificity","typeLine","setNames","frame","DeckboxCloneForm","editionDropdownOptions","handleSearchBlur","handleChange","handleDropdownChange","setNameOptions","concatWithBlankOption","concat","widths","search","multiple","defaultValue","labelPosition","conditionMap","NM","LP","MP","HP","DeckboxCloneRow","mouseX","mouseY","mouseEnter","offsetLeft","clientY","offsetTop","mouseLeave","mouseMove","inventory","condition","cursor","DeckboxClone","count","currentPage","numPages","pageArray","cachedFilters","showPages","searchTouched","fetchData","filters","page","pages","range","handlePage","showLeftPageButtons","showRightPageButtons","Container","Dimmer","marginTop","secondary","striped","colSpan","Footer","LoginContainer","FormContainer","Login","raised","Logout","TRADE_TYPES","CASH","CREDIT","LineItem","cardProps","cashPrice","marketPrice","creditPrice","uuid_key","uuid","tradeType","ReceivingContext","ReceivingProvider","receivingList","setReceivingList","commitToInventory","cardsToCommit","addToList","times","removeFromList","remove","activeTradeType","previousState","find","selectAll","selectType","forEach","arr","selectedPrice","resetSearchResults","ReceivingSearchItem","setQuantity","setCashPrice","setCreditPrice","setSelectedCondition","setMarketPrice","handlePriceChange","handleFocus","validateQty","validateTradeTypes","submitDisabled","ReceivingCardList","DefaultPlaceholder","TRADE_TYPE","ReceivingListItem","whiteSpace","CashReport","countByPriceAndID","closeCashModal","chain","filter","temp_uuid","groupBy","mapValues","mergedWithQty","uniqBy","tradeQty","totalCashOut","sumBy","ReceivingListModal","cashTotal","creditTotal","submitToInventory","closeOnDimmerClick","onClose","FlexRow","FlexCol","StatisticColor","Statistic","ReceivingListTotals","showCashModal","setShowCashModal","Or","divToPrint","document","getElementById","popup","write","innerHTML","close","printCashReport","Value","ReceivingList","Receiving","Text","img","Card","imageSrc","date","BaseContent","ContentContainer","clubhouse_products","Image2","ImageMask","ImageMask2","FlexRowResponsive","SpanStyle","span","FlexColumn","Slogan","h1","button","IconStyled","FooterIcon","BodyText","align","Spacer","FooterStyle","SocialMedia","ServiceCard","InfoCard","LandingPage","href","rel","link","role","aria-label","kaldheim","zen_meme","double_masters","core_2021_collector","core_2021_draft_booster","BackgroundColor","App","exact","path","component","Boolean","hostname","match","ReactDOM","render","basename","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.9c1001df.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/magic-ball.85c86bd8.png\";","// Maps all GCF and Scryfall API endpoints for code re-use\nconst { REACT_APP_ENVIRONMENT } = process.env;\n\n/**\n * Check the environment for dev - if dev, we reach out\n * to all endpoints appended by `_test` instead of production\n */\nconst env = REACT_APP_ENVIRONMENT === 'development' ? '_test' : '';\n\n/**\n * Asserts the development env and returns the proper path prefix for resources\n */\nconst getPrefix = () => {\n    return REACT_APP_ENVIRONMENT === 'development'\n        ? 'http://localhost:7331'\n        : 'https://clubhouse-collection.appspot.com';\n};\n\nexport const FINISH_SALE = `${getPrefix()}/auth/finishSale`;\nexport const GET_CARD_FROM_ALL_LOCATIONS = `${getPrefix()}/getCardFromAllLocations`;\nexport const ADD_CARD_TO_INVENTORY = `${getPrefix()}/auth/addCardToInventory`;\nexport const RECEIVE_CARDS = `${getPrefix()}/auth/receiveCards`;\nexport const GET_CARDS_BY_FILTER = `${getPrefix()}/auth/getCardsByFilter`;\nexport const GET_SET_NAMES = `${getPrefix()}/auth/getDistinctSetNames`;\nexport const SUSPEND_SALE = `${getPrefix()}/auth/suspendSale`;\nexport const LOGIN = `${getPrefix()}/jwt`;\nexport const GET_SALES_BY_TITLE = `${getPrefix()}/auth/getSaleByTitle`;\nexport const GET_ALL_SALES = `${getPrefix()}/auth/allSales`;\nexport const GET_CARDS_WITH_INFO_PUBLIC = `${getPrefix()}/getCardsWithInfo`;\nexport const GET_CARDS_WITH_INFO = `${getPrefix()}/auth/getCardsWithInfo`;\nexport const SCRYFALL_SEARCH = 'https://api.scryfall.com/cards/search';\nexport const GET_LIVE_PRICE = `https://us-central1-clubhouse-collection.cloudfunctions.net/getPriceFromTcg${env}`;\nexport const SCRYFALL_AUTOCOMPLETE =\n    'https://api.scryfall.com/cards/autocomplete';\n","/**\n * This function is a helper for Axios, it yields an object for Axios params\n */\nexport default function makeAuthHeader() {\n    const header = {\n        Authorization: `Bearer ${localStorage.getItem('clubhouse_JWT')}`,\n    };\n    return header;\n}\n","import axios from 'axios';\nimport { LOGIN } from '../utils/api_resources';\nimport makeAuthHeader from '../utils/makeAuthHeader';\n\ntype ClubhouseLocation = 'ch1' | 'ch2';\n\ninterface Response {\n    data: { token: string };\n}\n\nconst loginQuery = async (\n    username: string,\n    password: string,\n    currentLocation: ClubhouseLocation\n) => {\n    try {\n        const { data }: Response = await axios.post(\n            LOGIN,\n            {\n                username: username.toLowerCase(),\n                password,\n                currentLocation,\n            },\n            { headers: makeAuthHeader() }\n        );\n\n        return data;\n    } catch (err) {\n        throw err;\n    }\n};\n\nexport default loginQuery;\n","import React, { FC, useState } from 'react';\nimport loginQuery from './loginQuery';\n\ninterface Props {}\n\nexport type ClubhouseLocation = 'ch1' | 'ch2';\n\ninterface Context {\n    loggedIn: boolean;\n    handleLogin?: (\n        username: string,\n        password: string,\n        currentLocation: ClubhouseLocation\n    ) => Promise<any>;\n    handleLogout?: () => void;\n    currentLocation: ClubhouseLocation | null;\n    currentUser: string | null;\n}\n\nexport const AuthContext = React.createContext<Context>({\n    loggedIn: false,\n    currentLocation: null,\n    currentUser: null,\n});\n\nconst AuthProvider: FC<Props> = ({ children }) => {\n    const [loggedIn, setLoggedIn] = useState(\n        !!localStorage.getItem('clubhouse_JWT')\n    );\n\n    const [\n        currentLocation,\n        setCurrentLocation,\n    ] = useState<ClubhouseLocation | null>(\n        localStorage.getItem('currentLocation') as ClubhouseLocation\n    );\n\n    const [currentUser, setCurrentUser] = useState<string | null>(\n        localStorage.getItem('currentUser')\n    );\n\n    const handleLogin = async (\n        username: string,\n        password: string,\n        currentLocation: ClubhouseLocation\n    ) => {\n        try {\n            const data = await loginQuery(username, password, currentLocation);\n\n            if (data.token) {\n                localStorage.setItem('clubhouse_JWT', data.token);\n                setLoggedIn(!!localStorage.getItem('clubhouse_JWT'));\n\n                localStorage.setItem('currentLocation', currentLocation);\n                setCurrentLocation(currentLocation);\n\n                localStorage.setItem('currentUser', username);\n                setCurrentUser(username);\n            }\n\n            return data;\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    const handleLogout = () => {\n        localStorage.removeItem('clubhouse_JWT');\n        setLoggedIn(!!localStorage.getItem('clubhouse_JWT'));\n\n        localStorage.removeItem('currentLocation');\n        setCurrentLocation(null);\n\n        localStorage.removeItem('currentUser');\n        setCurrentUser(null);\n    };\n\n    return (\n        <AuthContext.Provider\n            value={{\n                loggedIn,\n                currentLocation,\n                currentUser,\n                handleLogin,\n                handleLogout,\n            }}\n        >\n            {children}\n        </AuthContext.Provider>\n    );\n};\n\nexport default AuthProvider;\n","import React, { FC, useContext } from 'react';\nimport ballLogo from './logos/magic-ball.png';\nimport { Menu, Icon, Dropdown } from 'semantic-ui-react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { AuthContext, ClubhouseLocation } from '../context/AuthProvider';\n\nconst style = {\n    background: 'linear-gradient(#2185d0, #206ac6)',\n    boxShadow: '0 3px 5px 0 rgba(0,0,0,.25)',\n};\n\nconst getClubhouseLocationName = (location: ClubhouseLocation | null) => {\n    if (location === 'ch1') return 'Beaverton';\n    if (location === 'ch2') return 'Hillsboro';\n    return '';\n};\n\ninterface Props {}\n\nconst Header: FC<Props> = () => {\n    const { loggedIn, currentLocation, currentUser } = useContext(AuthContext);\n    const { pathname } = useLocation();\n\n    return (\n        <Menu inverted fixed=\"top\" style={style}>\n            <Menu.Item as={Link} replace to=\"/\">\n                <img src={ballLogo} style={{ marginRight: '7px' }} alt=\"logo\" />\n                <span>\n                    <h3>\n                        Clubhouse Collection{' '}\n                        {getClubhouseLocationName(currentLocation)}\n                    </h3>\n                </span>\n            </Menu.Item>\n            {currentUser && (\n                <Menu.Item>\n                    <span>\n                        Currently logged in as <b>{currentUser}</b>\n                    </span>\n                </Menu.Item>\n            )}\n            <Menu.Menu position=\"right\">\n                <Menu.Item\n                    active={pathname === '/public-inventory'}\n                    position=\"right\"\n                    as={Link}\n                    replace\n                    to=\"/public-inventory\"\n                >\n                    Search\n                </Menu.Item>\n                {loggedIn && (\n                    <Dropdown item icon=\"bars\">\n                        <Dropdown.Menu>\n                            <Dropdown.Item\n                                active={pathname === '/manage-inventory'}\n                                as={Link}\n                                replace\n                                to=\"/manage-inventory\"\n                            >\n                                <Icon name=\"plus\" color=\"blue\" />\n                                Manage Inventory\n                            </Dropdown.Item>\n                            <Dropdown.Item\n                                active={pathname === '/new-sale'}\n                                as={Link}\n                                replace\n                                to=\"/new-sale\"\n                            >\n                                <Icon name=\"dollar sign\" color=\"blue\" />\n                                New Sale\n                            </Dropdown.Item>\n                            <Dropdown.Item\n                                active={pathname === '/receiving'}\n                                as={Link}\n                                replace\n                                to=\"/receiving\"\n                            >\n                                <Icon\n                                    name=\"list alternate outline\"\n                                    color=\"blue\"\n                                />\n                                Receiving\n                            </Dropdown.Item>\n                            <Dropdown.Divider />\n                            <Dropdown.Item\n                                active={pathname === '/browse-inventory'}\n                                as={Link}\n                                replace\n                                to=\"/browse-inventory\"\n                            >\n                                <Icon name=\"box\" color=\"blue\" />\n                                Browse Inventory\n                            </Dropdown.Item>\n                            <Dropdown.Item\n                                active={pathname === '/browse-sales'}\n                                as={Link}\n                                replace\n                                to=\"/browse-sales\"\n                            >\n                                <Icon name=\"eye\" color=\"blue\" />\n                                Browse Sales\n                            </Dropdown.Item>\n                            <Dropdown.Divider />\n                            <Dropdown.Item\n                                active={pathname === '/logout'}\n                                as={Link}\n                                replace\n                                to=\"/logout\"\n                            >\n                                <Icon name=\"log out\" color=\"blue\" />\n                                Log out\n                            </Dropdown.Item>\n                        </Dropdown.Menu>\n                    </Dropdown>\n                )}\n            </Menu.Menu>\n        </Menu>\n    );\n};\n\nexport default Header;\n","import React, { useState } from 'react';\nimport { Search } from 'semantic-ui-react';\nimport _ from 'lodash';\nimport axios from 'axios';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport { SCRYFALL_AUTOCOMPLETE } from '../utils/api_resources';\nimport $ from 'jquery';\n\nexport default function SearchBar(props) {\n    const [isLoading, setIsLoading] = useState(false);\n    const [results, setResults] = useState([]);\n\n    const handleSearchChange = (e, { value }) => {\n        // `value` is the search input string\n        if (value.length < 1) {\n            setIsLoading(false);\n            setResults([]);\n            return;\n        }\n\n        if (value.length < 3) return; // Don't search if only 2 letters in input\n\n        setIsLoading(true);\n\n        setTimeout(async () => {\n            const { data } = await axios.get(\n                `${SCRYFALL_AUTOCOMPLETE}?q=${value}`,\n                {\n                    headers: makeAuthHeader(),\n                }\n            );\n\n            const formattedResults = data.data\n                .map((el) => ({ title: el }))\n                .slice(0, 7);\n\n            setResults(formattedResults);\n            setIsLoading(false);\n        }, 100);\n    };\n\n    const handleResultSelect = async (e, { result }) => {\n        // This line is a hacky way to get around the fact that if we just select(), then\n        // when the user manually clicks the first (or any) result in the resultlist, it does not select,\n        // presumably because there is some collision between selecting the resultList element and focusing the input\n        setTimeout(() => $('#searchBar').select(), 10);\n        try {\n            setIsLoading(true);\n            await props.handleSearchSelect(result.title);\n            setIsLoading(false);\n        } catch (e) {\n            console.log(e);\n        }\n    };\n\n    return (\n        <Search\n            onSearchChange={_.debounce(handleSearchChange, 500, {\n                leading: false,\n                trailing: true,\n            })}\n            onResultSelect={handleResultSelect}\n            loading={isLoading}\n            results={results}\n            placeholder=\"Enter a card title\"\n            selectFirstResult={true}\n            id=\"searchBar\"\n            onFocus={(e) => e.target.select()}\n            onBlur={props.onBlur} // Used to clear state in the Browse Inventory feature\n        />\n    );\n}\n","import React from 'react';\nimport { Label, Popup } from 'semantic-ui-react';\nimport parseQoh from '../utils/parseQoh';\n\n// This component parses the `qoh` object from mongo into something\n// more presentable\n\n// available entries:\n// {\n//     FOIL_NM: 0,\n//     FOIL_LP: 0,\n//     FOIL_MP: 0,\n//     FOIL_HP: 0,\n//     NONFOIL_NM: 0,\n//     NONFOIL_LP: 0,\n//     NONFOIL_MP: 0,\n//     NONFOIL_HP: 0\n// };\n\n/**\n * Maps a database label to a pretty display version of the label for display\n */\nconst prettyLabel = (finishCondition) => {\n    const labelMap = {\n        FOIL_NM: 'Foil (NM)',\n        FOIL_LP: 'Foil (LP)',\n        FOIL_MP: 'Foil (MP)',\n        FOIL_HP: 'Foil (HP)',\n        NONFOIL_NM: 'Nonfoil (NM)',\n        NONFOIL_LP: 'Nonfoil (LP)',\n        NONFOIL_MP: 'Nonfoil (MP)',\n        NONFOIL_HP: 'Nonfoil (HP)',\n    };\n\n    return labelMap[finishCondition] ? labelMap[finishCondition] : 'Not found';\n};\n\n/**\n * Takes in inventoryQty and a list of strings to match. If the strings are in the list,\n * they will render\n *\n * @param {object} inventoryQty\n * @param {object} matchStrings\n */\nconst showInventory = (inventoryQty, matchStrings) => {\n    return Object.entries(inventoryQty).map(([k, v]) => {\n        if (matchStrings.includes(k) && v > 0) {\n            return (\n                <p>\n                    {prettyLabel(k)}: {v}\n                </p>\n            );\n        }\n    });\n};\n\nexport default function QohLabels({ inventoryQty }) {\n    const [foilQty, nonfoilQty] = parseQoh(inventoryQty);\n\n    return (\n        <>\n            <Popup\n                content={\n                    foilQty > 0\n                        ? showInventory(inventoryQty, [\n                              'FOIL_NM',\n                              'FOIL_LP',\n                              'FOIL_MP',\n                              'FOIL_HP',\n                          ])\n                        : 'None in stock'\n                }\n                trigger={\n                    <Label\n                        color={foilQty > 0 ? 'blue' : 'transparent'}\n                        image\n                        className=\"foil-label\"\n                    >\n                        Foil\n                        <Label.Detail className=\"foil-label-qty\">\n                            {foilQty}\n                        </Label.Detail>\n                    </Label>\n                }\n            />\n            <Popup\n                content={\n                    nonfoilQty > 0\n                        ? showInventory(inventoryQty, [\n                              'NONFOIL_NM',\n                              'NONFOIL_LP',\n                              'NONFOIL_MP',\n                              'NONFOIL_HP',\n                          ])\n                        : 'None in stock'\n                }\n                trigger={\n                    <Label\n                        color={nonfoilQty > 0 ? 'blue' : 'transparent'}\n                        image\n                        className=\"nonfoil-label\"\n                    >\n                        Nonfoil\n                        <Label.Detail className=\"nonfoil-label-qty\">\n                            {nonfoilQty}\n                        </Label.Detail>\n                    </Label>\n                }\n            />\n        </>\n    );\n}\n","import { QOH } from './ScryfallCard';\n\nexport default function parseQoh(inventoryQty: QOH): [number, number] {\n    let foilQty = 0;\n    let nonfoilQty = 0;\n\n    foilQty =\n        (inventoryQty.FOIL_NM || 0) +\n        (inventoryQty.FOIL_LP || 0) +\n        (inventoryQty.FOIL_MP || 0) +\n        (inventoryQty.FOIL_HP || 0);\n\n    nonfoilQty =\n        (inventoryQty.NONFOIL_NM || 0) +\n        (inventoryQty.NONFOIL_LP || 0) +\n        (inventoryQty.NONFOIL_MP || 0) +\n        (inventoryQty.NONFOIL_HP || 0);\n\n    return [foilQty, nonfoilQty];\n}\n","import React from 'react';\nimport { Message } from 'semantic-ui-react';\nimport toaster from 'toasted-notes';\nimport styled from 'styled-components';\n\nconst ToastContainer = styled(Message)`\n    position: relative;\n    right: 10px;\n    bottom: 10px;\n`;\n\nconst createToast = ({ color, header, message, duration = 2000 }) => {\n    return toaster.notify(\n        () => (\n            <ToastContainer color={color} compact>\n                <Message.Header>{header}</Message.Header>\n                {message}\n            </ToastContainer>\n        ),\n        {\n            position: 'bottom-right',\n            duration: duration\n        }\n    );\n}\n\nexport default createToast;","import React, { FC, useState } from 'react';\nimport { Image } from 'semantic-ui-react';\nimport { ImageURIs, CardFace } from '../utils/ScryfallCard';\n\nconst style = {\n    boxShadow: '2px 2px 5px 0 rgba(0,0,0,.25)',\n    zIndex: '10',\n    transition: 'all .2s ease-in-out',\n};\n\ninterface Props {\n    image_uris: ImageURIs;\n    card_faces: CardFace[];\n    image: string;\n    hover: boolean;\n}\n\nconst CardImage: FC<Props> = ({\n    image_uris,\n    card_faces,\n    image,\n    hover = true,\n}) => {\n    const [hovered, setHovered] = useState<boolean>(false);\n\n    const mouseOver = () => setHovered(true);\n    const mouseOut = () => setHovered(false);\n\n    if (image) {\n        return (\n            <Image\n                src={image}\n                size=\"tiny\"\n                style={{\n                    ...style,\n                    transform: `${hovered ? 'scale(1.75)' : 'scale(1)'}`,\n                }}\n                onMouseOver={hover ? mouseOver : null}\n                onMouseOut={hover ? mouseOut : null}\n            />\n        );\n    }\n\n    // TODO: This is obsolete logic that should be refactored out once all components ingest the ScryfallCard class,\n    // which manages the correct image URL itself\n    try {\n        // If normal prop `image_uris.normal` doesn't exist, move to catch block for flip card faces\n        return (\n            <Image\n                src={image_uris.normal}\n                size=\"tiny\"\n                style={{\n                    ...style,\n                    transform: `${hovered ? 'scale(1.75)' : 'scale(1)'}`,\n                }}\n                onMouseOver={hover ? mouseOver : null}\n                onMouseOut={hover ? mouseOut : null}\n            />\n        );\n    } catch (e) {\n        return (\n            <Image\n                src={card_faces[0].image_uris.normal}\n                size=\"tiny\"\n                style={{\n                    ...style,\n                    transform: `${hovered ? 'scale(1.75)' : 'scale(1)'}`,\n                }}\n                onMouseOver={hover ? mouseOver : null}\n                onMouseOut={hover ? mouseOut : null}\n            />\n        );\n    }\n};\n\nexport default CardImage;\n","import React, { useState, useEffect, FC } from 'react';\nimport axios from 'axios';\nimport { GET_LIVE_PRICE } from '../utils/api_resources';\nimport { Label, Icon } from 'semantic-ui-react';\nimport styled from 'styled-components';\n\nconst LabelStyle = styled(Label)`\n    background-color: ${(props) =>\n        !!props.foil ? '#ffcfdf' : null} !important;\n    background-image: ${(props) =>\n        !!props.foil\n            ? 'linear-gradient(90deg, #ffcfdf 0%, #b0f3f1 74%)'\n            : null} !important;\n`;\n\ninterface Response {\n    data: {\n        marketPrices: { foil: number; normal: number };\n        medianPrices: { foil: number; normal: number };\n    };\n}\n\ninterface Props {\n    id: string;\n    finish: 'FOIL' | 'NONFOIL';\n    round: boolean;\n    showMid: boolean;\n}\n\n// Rounds the passed number to the nearest fifty cents\nconst roundNearestStep = (n: number) => Math.ceil(n * 2) / 2;\n\nconst displayPrice = (price: number | null) =>\n    !!price ? `$${price.toFixed(2)}` : 'N/A';\n\nconst MarketPrice: FC<Props> = ({ id, finish, round, showMid = true }) => {\n    const [market, setMarket] = useState<number | null>(null);\n    const [median, setMedian] = useState<number | null>(null);\n    const [loading, setLoading] = useState<boolean>(false);\n    const isFoil = finish === 'FOIL';\n\n    useEffect(() => {\n        (async function fetchData() {\n            let _isMounted = true;\n            setLoading(true);\n\n            const { data }: Response = await axios.get(GET_LIVE_PRICE, {\n                params: { scryfallId: id },\n            });\n            const { marketPrices, medianPrices } = data;\n\n            if (_isMounted) {\n                if (isFoil) {\n                    setMarket(Number(marketPrices.foil));\n                    setMedian(Number(medianPrices.foil));\n                } else {\n                    setMarket(Number(marketPrices.normal));\n                    setMedian(Number(medianPrices.normal));\n                }\n\n                setLoading(false);\n            }\n\n            return () => (_isMounted = false);\n        })();\n    }, [id, finish]);\n\n    const loader = (\n        <span>\n            Loading <Icon loading name=\"spinner\" />\n        </span>\n    );\n\n    return (\n        <>\n            <LabelStyle foil={isFoil}>\n                {loading ? (\n                    loader\n                ) : (\n                    <span>\n                        Mkt.{' '}\n                        {round\n                            ? displayPrice(\n                                  market ? roundNearestStep(market) : null\n                              )\n                            : displayPrice(market)}\n                    </span>\n                )}\n            </LabelStyle>\n            {showMid && (\n                <LabelStyle foil={isFoil}>\n                    {loading ? (\n                        loader\n                    ) : (\n                        <span>Mid. {displayPrice(median)}</span>\n                    )}\n                </LabelStyle>\n            )}\n        </>\n    );\n};\n\nexport default MarketPrice;\n","import React from 'react';\nimport { Label } from 'semantic-ui-react';\n\n// Language codes from Scryfall. See https://scryfall.com/docs/api/languages for reference.\nconst LANG_CODES = {\n    en: 'English',\n    es: 'Spanish',\n    fr: 'French',\n    de: 'German',\n    it: 'Italian',\n    pt: 'Portuguese',\n    ja: 'Japanese',\n    ko: 'Korean',\n    ru: 'Russian',\n    zhs: 'Simplified Chinese',\n    zht: 'Traditional Chinese',\n    he: 'Hebrew',\n    la: 'Latin',\n    grc: 'Ancient Greek',\n    ar: 'Arabic',\n    sa: 'Sanskrit',\n    px: 'Phyrexian'\n}\n\nexport default function Language({ languageCode }) {\n    return <Label image color=\"grey\">{LANG_CODES[languageCode]}</Label>\n}","export const finishes = [\n    { key: 'NONFOIL', text: 'Nonfoil', value: 'NONFOIL' },\n    { key: 'FOIL', text: 'Foil', value: 'FOIL' },\n];\n\nexport const cardConditions = [\n    { key: 'NM', text: 'Near Mint', value: 'NM' },\n    { key: 'LP', text: 'Light Play', value: 'LP' },\n    { key: 'MP', text: 'Moderate Play', value: 'MP' },\n    { key: 'HP', text: 'Heavy Play', value: 'HP' },\n];\n","/**\n * Seeds state from props. Used to determine if cards have only foil, nonfoil, or both printings\n * from their `foil` and `nonfoil` properties\n *\n * @param {Boolean} nonfoilProp\n * @param {Boolean} foilProp\n */\nexport default function checkCardFinish(nonfoil: boolean, foil: boolean) {\n    if (!nonfoil && foil) {\n        return { selectedFinish: 'FOIL', finishDisabled: true };\n    } else if (nonfoil && !foil) {\n        return { selectedFinish: 'NONFOIL', finishDisabled: true };\n    } else if (nonfoil && foil) {\n        return { selectedFinish: 'NONFOIL', finishDisabled: false };\n    }\n}\n","export interface QOH {\n    FOIL_NM: number;\n    FOIL_LP: number;\n    FOIL_MP: number;\n    FOIL_HP: number;\n    NONFOIL_NM: number;\n    NONFOIL_LP: number;\n    NONFOIL_MP: number;\n    NONFOIL_HP: number;\n}\n\nexport interface ImageURIs {\n    normal: string;\n}\n\nexport interface CardFace {\n    colors: string[];\n    type_line: string;\n    color_identity: string[];\n    image_uris: ImageURIs;\n}\n\nexport interface ScryfallApiCard {\n    id: string;\n    name: string;\n    printed_name: string;\n    set: string;\n    set_name: string;\n    rarity: string;\n    image_uris: ImageURIs;\n    card_faces: CardFace[];\n    nonfoil: boolean;\n    foil: boolean;\n    colors: string[];\n    type_line: string;\n    frame_effects: string[];\n    lang: string;\n    border_color: string;\n    display_name: string;\n    cardImage: string;\n    color_identity: string[];\n    qoh?: Partial<QOH>;\n    quantity?: number;\n    qtyToSell?: number;\n    finishCondition?: string;\n    price?: number;\n}\n\n/**\n * This class wraps the Scryfall API request data and models it to something we can control.\n * Also acts as a safeguard for any future updates to Scryfall's API data model and makes\n * the code easier to maintain and debug.\n */\nexport class ScryfallCard {\n    public id: string;\n    public name: string;\n    public printed_name: string | null;\n    public set: string;\n    public set_name: string;\n    public rarity: string;\n    public image_uris: { normal: string };\n    public card_faces: CardFace[];\n    public nonfoil: boolean;\n    public foil: boolean;\n    public colors: string[];\n    public type_line: string;\n    public frame_effects: string[];\n    public lang: string;\n    public border_color: string;\n    public display_name: string;\n    public cardImage: string;\n    public color_identity: string[];\n\n    public constructor(card: ScryfallApiCard) {\n        this.id = card.id;\n        this.name = card.name;\n        this.printed_name = card.printed_name || null;\n        this.set = card.set;\n        this.set_name = card.set_name;\n        this.rarity = card.rarity;\n        this.image_uris = card.image_uris || null;\n        this.card_faces = card.card_faces || null;\n        this.nonfoil = card.nonfoil;\n        this.foil = card.foil;\n        this.colors = card.colors;\n        this.type_line = card.type_line;\n        this.frame_effects = card.frame_effects || [];\n        this.lang = card.lang || '';\n        this.border_color = card.border_color;\n        this.display_name = this._createDisplayName();\n        this.cardImage = this._getCardImage();\n        this.color_identity = card.color_identity || null;\n    }\n\n    // Computes the proper displayName for a card, depending on its properties\n    _createDisplayName() {\n        const { name, printed_name, frame_effects, border_color, lang } = this;\n\n        if (lang !== 'en') return `${name} (${lang.toUpperCase()})`;\n\n        if (name !== printed_name && printed_name) {\n            // Covers cards like Godzilla series\n            return `${name} (IP series)`;\n        } else if (\n            frame_effects.length === 0 &&\n            border_color === 'borderless'\n        ) {\n            // Covers cards like comic-art Vivien, Monsters' Advocate\n            return `${name} (Borderless)`;\n        } else if (frame_effects.includes('showcase')) {\n            // Covers showcase cards like comic-art Illuna, Apex of Wishes\n            return `${name} (Showcase)`;\n        } else if (frame_effects.includes('extendedart')) {\n            // Covers cards with extended left and roght border art\n            return `${name} (Extended art)`;\n        } else {\n            return name;\n        }\n    }\n\n    _getCardImage() {\n        let myImage: string;\n\n        try {\n            // If normal prop doesn't exist, move to catch block for flip card faces\n            myImage = this.image_uris.normal;\n        } catch (e) {\n            myImage = this.card_faces[0].image_uris.normal;\n        }\n\n        return myImage;\n    }\n}\n\n/**\n * Extends the Scryfall card object and adds properties we know exist in our database.\n * Models the data and makes writing cards to Mongo a more confident process.\n */\nexport class InventoryCard extends ScryfallCard {\n    private _qoh: Partial<QOH>;\n    public quantity: number | null;\n    public qtyToSell: number | null;\n    public finishCondition: string | null;\n    public price: number | null;\n\n    public constructor(card: ScryfallApiCard) {\n        super(card);\n        this._qoh = card.qoh ? card.qoh : {};\n        // `quantity` and `qtyToSell` are redundant transaction props, unify them down the line\n        this.quantity = card.quantity || null;\n        this.qtyToSell = card.qtyToSell || null;\n        this.finishCondition = card.finishCondition || null;\n        this.price = card.price && card.price >= 0 ? card.price : null;\n    }\n\n    get qohParsed() {\n        const foilQty =\n            (this._qoh.FOIL_NM || 0) +\n            (this._qoh.FOIL_LP || 0) +\n            (this._qoh.FOIL_MP || 0) +\n            (this._qoh.FOIL_HP || 0);\n\n        const nonfoilQty =\n            (this._qoh.NONFOIL_NM || 0) +\n            (this._qoh.NONFOIL_LP || 0) +\n            (this._qoh.NONFOIL_MP || 0) +\n            (this._qoh.NONFOIL_HP || 0);\n\n        return [foilQty, nonfoilQty];\n    }\n\n    get qoh() {\n        return this._qoh;\n    }\n\n    set qoh(quantities) {\n        this._qoh = quantities ? quantities : {};\n    }\n}\n","import axios from 'axios';\nimport React, { createContext, FC, useState } from 'react';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport { InventoryCard, QOH, ScryfallApiCard } from '../utils/ScryfallCard';\nimport { GET_CARDS_WITH_INFO } from '../utils/api_resources';\n\ninterface Props {}\n\ninterface Context {\n    searchResults: InventoryCard[];\n    changeCardQuantity: (id: string, qoh: QOH) => void;\n    handleSearchSelect: (term: string) => void;\n}\n\nexport const InventoryContext = createContext<Context>({\n    searchResults: [],\n    changeCardQuantity: () => null,\n    handleSearchSelect: () => null,\n});\n\nconst InventoryProvider: FC<Props> = ({ children }) => {\n    const [searchResults, setSearchResults] = useState<InventoryCard[]>([]);\n\n    const handleSearchSelect = async (term: string) => {\n        try {\n            const { data }: { data: ScryfallApiCard[] } = await axios.get(\n                GET_CARDS_WITH_INFO,\n                {\n                    params: { title: term, matchInStock: false },\n                    headers: makeAuthHeader(),\n                }\n            );\n\n            const modeledData = data.map((c) => new InventoryCard(c));\n\n            setSearchResults(modeledData);\n        } catch (e) {\n            console.log(e);\n        }\n    };\n\n    const changeCardQuantity = (id: string, qoh: QOH) => {\n        const copiedState = [...searchResults];\n        const targetIndex = copiedState.findIndex((e) => e.id === id);\n        copiedState[targetIndex].qoh = qoh;\n        setSearchResults(copiedState);\n    };\n\n    return (\n        <InventoryContext.Provider\n            value={{ searchResults, changeCardQuantity, handleSearchSelect }}\n        >\n            {children}\n        </InventoryContext.Provider>\n    );\n};\n\nexport default InventoryProvider;\n","import React, { useContext, useState } from 'react';\nimport {\n    Segment,\n    Input,\n    Button,\n    Form,\n    Select,\n    Label,\n    Item,\n} from 'semantic-ui-react';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport { Formik } from 'formik';\nimport QohLabels from '../common/QohLabels';\nimport createToast from '../common/createToast';\nimport CardImage from '../common/CardImage';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport MarketPrice from '../common/MarketPrice';\nimport { ADD_CARD_TO_INVENTORY } from '../utils/api_resources';\nimport Language from '../common/Language';\nimport { finishes, cardConditions } from '../utils/dropdownOptions';\nimport checkCardFinish from '../utils/checkCardFinish';\nimport { InventoryContext } from '../context/InventoryContext';\n\nexport default function ManageInventoryListItem({\n    qoh,\n    foil,\n    nonfoil,\n    name,\n    set_name,\n    set,\n    rarity,\n    id,\n    cardImage,\n    lang,\n}) {\n    const [selectedFinish, setSelectedFinish] = useState(\n        checkCardFinish(nonfoil, foil).selectedFinish\n    );\n\n    const { changeCardQuantity } = useContext(InventoryContext);\n\n    const validate = ({ quantity }) => {\n        const errors = {};\n\n        if (\n            !Number(quantity) ||\n            !Number.isInteger(+quantity) ||\n            +quantity > 100\n        )\n            errors.quantity = 'error';\n\n        return errors;\n    };\n\n    const onSubmit = async (\n        { quantity, selectedFinish, selectedCondition },\n        { resetForm }\n    ) => {\n        try {\n            const { data } = await axios.post(\n                ADD_CARD_TO_INVENTORY,\n                {\n                    quantity: parseInt(quantity, 10),\n                    finishCondition: `${selectedFinish}_${selectedCondition}`,\n                    cardInfo: { id, name, set_name, set },\n                },\n                { headers: makeAuthHeader() }\n            );\n\n            // Imperatively reset the form using Formik actions\n            resetForm();\n\n            changeCardQuantity(id, data.qoh);\n\n            createToast({\n                color: 'green',\n                header: `${quantity}x ${name} ${\n                    quantity > 0 ? 'added' : 'removed'\n                }!`,\n                duration: 2000,\n            });\n\n            // Highlight the input after successful card add\n            $('#searchBar').focus().select();\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    return (\n        <Segment>\n            <Item.Group divided>\n                <Item>\n                    <Item.Image size=\"tiny\">\n                        <CardImage image={cardImage} />\n                    </Item.Image>\n                    <Item.Content>\n                        <Item.Header as=\"h3\">\n                            {name}{' '}\n                            <i\n                                className={`ss ss-fw ss-${set} ss-${rarity}`}\n                                style={{ fontSize: '30px' }}\n                            />\n                            <Label color=\"grey\">\n                                {set_name} ({String(set).toUpperCase()})\n                            </Label>\n                            <QohLabels inventoryQty={qoh} />{' '}\n                            <MarketPrice id={id} finish={selectedFinish} />\n                            <Language languageCode={lang} />\n                        </Item.Header>\n                        <Item.Description>\n                            <Formik\n                                initialValues={{\n                                    selectedFinish: checkCardFinish(\n                                        nonfoil,\n                                        foil\n                                    ).selectedFinish,\n                                    selectedCondition: 'NM',\n                                    quantity: 0,\n                                }}\n                                validate={validate}\n                                onSubmit={onSubmit}\n                                initialErrors={{ quantity: 'error' }}\n                            >\n                                {({\n                                    values,\n                                    handleSubmit,\n                                    setFieldValue,\n                                    isSubmitting,\n                                    isValid,\n                                }) => (\n                                    <Form>\n                                        <Form.Group>\n                                            <Form.Field\n                                                control={Input}\n                                                type=\"number\"\n                                                label=\"Quantity\"\n                                                value={values.quantity}\n                                                onChange={(_, { value }) =>\n                                                    setFieldValue(\n                                                        'quantity',\n                                                        value\n                                                    )\n                                                }\n                                                onFocus={() => {\n                                                    if (\n                                                        +values.quantity === 0\n                                                    ) {\n                                                        setFieldValue(\n                                                            'quantity',\n                                                            ''\n                                                        );\n                                                    }\n                                                }}\n                                            />\n                                            <Form.Field\n                                                label=\"Finish\"\n                                                control={Select}\n                                                value={values.selectedFinish}\n                                                options={finishes}\n                                                disabled={\n                                                    checkCardFinish(\n                                                        nonfoil,\n                                                        foil\n                                                    ).finishDisabled\n                                                }\n                                                onChange={(_, { value }) => {\n                                                    setSelectedFinish(value);\n                                                    setFieldValue(\n                                                        'selectedFinish',\n                                                        value\n                                                    );\n                                                }}\n                                            />\n                                            <Form.Field\n                                                label=\"Condition\"\n                                                control={Select}\n                                                value={values.selectedCondition}\n                                                options={cardConditions}\n                                                onChange={(_, { value }) =>\n                                                    setFieldValue(\n                                                        'selectedCondition',\n                                                        value\n                                                    )\n                                                }\n                                            />\n                                            <Form.Button\n                                                label=\"Add to Inventory?\"\n                                                control={Button}\n                                                primary\n                                                disabled={\n                                                    !isValid || isSubmitting\n                                                }\n                                                onClick={handleSubmit}\n                                                loading={isSubmitting}\n                                            >\n                                                Submit\n                                            </Form.Button>\n                                        </Form.Group>\n                                    </Form>\n                                )}\n                            </Formik>\n                        </Item.Description>\n                    </Item.Content>\n                </Item>\n            </Item.Group>\n        </Segment>\n    );\n}\n","import React from 'react';\nimport ManageInventoryListItem from './ManageInventoryListItem';\n\nexport default function ManageInventoryList(props) {\n    return props.cards.map((card) => {\n        return (\n            <ManageInventoryListItem key={card.id} {...card} qoh={card.qoh} />\n        );\n    });\n}\n","import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { Header, Label, Loader } from 'semantic-ui-react';\nimport styled from 'styled-components';\nimport { GET_CARD_FROM_ALL_LOCATIONS } from '../utils/api_resources';\n\nconst StyledContainer = styled('div')({\n    display: 'inline',\n});\n\nconst FlexContainer = styled('div')({\n    display: 'flex',\n    alignItems: 'center',\n    '& > *': {\n        marginLeft: '10px',\n    },\n});\n\nconst QohLabel = ({ label, value }) => (\n    <Label {...(value > 0 && { color: 'blue' })} image>\n        {label}\n        <Label.Detail>{value}</Label.Detail>\n    </Label>\n);\n\n// TODO: refetch on result set change\nexport default function AllLocationInventory({ title, searchResults }) {\n    const [quantities, setQuantities] = useState({\n        ch1: { foilQty: 0, nonfoilQty: 0 },\n        ch2: { foilQty: 0, nonfoilQty: 0 },\n    });\n\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        (async () => {\n            try {\n                setLoading(true);\n                const { data } = await axios.get(GET_CARD_FROM_ALL_LOCATIONS, {\n                    params: { title },\n                });\n\n                setQuantities(data);\n                setLoading(false);\n            } catch (err) {\n                console.log(err);\n            }\n        })();\n    }, [title, searchResults]);\n\n    return loading ? (\n        <FlexContainer>\n            <span>Loading totals for all locations</span>\n            <div>\n                <Loader active inline size=\"small\" />\n            </div>\n        </FlexContainer>\n    ) : (\n        <FlexContainer>\n            <div>\n                <Header sub>Beaverton totals:</Header>\n                <StyledContainer>\n                    <QohLabel label=\"Foil\" value={quantities.ch1.foilQty} />\n                    <QohLabel\n                        label=\"Nonfoil\"\n                        value={quantities.ch1.nonfoilQty}\n                    />\n                </StyledContainer>\n            </div>\n            <div>\n                <Header sub>Hillsboro totals:</Header>\n                <StyledContainer>\n                    <QohLabel label=\"Foil\" value={quantities.ch2.foilQty} />\n                    <QohLabel\n                        label=\"Nonfoil\"\n                        value={quantities.ch2.nonfoilQty}\n                    />\n                </StyledContainer>\n            </div>\n        </FlexContainer>\n    );\n}\n","import React, { useContext } from 'react';\nimport SearchBar from '../common/SearchBar';\nimport ManageInventoryList from './ManageInventoryList';\nimport { Segment, Header, Icon, Divider } from 'semantic-ui-react';\nimport styled from 'styled-components';\nimport AllLocationInventory from './AllLocationInventory';\nimport { InventoryContext } from '../context/InventoryContext';\n\nconst HeaderContainer = styled('div')({\n    display: 'flex',\n    justifyContent: 'space-between',\n});\n\nexport default function ManageInventory() {\n    const { searchResults, handleSearchSelect } = useContext(InventoryContext);\n\n    return (\n        <>\n            <SearchBar handleSearchSelect={handleSearchSelect} />\n            <br />\n            <HeaderContainer>\n                <Header as=\"h2\">Manage Inventory</Header>\n                {searchResults.length > 0 && (\n                    <div>\n                        <AllLocationInventory\n                            searchResults={searchResults}\n                            title={searchResults[0].name}\n                        />\n                    </div>\n                )}\n            </HeaderContainer>\n            <Divider />\n            {!searchResults.length && (\n                <Segment placeholder>\n                    <Header icon>\n                        <Icon name=\"search\" />\n                        <em>\n                            \"For the first time in his life, Grakk felt a little\n                            warm and fuzzy inside.\"\n                        </em>\n                    </Header>\n                </Segment>\n            )}\n            <ManageInventoryList cards={searchResults} />\n        </>\n    );\n}\n","import React, { useState, createContext } from 'react';\nimport axios from 'axios';\nimport _ from 'lodash';\nimport { SUSPEND_SALE, FINISH_SALE } from '../utils/api_resources';\nimport { InventoryCard } from '../utils/ScryfallCard';\nimport sortSaleList from '../utils/sortSaleList';\nimport createToast from '../common/createToast';\nimport makeAuthHeader from '../utils/makeAuthHeader';\n\nexport const SaleContext = createContext();\n\nexport const SaleProvider = (props) => {\n    const [saleListCards, setSaleListCards] = useState([]);\n    const [suspendedSale, setSuspendedSale] = useState({\n        _id: '',\n        name: '',\n        notes: '',\n        list: [],\n    });\n\n    /**\n     * Adds product to the sale list\n     */\n    const addToSaleList = (card, finishCondition, qtyToSell, price) => {\n        const newCard = { ...card, finishCondition, qtyToSell, price };\n        const oldState = [...saleListCards];\n        const modeledCard = new InventoryCard(newCard);\n\n        // Need to make sure same ID's with differing conditions are separate line-items\n        const idx = oldState.findIndex((el) => {\n            return (\n                el.id === newCard.id && el.finishCondition === finishCondition\n            );\n        });\n\n        if (idx !== -1) {\n            oldState.splice(idx, 1, modeledCard);\n        } else {\n            oldState.push(modeledCard);\n        }\n\n        // Sorting the saleList cards here, on add\n        const sortedCards = sortSaleList(oldState);\n\n        setSaleListCards(sortedCards);\n    };\n\n    /**\n     * Removes product from the sale list\n     */\n    const removeFromSaleList = (id, finishCondition) => {\n        const newState = _.reject([...saleListCards], (el) => {\n            return el.id === id && el.finishCondition === finishCondition;\n        });\n\n        setSaleListCards(newState);\n    };\n\n    /**\n     * Restores a sale (assigns a saleList to state) from a suspended sale from the db\n     */\n    const restoreSale = async (id) => {\n        try {\n            const { data } = await axios.get(`${SUSPEND_SALE}/${id}`, {\n                headers: makeAuthHeader(),\n            });\n            const modeledData = data.list.map((c) => new InventoryCard(c));\n\n            setSaleListCards(modeledData);\n            setSuspendedSale(data);\n\n            createToast({\n                color: 'green',\n                header: `You are viewing ${data.name}'s sale`,\n            });\n        } catch (e) {\n            console.log(e.response);\n            createToast({ color: 'red', header: `Error` });\n        }\n    };\n\n    /**\n     * Suspends a sale (persists it to mongo) via the SuspendedSale component and API\n     */\n    const suspendSale = async ({ customerName, notes }) => {\n        const { _id } = suspendedSale;\n\n        try {\n            if (!!_id)\n                await axios.delete(`${SUSPEND_SALE}/${_id}`, {\n                    headers: makeAuthHeader(),\n                }); // If we're suspended, delete the previous to replace\n\n            const { data } = await axios.post(\n                SUSPEND_SALE,\n                {\n                    customerName: customerName,\n                    notes: notes,\n                    saleList: saleListCards,\n                },\n                { headers: makeAuthHeader() }\n            );\n\n            resetSaleState();\n\n            createToast({\n                color: 'green',\n                header: `${data.ops[0].name}'s sale was suspended`,\n            });\n        } catch (e) {\n            console.log(e.response);\n            createToast({\n                color: 'red',\n                header: `Error`,\n                message: `${e.response.data}`,\n            });\n        }\n    };\n\n    const deleteSuspendedSale = async () => {\n        try {\n            const { _id, name } = suspendedSale;\n            await axios.delete(`${SUSPEND_SALE}/${_id}`, {\n                headers: makeAuthHeader(),\n            });\n\n            resetSaleState();\n\n            createToast({\n                color: 'green',\n                header: `${name}'s sale was deleted`,\n            });\n        } catch (e) {\n            console.log(e.response);\n            createToast({ color: 'red', header: `Error` });\n        }\n    };\n\n    /**\n     * Extracts the saleList state and uses it to complete sale\n     */\n    const finalizeSale = async () => {\n        const { _id } = suspendedSale;\n\n        try {\n            // Must delete currently suspended sale to faithfully restore inventory prior to sale\n            if (!!_id)\n                await axios.delete(`${SUSPEND_SALE}/${_id}`, {\n                    headers: makeAuthHeader(),\n                });\n\n            const { data } = await axios.post(\n                FINISH_SALE,\n                { cards: saleListCards },\n                { headers: makeAuthHeader() }\n            );\n\n            const saleID = data.sale_data.Sale.saleID;\n\n            createToast({\n                color: 'green',\n                header: 'Sale created in Lightspeed!',\n                message: `The id number is #${saleID}`,\n            });\n\n            resetSaleState();\n        } catch (e) {\n            createToast({\n                color: 'red',\n                header: 'Error',\n                message: `Sale was not created`,\n            });\n\n            resetSaleState();\n            console.log(e.response);\n        }\n    };\n\n    const resetSaleState = () => {\n        setSaleListCards([]);\n        setSuspendedSale({\n            _id: '',\n            name: '',\n            notes: '',\n            list: [],\n        });\n    };\n\n    return (\n        <SaleContext.Provider\n            value={{\n                saleListCards,\n                suspendedSale,\n                addToSaleList,\n                removeFromSaleList,\n                restoreSale,\n                suspendSale,\n                deleteSuspendedSale,\n                finalizeSale,\n                resetSaleState,\n            }}\n        >\n            {props.children}\n        </SaleContext.Provider>\n    );\n};\n","import { InventoryCard } from './ScryfallCard';\n\n/**\n * Takes in an unordered group of cards and sorts them according to The Clubhouse's specs:\n * WUBRG, then multicolor, then colorless, then land, alphabetically within each color/category\n */\nexport default function sortSaleList(cards: InventoryCard[]) {\n    const ORDER = ['W', 'U', 'B', 'R', 'G', 'MULTI', 'COLORLESS', 'LAND'];\n\n    /**\n     * Main helper function that manages sort order\n     * @param {Object} card\n     */\n    function helpSort(card: InventoryCard) {\n        let arrayConst = null;\n\n        let colorsLength = null;\n        let cardFace = null;\n\n        try {\n            // If colors don't exist, it's a flip card or storybook frame\n            colorsLength = card.colors.length;\n            cardFace = card;\n        } catch (e) {\n            try {\n                // Storybook frames from Eldraine may throw error\n                colorsLength = card.card_faces[0].colors.length;\n                cardFace = card.card_faces[0];\n            } catch (e) {\n                colorsLength = card.colors.length;\n                cardFace = card;\n            }\n        }\n\n        // Apply logic to return correct constant enum\n        if (colorsLength === 0) {\n            arrayConst = 'COLORLESS';\n        } else if (colorsLength === 1) {\n            arrayConst = cardFace.colors[0];\n        } else if (colorsLength > 1) {\n            arrayConst = 'MULTI';\n        }\n\n        // Drill into colorless cards, if they are lands or not\n        if (arrayConst === 'COLORLESS') {\n            if (cardFace.color_identity) {\n                if (cardFace.color_identity.length === 1) {\n                    arrayConst = cardFace.color_identity[0];\n                }\n                if (cardFace.color_identity.length > 1) {\n                    arrayConst = 'MULTI';\n                }\n            }\n            if (cardFace.type_line.includes('Land')) {\n                arrayConst = 'LAND';\n            }\n        }\n\n        // Final check to guard against a null arrayConst\n        if (!arrayConst) {\n            arrayConst = 'LAND';\n        }\n\n        return arrayConst;\n    }\n\n    const alphaSort = cards.sort((a, b) => {\n        return a.name.localeCompare(b.name);\n    });\n\n    const sorted = alphaSort.sort((a, b) => {\n        return ORDER.indexOf(helpSort(a)) - ORDER.indexOf(helpSort(b));\n    });\n\n    return sorted;\n}\n","import React, { useState, useContext } from 'react';\nimport {\n    Segment,\n    Label,\n    Form,\n    Input,\n    Dropdown,\n    Button,\n    Item,\n} from 'semantic-ui-react';\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport CardImage from '../common/CardImage';\nimport MarketPrice from '../common/MarketPrice';\nimport QohLabels from '../common/QohLabels';\nimport Language from '../common/Language';\nimport { SaleContext } from '../context/SaleContext';\n\n/**\n * Creates a list of conditions for the dropdown menu from the `qoh`\n * Note: Is this not needed if we default select initially?\n * @param {Object} qoh\n * @param {String} id\n */\nfunction createConditionOptions(qoh, id) {\n    const removeZeroedQuantites = _.pickBy(qoh, (p) => p > 0); // Quantites of zero not included\n\n    return Object.entries(removeZeroedQuantites).map((d) => {\n        const [conditionFinish, qty] = d;\n\n        return {\n            text: `${conditionFinish.split('_').join(' | ')} | Qty: ${qty}`,\n            value: conditionFinish,\n            key: `${id}${conditionFinish}`,\n        };\n    });\n}\n\n/**\n * Creates initial selectedFinish value, used for the MarketPrice component\n * Returns FOIL or NONFOIL depending on what's in current inventory (qoh)\n * @param {Object} qoh\n */\nfunction createInitialSelectedFinish(qoh) {\n    const removeZeroedQuantites = _.pickBy(qoh, (p) => p > 0);\n    // Isolate only the FOIL or NONFOIL values with mapping\n    const keysMapped = _.keys(removeZeroedQuantites).map(\n        (k) => k.split('_')[0]\n    );\n    const uniqueValues = _.uniq(keysMapped);\n    return uniqueValues.indexOf('NONFOIL') > -1 ? 'NONFOIL' : 'FOIL';\n}\n\nexport default function BrowseCardItem(props) {\n    const [selectedFinishCondition, setSelectedFinishCondition] = useState('');\n    const [\n        selectedFinishConditionQty,\n        setSelectedFinishConditionQty,\n    ] = useState(0);\n    const [quantityToSell, setQuantityToSell] = useState(0);\n    const [price, setPrice] = useState(0);\n    const [selectedFinish, setSelectedFinish] = useState(\n        createInitialSelectedFinish(props.qoh)\n    );\n    const [conditionOptions, setConditionOptions] = useState(\n        createConditionOptions(props.qoh, props.id)\n    );\n    const { addToSaleList } = useContext(SaleContext);\n\n    const handleQuantityChange = (e, { value }) => {\n        if (value === '') {\n            setQuantityToSell('');\n            return;\n        }\n\n        let numVal = parseInt(value);\n\n        if (numVal > selectedFinishConditionQty)\n            numVal = selectedFinishConditionQty;\n\n        if (isNaN(numVal) || numVal < 0) numVal = 0;\n\n        setQuantityToSell(numVal);\n    };\n\n    const handleSelectedFinishCondition = (e, { value }) => {\n        setSelectedFinish(value.split('_')[0]);\n        setSelectedFinishCondition(value);\n        setSelectedFinishConditionQty(props.qoh[value]);\n        setQuantityToSell(0);\n    };\n\n    const handlePriceChange = (e, { value }) => {\n        if (value === '') {\n            setPrice('');\n            return;\n        }\n\n        let numVal = Number(value);\n\n        if (isNaN(numVal) || numVal < 0) {\n            numVal = 0;\n        }\n\n        setPrice(numVal);\n    };\n\n    const handleAddToSale = () => {\n        const { qoh, id } = props;\n\n        addToSaleList(\n            { ...props },\n            selectedFinishCondition,\n            quantityToSell,\n            price\n        );\n\n        // Reset state\n        setSelectedFinishCondition('');\n        setSelectedFinishConditionQty(0);\n        setQuantityToSell(0);\n        setPrice(0);\n        setConditionOptions(createConditionOptions(qoh, id));\n        setSelectedFinish(createInitialSelectedFinish(qoh));\n\n        // Highlight the input after successful card add\n        $('#searchBar').focus().select();\n    };\n\n    return (\n        <Segment>\n            <Item.Group divided>\n                <Item>\n                    <Item.Image size=\"tiny\">\n                        <CardImage\n                            image_uris={props.image_uris}\n                            card_faces={props.card_faces}\n                        />\n                    </Item.Image>\n                    <Item.Content>\n                        <Item.Header as=\"h3\">\n                            {props.name}{' '}\n                            <i\n                                className={`ss ss-fw ss-${props.set} ss-${props.rarity}`}\n                                style={{ fontSize: '30px' }}\n                            />\n                            <Label color=\"grey\">\n                                {props.set_name} (\n                                {String(props.set).toUpperCase()})\n                            </Label>\n                            <QohLabels inventoryQty={props.qoh} />{' '}\n                            <MarketPrice\n                                id={props.id}\n                                finish={selectedFinish}\n                                round\n                            />\n                            <Language languageCode={props.lang} />\n                        </Item.Header>\n                        <Item.Description>\n                            <Form>\n                                <Form.Group>\n                                    <Form.Field\n                                        className=\"finish-condition\"\n                                        control={Dropdown}\n                                        selection\n                                        placeholder=\"Select inventory\"\n                                        options={conditionOptions}\n                                        value={selectedFinishCondition}\n                                        label=\"Select finish/condition\"\n                                        onChange={handleSelectedFinishCondition}\n                                    />\n                                    <Form.Field\n                                        className=\"sale-qty\"\n                                        control={Input}\n                                        type=\"number\"\n                                        label=\"Quantity to sell\"\n                                        value={quantityToSell}\n                                        onChange={handleQuantityChange}\n                                        disabled={!selectedFinishConditionQty}\n                                        onFocus={(e) => e.target.select()}\n                                    />\n                                    <Form.Field\n                                        className=\"sale-price\"\n                                        control={Input}\n                                        type=\"number\"\n                                        label=\"Price\"\n                                        value={price}\n                                        onChange={handlePriceChange}\n                                        disabled={!selectedFinishConditionQty}\n                                        onFocus={(e) => e.target.select()}\n                                        step={0.5}\n                                    />\n                                    <Form.Button\n                                        className=\"add-to-sale\"\n                                        label=\"Add to sale?\"\n                                        control={Button}\n                                        primary\n                                        onClick={handleAddToSale}\n                                        disabled={!quantityToSell}\n                                    >\n                                        Sell\n                                    </Form.Button>\n                                </Form.Group>\n                            </Form>\n                        </Item.Description>\n                    </Item.Content>\n                </Item>\n            </Item.Group>\n        </Segment>\n    );\n}\n","import React from 'react';\nimport BrowseCardItem from './BrowseCardItem';\nimport { Segment, Header, Icon } from 'semantic-ui-react';\n\nexport default function BrowseCardList({ term, cards }) {\n    // Creates text to notify the user of zero-result searches\n    const searchNotification = () => {\n        if (term && !cards.length) {\n            // Check to make sure the user has searched and no results\n            return (\n                <p>\n                    Zero results for <em>{term}</em>\n                </p>\n            );\n        }\n        return (\n            <p>\n                <em>\"Don't give the people what they want\"</em>\n            </p>\n        );\n    };\n\n    if (cards.length === 0) {\n        return (\n            <Segment placeholder>\n                <Header icon>\n                    <Icon name=\"search\" />\n                    <span>{searchNotification()}</span>\n                </Header>\n            </Segment>\n        );\n    }\n\n    return cards.map((card) => {\n        return <BrowseCardItem key={card.id} {...card} qoh={card.qoh} />;\n    });\n}\n","import React from 'react';\n\nconst Price = ({ num }) => {\n    const price = Number(num).toFixed(2);\n    if (isNaN(price)) return <span>$0.00</span>;\n    return <span>${price}</span>;\n};\n\nexport default Price;\n","import React from 'react';\nimport { Image } from 'semantic-ui-react';\n\nexport default function TooltipImage({ image_uri, posX = 0 }) {\n    return (\n        <div style={{ // We use the style prop over styled-components because it renders much faster!\n            position: 'absolute',\n            left: `${posX}px`,\n            width: '150px', // Width of the image when size=\"small\"\n            height: '209px', // Height of the image when size=\"small\"\n            borderRadius: '7px 7px 7px 7px',\n            boxShadow: '2px 2px 5px 0 rgba(0, 0, 0, 0.25)',\n            background: 'repeating-linear-gradient(45deg, #bfbfbf, #bfbfbf 10px, #b0b0b0 10px, #b0b0b0 20px)',\n            zIndex: '5000'\n        }}>\n            <Image\n                style={{ borderRadius: '7px 7px 7px 7px' }}\n                size=\"small\"\n                src={image_uri}\n            />\n        </div>\n    )\n}","import React, { useState, useContext } from 'react';\nimport { Button, Label, Table } from 'semantic-ui-react';\nimport styled from 'styled-components';\nimport { SaleContext } from '../context/SaleContext';\nimport Price from '../common/Price';\nimport TooltipImage from '../common/TooltipImage';\n\nconst BoldHelp = styled.b`\n    cursor: help;\n`;\n\nexport default function SaleLineItem({ display_name, set, finishCondition, qtyToSell, price, rarity, id, cardImage }) {\n    const [hovered, setHovered] = useState(false);\n    const [mouseInside, setMouseInside] = useState(false);\n    const [mousePos, setMousePos] = useState({});\n    const { removeFromSaleList } = useContext(SaleContext);\n\n    const mouseEnter = e => {\n        const rect = e.target.getBoundingClientRect();\n        const X = Math.round(e.clientX - rect.x) + 30;\n        setMouseInside(true);\n        setMousePos({ X });\n    }\n\n    const mouseMove = e => {\n        const rect = e.target.getBoundingClientRect();\n        const X = Math.round(e.clientX - rect.x) + 30;\n        setMousePos({ X });\n    }\n\n    const mouseLeave = e => setMouseInside(false);\n\n    return (\n        <Table.Row>\n            <Table.Cell><h4 className=\"line-item-title\">\n                <BoldHelp\n                    onMouseEnter={mouseEnter}\n                    onMouseMove={mouseMove}\n                    onMouseLeave={mouseLeave}\n                >\n                    {display_name}\n                    {mouseInside && <TooltipImage image_uri={cardImage} posX={mousePos.X} />}\n                </BoldHelp>\n            </h4></Table.Cell>\n            <Table.Cell singleLine>\n                <i\n                    className={`ss ss-fw ss-${set} ss-${rarity}`}\n                    style={{ fontSize: '20px' }}\n                />\n                <Label color=\"grey\">{set.toUpperCase()}</Label>\n            </Table.Cell>\n            <Table.Cell>\n                <div className=\"line-item-price\">\n                    {qtyToSell}x @ <Price num={price} /> | {finishCondition}\n                </div>\n            </Table.Cell>\n            <Table.Cell>\n                <Button\n                    icon=\"cancel\"\n                    circular\n                    onClick={() => removeFromSaleList(id, finishCondition)}\n                    onMouseOver={() => setHovered(true)}\n                    onMouseOut={() => setHovered(false)}\n                    color={hovered ? 'red' : null}\n                >\n                </Button>\n            </Table.Cell>\n        </Table.Row>\n    );\n}\n","import React from 'react';\nimport Price from '../common/Price';\n\nconst SalePriceTotal = ({ saleList }) => {\n    const total = saleList.length\n        ? saleList.reduce(\n            (acc, val) => acc + parseInt(val.qtyToSell) * Number(val.price),\n            0\n        )\n        : 0;\n\n    return <div id=\"sale-price-total\"><Price num={total} /></div>\n};\n\nexport default SalePriceTotal;\n","import React, { useState, useContext } from 'react';\nimport { Modal, Button, Header, Icon } from 'semantic-ui-react';\nimport { SaleContext } from '../context/SaleContext';\n\nexport default function FinishSale() {\n    const [submit, setSubmit] = useState({ loading: false, disabled: false });\n    const [showModal, setShowModal] = useState(false);\n    const { finalizeSale } = useContext(SaleContext);\n\n    const handleFinalizeSale = async () => {\n        setSubmit({ loading: true, disabled: true });\n        await finalizeSale();\n    }\n\n    const modalTrigger = <Button floated=\"right\" primary\n        onClick={() => setShowModal(true)}>\n        Finalize sale\n        </Button>\n\n    return <Modal\n        basic\n        open={showModal}\n        trigger={modalTrigger}>\n        <Modal.Content>\n            <Header inverted as=\"h2\">\n                Finalize this sale?\n             </Header>\n            <p>\n                Click 'Yes' to create a sale\n                in Lightspeed. Ensure that\n                you have all cards pulled and double-checked\n                the customer list. Undoing this action will require manual data entry!\n             </p>\n        </Modal.Content>\n        <Modal.Actions>\n            <Button\n                basic\n                color=\"red\"\n                inverted\n                onClick={() => setShowModal(false)}>\n                <Icon name=\"remove\" /> No\n             </Button>\n            <Button\n                color=\"green\"\n                inverted\n                onClick={handleFinalizeSale}\n                loading={submit.loading}\n                disabled={submit.disabled}>\n                <Icon name=\"checkmark\" /> Yes\n            </Button>\n        </Modal.Actions>\n    </Modal>\n}","import React from 'react';\nimport SaleLineItem from './SaleLineItem';\nimport { Table, Segment, Header, Icon } from 'semantic-ui-react';\nimport SalePriceTotal from './SalePriceTotal';\nimport FinishSale from './FinishSale';\n\nexport default function CustomerSaleList({ saleList }) {\n    if (saleList.length === 0) {\n        return (\n            <Segment placeholder>\n                <Header icon>\n                    <Icon name=\"plus\" />\n                    <em>\"Give them what they need\"</em>\n                </Header>\n            </Segment>\n        );\n    }\n\n    return (\n        <React.Fragment>\n            <Table>\n                <Table.Body>\n                    {saleList.map((card) => {\n                        return (\n                            <SaleLineItem\n                                {...card}\n                                key={`${card.id}${card.finishCondition}${card.qtyToSell}`}\n                            />\n                        );\n                    })}\n                </Table.Body>\n            </Table>\n\n            <Segment clearing>\n                <Header floated=\"left\">\n                    <Header sub>Subtotal</Header>\n                    <SalePriceTotal saleList={saleList} />\n                </Header>\n                <FinishSale />\n            </Segment>\n        </React.Fragment>\n    );\n}\n","import React from 'react';\nimport { Button, Icon } from 'semantic-ui-react';\nimport Price from '../common/Price';\nimport './PrintList.css';\nimport SalePriceTotal from './SalePriceTotal';\n\nconst Row = ({\n    id,\n    display_name,\n    qtyToSell,\n    finishCondition,\n    set_name,\n    price,\n}) => {\n    return (\n        <li key={id}>\n            <b>\n                {display_name} | x{qtyToSell} | {finishCondition} | {set_name} |{' '}\n                <Price num={price} />\n            </b>\n        </li>\n    );\n};\n\nexport default class PrintList extends React.Component {\n    state = { printClicked: false };\n\n    print = () => {\n        this.setState({ printClicked: true }, () => {\n            window.print();\n            this.setState({ printClicked: false });\n        });\n    };\n\n    render() {\n        const { saleListCards } = this.props;\n        const { printClicked } = this.state;\n\n        if (saleListCards.length > 0) {\n            // Ensure print is hidden if no cards in list\n            return (\n                <>\n                    <div>\n                        <Button size=\"tiny\" onClick={this.print} icon>\n                            <Icon name=\"print\" />\n                        </Button>\n                    </div>\n\n                    <div\n                        id=\"printme\"\n                        style={{\n                            display: printClicked ? 'inline-block' : 'none',\n                        }}\n                    >\n                        <ul>{saleListCards.map((c) => Row(c))}</ul>\n                        <span>\n                            <b>\n                                Subtotal:{' '}\n                                <SalePriceTotal saleList={saleListCards} />\n                            </b>\n                        </span>\n                    </div>\n                </>\n            );\n        } else {\n            return null;\n        }\n    }\n}\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { SUSPEND_SALE } from '../utils/api_resources';\nimport { Modal, Button, Grid, Form, Message } from 'semantic-ui-react';\nimport styled from 'styled-components';\nimport makeAuthHeader from '../utils/makeAuthHeader';\n\nconst Divider = styled.div`\n    border-left: 1px solid rgba(0, 0, 0, 0.2);\n    height: 100%;\n`;\n\nconst ClearMargin = styled.div`\n    margin-top: 0px;\n    margin-bottom: 0px;\n`;\n\nconst CharLimit = styled.p`\n    font-size: 12px;\n    color: rgba(0, 0, 0, 0.2);\n    float: right;\n`;\n\nexport default function SuspendedSale({\n    restoreSale,\n    deleteSuspendedSale,\n    saleListLength,\n    suspendSale,\n    id,\n}) {\n    const [sales, setSales] = useState([]);\n    const [saleID, setSaleID] = useState('');\n    const [modalOpen, setModalOpen] = useState(false);\n    const [customerName, setCustomerName] = useState('');\n    const [notes, setNotes] = useState('');\n    const [disabled, setDisabled] = useState(false);\n    const [loadingBtn, setLoadingBtn] = useState({\n        suspendBtn: false,\n        restoreBtn: false,\n        deleteBtn: false,\n    });\n\n    const getSales = async () => {\n        const { data } = await axios.get(SUSPEND_SALE, {\n            headers: makeAuthHeader(),\n        });\n        setSales(data);\n    };\n\n    const clearFields = () => {\n        setCustomerName('');\n        setNotes('');\n        setSaleID('');\n    };\n\n    // Get the previously suspended sales on mount and parent state (_id) change\n    useEffect(() => {\n        getSales();\n    }, [id]); // If the parent-level suspended-sale _id changes, we fetch again\n\n    const modalTrigger = (\n        <div>\n            <Button\n                size=\"tiny\"\n                id=\"suspend-sale-btn\"\n                onClick={() => setModalOpen(true)}\n                icon=\"ellipsis horizontal\"\n            />\n        </div>\n    );\n\n    const submitSuspendSale = async () => {\n        setDisabled(true);\n        setLoadingBtn({ suspendBtn: true });\n        await suspendSale({ customerName, notes });\n        setModalOpen(false); // Close the modal to avoid \"flicker\" when state re-renders\n        await getSales(); // Parent _id does not change, re-fetch sales\n        clearFields();\n        setDisabled(false);\n        setLoadingBtn({ suspendBtn: false });\n    };\n\n    const submitRestoreSale = async () => {\n        setDisabled(true);\n        setLoadingBtn({ restoreBtn: true });\n        await restoreSale(saleID);\n        setModalOpen(false);\n        clearFields();\n        setDisabled(false);\n        setLoadingBtn({ restoreBtn: false });\n    };\n\n    const submitDeleteSale = async () => {\n        setDisabled(true);\n        setLoadingBtn({ deleteBtn: true });\n        await deleteSuspendedSale();\n        setModalOpen(false);\n        clearFields();\n        setDisabled(false);\n        setLoadingBtn({ deleteBtn: false });\n    };\n\n    return (\n        <React.Fragment>\n            <Modal trigger={modalTrigger} open={modalOpen}>\n                <Modal.Header>Sales menu</Modal.Header>\n                <Modal.Content>\n                    <Grid columns={2} stackable relaxed=\"very\">\n                        {saleListLength > 0 && (\n                            <React.Fragment>\n                                <Grid.Column width=\"7\">\n                                    <h3>Suspend Sale</h3>\n                                    <Form>\n                                        <ClearMargin>\n                                            <Form.Input\n                                                id=\"suspend-sale-name\"\n                                                label=\"Customer Name\"\n                                                placeholder=\"Jace, the Mind Sculptor\"\n                                                value={customerName}\n                                                onChange={(e, { value }) =>\n                                                    setCustomerName(\n                                                        value.substring(0, 50)\n                                                    )\n                                                }\n                                            />\n                                        </ClearMargin>\n                                        <ClearMargin>\n                                            <CharLimit>\n                                                {customerName.length}/50\n                                            </CharLimit>\n                                        </ClearMargin>\n                                        <ClearMargin>\n                                            <Form.TextArea\n                                                label=\"Notes\"\n                                                placeholder=\"Sometimes, I forget things...\"\n                                                value={notes}\n                                                onChange={(e, { value }) =>\n                                                    setNotes(\n                                                        value.substring(0, 150)\n                                                    )\n                                                }\n                                            />\n                                        </ClearMargin>\n                                        <ClearMargin>\n                                            <CharLimit>\n                                                {notes.length}/150\n                                            </CharLimit>\n                                        </ClearMargin>\n                                        <Form.Button\n                                            id=\"suspend-sale-submit\"\n                                            primary\n                                            disabled={disabled || !customerName}\n                                            loading={loadingBtn.suspendBtn}\n                                            onClick={submitSuspendSale}\n                                        >\n                                            Suspend Sale\n                                        </Form.Button>\n                                    </Form>\n                                </Grid.Column>\n                                <Grid.Column width=\"1\">\n                                    <Divider />\n                                </Grid.Column>\n                            </React.Fragment>\n                        )}\n                        <Grid.Column width=\"7\">\n                            <h3>Restore Sale</h3>\n                            {sales.length > 0 && (\n                                <React.Fragment>\n                                    <Form>\n                                        <Form.Select\n                                            fluid\n                                            label=\"Previously suspended sales\"\n                                            options={sales.map((s) => {\n                                                return {\n                                                    key: s._id,\n                                                    text: s.name,\n                                                    value: s._id,\n                                                };\n                                            })}\n                                            placeholder=\"Select a sale\"\n                                            onChange={(e, { value }) =>\n                                                setSaleID(value)\n                                            }\n                                        />\n                                        <Form.Button\n                                            primary\n                                            disabled={disabled || !saleID}\n                                            loading={loadingBtn.restoreBtn}\n                                            onClick={submitRestoreSale}\n                                        >\n                                            Restore Sale\n                                        </Form.Button>\n                                    </Form>\n                                </React.Fragment>\n                            )}\n                            {sales.length === 0 && (\n                                <Message info>\n                                    <Message.Header>No sales</Message.Header>\n                                    Suspend a sale first\n                                </Message>\n                            )}\n                        </Grid.Column>\n                    </Grid>\n                </Modal.Content>\n                <Modal.Actions>\n                    {!!id && (\n                        <Button\n                            color=\"red\"\n                            disabled={disabled}\n                            loading={loadingBtn.deleteBtn}\n                            onClick={submitDeleteSale}\n                        >\n                            Delete current Sale\n                        </Button>\n                    )}\n                    <Button\n                        primary\n                        disabled={disabled}\n                        onClick={() => setModalOpen(false)}\n                    >\n                        Cancel\n                    </Button>\n                </Modal.Actions>\n            </Modal>\n        </React.Fragment>\n    );\n}\n","import React from 'react';\nimport { Label } from 'semantic-ui-react';\n\nexport default function TotalCardsLabel({ listLength }) {\n    const displayStr = listLength > 1 ? 'cards' : 'card';\n\n    if (listLength > 0) {\n        return <Label color='grey'>{listLength} {displayStr}</Label>\n    }\n\n    return null;\n}\n\n/**\n * Cards in the Sale List need to be looped and counted\n * Receiving's list is one per line, so it's more straightforward there\n *\n * @param {Array} saleListCards - The Sale List cards\n */\nexport function findSaleCardsQty(saleListCards) {\n    return saleListCards.reduce((acc, curr) => acc + curr.qtyToSell, 0);\n}","import React, { useState, useContext } from 'react';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport { Grid, Header, Divider } from 'semantic-ui-react';\nimport { GET_CARDS_WITH_INFO } from '../utils/api_resources';\nimport SearchBar from '../common/SearchBar';\nimport BrowseCardList from './BrowseCardList';\nimport CustomerSaleList from './CustomerSaleList';\nimport PrintList from './PrintList';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport SuspendedSale from './SuspendedSale';\nimport { InventoryCard } from '../utils/ScryfallCard';\nimport { SaleContext } from '../context/SaleContext';\nimport TotalCardsLabel, { findSaleCardsQty } from '../common/TotalCardsLabel';\nimport AllLocationInventory from '../ManageInventory/AllLocationInventory';\nimport styled from 'styled-components';\n\nconst HeaderContainer = styled('div')({\n    display: 'flex',\n    justifyContent: 'space-between',\n});\n\nconst ButtonContainer = styled('div')({\n    display: 'flex',\n    '& > *': {\n        marginLeft: '10px',\n    },\n});\n\nexport default function Sale() {\n    const {\n        saleListCards,\n        suspendedSale,\n        restoreSale,\n        deleteSuspendedSale,\n        suspendSale,\n    } = useContext(SaleContext);\n\n    const [searchResults, setSearchResults] = useState([]);\n    const [searchTerm, setSearchTerm] = useState('');\n\n    const handleResultSelect = async (term) => {\n        try {\n            const { data } = await axios.get(GET_CARDS_WITH_INFO, {\n                params: { title: term, matchInStock: true },\n                headers: makeAuthHeader(),\n            });\n\n            const modeledData = data.map((c) => new InventoryCard(c));\n\n            setSearchResults(modeledData);\n            setSearchTerm(term);\n\n            if (data.length === 0) {\n                $('#searchBar').focus().select();\n            }\n        } catch (e) {\n            console.log(e.response);\n        }\n    };\n\n    return (\n        <>\n            <SearchBar handleSearchSelect={handleResultSelect} />\n            <br />\n            <Grid stackable={true}>\n                <Grid.Row>\n                    <Grid.Column width=\"11\">\n                        <HeaderContainer>\n                            <Header as=\"h2\">Inventory</Header>\n                            {searchResults.length > 0 && (\n                                <AllLocationInventory\n                                    searchResults={searchResults}\n                                    title={searchResults[0].name}\n                                />\n                            )}\n                        </HeaderContainer>\n\n                        <Divider />\n\n                        <BrowseCardList\n                            term={searchTerm}\n                            cards={searchResults}\n                        />\n                    </Grid.Column>\n                    <Grid.Column width=\"5\">\n                        <HeaderContainer>\n                            <Header as=\"h2\" id=\"sale-header\">\n                                {suspendedSale.name === ''\n                                    ? 'Sale Items'\n                                    : `${suspendedSale.name}'s Items`}\n                                <TotalCardsLabel\n                                    listLength={findSaleCardsQty(saleListCards)}\n                                />\n                            </Header>\n                            <ButtonContainer>\n                                <SuspendedSale\n                                    restoreSale={restoreSale}\n                                    suspendSale={suspendSale}\n                                    saleListLength={saleListCards.length}\n                                    deleteSuspendedSale={deleteSuspendedSale}\n                                    id={suspendedSale._id}\n                                />\n                                <PrintList saleListCards={saleListCards} />\n                            </ButtonContainer>\n                        </HeaderContainer>\n\n                        <Divider />\n\n                        <CustomerSaleList saleList={saleListCards} />\n                    </Grid.Column>\n                </Grid.Row>\n            </Grid>\n        </>\n    );\n}\n","import React from 'react';\nimport { Table } from 'semantic-ui-react';\nimport moment from 'moment';\n\nconst SalesListItem = ({ saleData, cardList }) => {\n    const quantitySold = cardList.reduce(\n        (pre, curr) => pre + curr.qtyToSell,\n        0\n    );\n\n    return (\n        <Table.Row>\n            <Table.Cell>{saleData.saleID}</Table.Cell>\n            <Table.Cell>\n                {moment(saleData.createTime).format('MM/DD/YYYY - h:mm A')}\n            </Table.Cell>\n            <Table.Cell>{quantitySold}</Table.Cell>\n        </Table.Row>\n    );\n};\n\nexport default SalesListItem;\n","import React from 'react';\nimport SalesListItem from './SalesListItem';\nimport { Table } from 'semantic-ui-react';\n\nconst SalesList = ({ list }) => {\n    return (\n        <Table celled unstackable compact>\n            <Table.Header>\n                <Table.Row>\n                    <Table.HeaderCell>Sale ID</Table.HeaderCell>\n                    <Table.HeaderCell>Date of Sale</Table.HeaderCell>\n                    <Table.HeaderCell>Quantity Sold</Table.HeaderCell>\n                </Table.Row>\n            </Table.Header>\n\n            <Table.Body>\n                {list.map(({ sale_data, card_list, _id }) => (\n                    <SalesListItem\n                        saleData={sale_data}\n                        cardList={card_list}\n                        key={_id}\n                    />\n                ))}\n            </Table.Body>\n        </Table>\n    );\n};\n\nexport default SalesList;\n","import React, { Component } from 'react';\nimport SearchBar from '../common/SearchBar';\nimport SalesList from './SalesList';\nimport axios from 'axios';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport { GET_SALES_BY_TITLE } from '../utils/api_resources';\nimport { Header, Divider } from 'semantic-ui-react';\n\nclass BrowseSales extends Component {\n    state = { salesList: [], cardName: '' };\n\n    handleSearchSelect = async cardName => {\n        const { data } = await axios.get(GET_SALES_BY_TITLE, {\n            params: { cardName: cardName },\n            headers: makeAuthHeader()\n        });\n\n        this.setState({ salesList: data, cardName: cardName });\n    };\n\n    render() {\n        const { salesList, cardName } = this.state;\n\n        return (\n            <div>\n                <SearchBar handleSearchSelect={this.handleSearchSelect} />\n\n                <Header as=\"h2\">Browse Sales</Header>\n                <Divider />\n\n                <span>\n                    <em>\n                        {cardName !== '' && (\n                            <h4>\n                                {salesList.length} results for {cardName}\n                            </h4>\n                        )}\n                    </em>\n                </span>\n                <SalesList list={salesList} />\n            </div>\n        );\n    }\n}\n\nexport default BrowseSales;\n","import React from 'react';\nimport { Image, Label } from 'semantic-ui-react';\nimport MarketPrice from '../common/MarketPrice';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n    display: inline-block;\n    margin: 10px 10px 10px 10px;\n`;\n\nconst InventoryWrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    padding: 5px;\n    background-color: rgba(0, 0, 0, 0.9);\n    border-radius: 10px 10px 10px 10px;\n    box-shadow: 2px 2px 5px 0 rgba(0, 0, 0, 0.25);\n`;\n\nconst InventoryRow = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    margin: 5px;\n`;\n\nconst ImageWrapper = styled.div`\n    width: 300px;\n    height: 418.3px;\n    box-shadow: 2px 2px 5px 0 rgba(0, 0, 0, 0.25);\n    background: repeating-linear-gradient(\n        45deg,\n        #bfbfbf,\n        #bfbfbf 10px,\n        #b0b0b0 10px,\n        #b0b0b0 20px\n    );\n    border-radius: 15px;\n`;\n\nexport default function PublicCardItem({ card }) {\n    const { id, cardImage } = card;\n    const [foilQty, nonfoilQty] = card.qohParsed;\n\n    const displayFoil = (\n        <InventoryRow>\n            <Label color=\"blue\" image>\n                Foil<Label.Detail>{foilQty}</Label.Detail>\n            </Label>\n            <MarketPrice id={id} finish=\"FOIL\" round showMid={false} />\n        </InventoryRow>\n    );\n\n    const displayNonfoil = (\n        <InventoryRow>\n            <Label color=\"blue\" image>\n                Nonfoil<Label.Detail>{nonfoilQty}</Label.Detail>\n            </Label>\n            <MarketPrice id={id} round showMid={false} />\n        </InventoryRow>\n    );\n\n    return (\n        <React.Fragment>\n            <Wrapper>\n                <ImageWrapper>\n                    <Image\n                        src={cardImage}\n                        size=\"medium\"\n                        style={{ borderRadius: '15px' }}\n                    />\n                </ImageWrapper>\n                <InventoryWrapper>\n                    {foilQty > 0 ? displayFoil : null}\n                    {nonfoilQty > 0 ? displayNonfoil : null}\n                </InventoryWrapper>\n            </Wrapper>\n        </React.Fragment>\n    );\n}\n","import React from 'react';\nimport PublicCardItem from './PublicCardItem';\nimport { Grid } from 'semantic-ui-react';\n\nconst gridStyle = {\n    display: 'flex',\n    flexWrap: 'wrap',\n    alignContent: 'space-evenly',\n    height: '100%'\n};\n\nexport default function PublicCardList({ cards }) {\n    return <Grid style={gridStyle} >\n        {cards.map(c =>\n            <PublicCardItem\n                key={c.id}\n                card={c}\n            />\n        )}\n    </ Grid>\n}\n","import React, { useState } from 'react';\nimport axios from 'axios';\nimport {\n    Grid,\n    Segment,\n    Header,\n    Icon,\n    Divider,\n    Form,\n    Select,\n    Button,\n} from 'semantic-ui-react';\nimport SearchBar from '../common/SearchBar';\nimport PublicCardList from './PublicCardList';\nimport { GET_CARDS_WITH_INFO_PUBLIC } from '../utils/api_resources';\nimport { InventoryCard } from '../utils/ScryfallCard';\nimport { Formik } from 'formik';\n\nconst initialState = {\n    searchResults: null,\n    searchTerm: '',\n    selectedLocation: 'ch1',\n};\n\nconst locationOptions = [\n    { key: 'beaverton', text: 'CH Beaverton', value: 'ch1' },\n    { key: 'hillsboro', text: 'CH Hillsboro', value: 'ch2' },\n];\n\nfunction PublicInventory() {\n    const [state, setState] = useState(initialState);\n\n    const fetchCards = async ({ title, location }) => {\n        try {\n            const { data } = await axios.get(GET_CARDS_WITH_INFO_PUBLIC, {\n                params: {\n                    title,\n                    location,\n                    matchInStock: true,\n                },\n            });\n\n            const modeledData = data.map((c) => new InventoryCard(c));\n\n            setState({\n                ...state,\n                searchResults: modeledData,\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    return (\n        <>\n            <Formik\n                onSubmit={({ searchTerm, selectedLocation }) =>\n                    fetchCards({\n                        title: searchTerm,\n                        location: selectedLocation,\n                    })\n                }\n                initialValues={{\n                    searchTerm: '',\n                    selectedLocation: 'ch1',\n                    isSubmitted: false,\n                }}\n            >\n                {({ values, handleSubmit, setFieldValue, isSubmitting }) => (\n                    <Form>\n                        <Form.Group>\n                            <Form.Field>\n                                <label>Card search</label>\n                                <SearchBar\n                                    handleSearchSelect={(value) =>\n                                        setFieldValue('searchTerm', value)\n                                    }\n                                />\n                            </Form.Field>\n                            <Form.Field\n                                label=\"Store location\"\n                                control={Select}\n                                value={values.selectedLocation}\n                                options={locationOptions}\n                                onChange={(_, { value }) =>\n                                    setFieldValue('selectedLocation', value)\n                                }\n                            />\n                            <Form.Field>\n                                <div style={{ paddingTop: 25 }}>\n                                    <Button\n                                        primary\n                                        disabled={!values.searchTerm}\n                                        loading={isSubmitting}\n                                        onClick={handleSubmit}\n                                    >\n                                        Search\n                                    </Button>\n                                </div>\n                            </Form.Field>\n                        </Form.Group>\n                    </Form>\n                )}\n            </Formik>\n            <Grid stackable={true}>\n                <Grid.Column>\n                    <Header as=\"h2\">\n                        Inventory Search\n                        <Header.Subheader>\n                            <em>\n                                Card prices subject to change. Consult a\n                                Clubhouse employee for final estimates\n                            </em>\n                        </Header.Subheader>\n                    </Header>\n\n                    <Divider />\n\n                    {state.searchResults === null && (\n                        <Segment placeholder>\n                            <Header icon>\n                                <Icon name=\"search\" />\n                                <span>Search for a card</span>\n                            </Header>\n                        </Segment>\n                    )}\n\n                    {state.searchResults !== null &&\n                        (state.searchResults.length === 0 ? (\n                            <Segment placeholder>\n                                <Header icon>\n                                    <Icon name=\"search\" />\n                                    <span>No cards found in stock</span>\n                                </Header>\n                            </Segment>\n                        ) : (\n                            state.searchResults.length > 0 && (\n                                <PublicCardList cards={state.searchResults} />\n                            )\n                        ))}\n                </Grid.Column>\n            </Grid>\n        </>\n    );\n}\n\nexport default PublicInventory;\n","import React from 'react';\nimport SearchBar from '../common/SearchBar';\nimport { GET_SET_NAMES } from '../utils/api_resources';\nimport axios from 'axios';\nimport { Form, Input, Select, Dropdown, Segment } from 'semantic-ui-react';\nimport makeAuthHeader from '../utils/makeAuthHeader';\n\nconst formatDropdownOptions = [\n    { key: 'qw', value: '', text: 'None' },\n    { key: 'we', value: 'standard', text: 'Standard' },\n    { key: 'er', value: 'future', text: 'Future' },\n    { key: 'rt', value: 'historic', text: 'Historic' },\n    { key: 'ty', value: 'pioneer', text: 'Pioneer' },\n    { key: 'yu', value: 'modern', text: 'Modern' },\n    { key: 'ui', value: 'legacy', text: 'Legacy' },\n    { key: 'io', value: 'pauper', text: 'Pauper' },\n    { key: 'op', value: 'vintage', text: 'Vintage' },\n    { key: 'as', value: 'penny', text: 'Penny' },\n    { key: 'sd', value: 'commander', text: 'Commander' },\n    { key: 'df', value: 'brawl', text: 'Brawl' },\n    { key: 'fg', value: 'duel', text: 'Duel' },\n    { key: 'gh', value: 'oldschool', text: 'Oldschool' },\n];\n\nconst priceFilterDropdownOptions = [\n    { key: 'gte', value: 'gte', text: '>=' },\n    { key: 'lte', value: 'lte', text: '<=' },\n    { key: 'gtx', value: 'gt', text: '>' },\n    { key: 'ltx', value: 'lt', text: '<' },\n];\n\nconst finishDropdownOptions = [\n    { key: 'nonfoil_foil', value: '', text: 'None' },\n    { key: 'nonfoil', value: 'NONFOIL', text: 'Nonfoil' },\n    { key: 'foil', value: 'FOIL', text: 'Foil' },\n];\n\nconst sortByDropdownOptions = [\n    { key: 'pricesort', value: 'price', text: 'Price' },\n    { key: 'alphasort', value: 'name', text: 'Card Name' },\n];\n\nconst sortByDirectionDropdownOptions = [\n    { key: 'descdirsort', value: 1, text: 'Ascending' },\n    { key: 'ascdirsort', value: -1, text: 'Descending' },\n];\n\nconst sortByColorDropdownOptions = [\n    { key: 'w', value: 'W', text: 'White' },\n    { key: 'u', value: 'U', text: 'Blue' },\n    { key: 'b', value: 'B', text: 'Black' },\n    { key: 'r', value: 'R', text: 'Red' },\n    { key: 'g', value: 'G', text: 'Green' },\n];\n\nconst colorSpecificityDropdownOptions = [\n    { key: 'all', value: '', text: 'None' },\n    { key: 'colorless', value: 'colorless', text: 'Colorless only' },\n    { key: 'mono', value: 'mono', text: 'Monocolor only' },\n    { key: 'multi', value: 'multi', text: 'Multicolor only' },\n];\n\nconst typeLineOptions = [\n    { key: 'na', value: '', text: 'None' },\n    { key: 'artifact', value: 'Artifact', text: 'Artifact' },\n    { key: 'creature', value: 'Creature', text: 'Creature' },\n    { key: 'enchantment', value: 'Enchantment', text: 'Enchantment' },\n    { key: 'instant', value: 'Instant', text: 'Instant' },\n    { key: 'land', value: 'Land', text: 'Land' },\n    { key: 'planeswalker', value: 'Planeswalker', text: 'Planeswalker' },\n    { key: 'sorcery', value: 'Sorcery', text: 'Sorcery' },\n    { key: 'tribal', value: 'Tribal', text: 'Tribal' },\n];\n\nconst frameOptions = [\n    { key: 'na', value: '', text: 'None' },\n    { key: 'borderless', value: 'borderless', text: 'Borderless' },\n    { key: 'extendedArt', value: 'extendedArt', text: 'Extended Art' },\n    { key: 'extendedArt', value: 'showcase', text: 'Showcase' },\n];\n\nconst initialState = {\n    title: '',\n    setName: '',\n    format: '',\n    priceNum: '',\n    priceFilter: 'gte',\n    finish: '',\n    sortBy: 'price',\n    colorsArray: [],\n    sortByDirection: -1,\n    colorSpecificity: '',\n    typeLine: '',\n    setNames: [],\n    frame: '',\n};\n\nexport default class DeckboxCloneForm extends React.Component {\n    state = { editionDropdownOptions: [], ...initialState };\n\n    handleSearchSelect = (name) => this.setState({ title: name });\n\n    // When the user blurs the search field, we need to re-set state. Otherwise it won't clear from handleSearchSelect()\n    handleSearchBlur = (e, d) => this.setState({ title: e.target.value });\n\n    handleChange = (e, { value }) => this.setState({ [e.target.name]: value });\n\n    handleDropdownChange = (e, data) =>\n        this.setState({ [data.name]: data.value });\n\n    async componentDidMount() {\n        const { data } = await axios.get(GET_SET_NAMES, {\n            headers: makeAuthHeader(),\n        });\n        const setNameOptions = data.map((d, idx) => {\n            return { key: `set${idx}`, value: d, text: d };\n        });\n        const concatWithBlankOption = [\n            { key: 'snull', value: '', text: 'None' },\n        ].concat(setNameOptions);\n        this.setState({ editionDropdownOptions: concatWithBlankOption });\n    }\n\n    render() {\n        const {\n            title,\n            setName,\n            format,\n            priceNum,\n            priceFilter,\n            finish,\n            sortBy,\n            sortByDirection,\n            colorsArray,\n            colorSpecificity,\n            typeLine,\n            frame,\n        } = this.state;\n\n        // Sort the colors here and concat prior to sending to the backend\n        const colors = colorsArray.sort().join('');\n\n        return (\n            <Segment>\n                <h3>Filters</h3>\n                <Form>\n                    <Form.Group widths=\"4\">\n                        <Form.Field>\n                            <label>Card Name</label>\n                            <SearchBar\n                                handleSearchSelect={this.handleSearchSelect}\n                                value={this.state.title}\n                                name=\"title\"\n                                onBlur={this.handleSearchBlur}\n                            />\n                        </Form.Field>\n                        <Form.Field\n                            control={Select}\n                            label=\"Format\"\n                            placeholder=\"Format\"\n                            options={formatDropdownOptions}\n                            name=\"format\"\n                            onChange={this.handleDropdownChange}\n                        />\n                        <Form.Field\n                            control={Select}\n                            label=\"Edition\"\n                            placeholder=\"Edition\"\n                            search\n                            options={this.state.editionDropdownOptions}\n                            name=\"setName\"\n                            onChange={this.handleDropdownChange}\n                        />\n                        <Form.Field\n                            control={Select}\n                            label=\"Finish\"\n                            placeholder=\"Finish\"\n                            options={finishDropdownOptions}\n                            name=\"finish\"\n                            onChange={this.handleDropdownChange}\n                        />\n                    </Form.Group>\n                    <Form.Group widths=\"4\">\n                        <Form.Field\n                            control={Select}\n                            multiple\n                            label=\"Colors\"\n                            placeholder=\"Colors\"\n                            options={sortByColorDropdownOptions}\n                            name=\"colorsArray\"\n                            onChange={this.handleDropdownChange}\n                        />\n\n                        <Form.Field\n                            control={Select}\n                            label=\"Color specificity\"\n                            placeholder=\"Color specificity\"\n                            options={colorSpecificityDropdownOptions}\n                            name=\"colorSpecificity\"\n                            onChange={this.handleDropdownChange}\n                        />\n\n                        <Form.Field\n                            control={Select}\n                            label=\"Type Line\"\n                            placeholder=\"Type Line\"\n                            options={typeLineOptions}\n                            name=\"typeLine\"\n                            onChange={this.handleDropdownChange}\n                        />\n\n                        <Form.Field\n                            control={Select}\n                            label=\"Frame Effects\"\n                            placeholder=\"Effect\"\n                            options={frameOptions}\n                            name=\"frame\"\n                            onChange={this.handleDropdownChange}\n                        />\n\n                        <Form.Field>\n                            <label>Price Filter</label>\n                            <Input\n                                label={\n                                    <Dropdown\n                                        options={priceFilterDropdownOptions}\n                                        name=\"priceFilter\"\n                                        defaultValue=\"gte\"\n                                        onChange={this.handleDropdownChange}\n                                    />\n                                }\n                                placeholder=\"Enter a price\"\n                                labelPosition=\"left\"\n                                name=\"priceNum\"\n                                type=\"number\"\n                                onChange={this.handleDropdownChange}\n                            />\n                        </Form.Field>\n                    </Form.Group>\n\n                    <h3>{'Sort & Order'}</h3>\n\n                    <Form.Group>\n                        <Form.Field\n                            control={Select}\n                            label=\"Sort By\"\n                            placeholder=\"\"\n                            options={sortByDropdownOptions}\n                            defaultValue=\"price\"\n                            name=\"sortBy\"\n                            onChange={this.handleDropdownChange}\n                        />\n                        <Form.Field\n                            control={Select}\n                            label=\"Order\"\n                            options={sortByDirectionDropdownOptions}\n                            defaultValue={-1}\n                            name=\"sortByDirection\"\n                            onChange={this.handleDropdownChange}\n                        />\n                    </Form.Group>\n\n                    <Form.Group>\n                        <Form.Button\n                            primary\n                            onClick={() =>\n                                this.props.handleSubmit({\n                                    title,\n                                    setName,\n                                    format,\n                                    priceNum,\n                                    priceFilter,\n                                    finish,\n                                    sortBy,\n                                    sortByDirection,\n                                    colors,\n                                    colorSpecificity,\n                                    type: typeLine,\n                                    frame,\n                                })\n                            }\n                        >\n                            Submit\n                        </Form.Button>\n                    </Form.Group>\n                </Form>\n            </Segment>\n        );\n    }\n}\n","import React from 'react';\nimport { Table, Icon } from 'semantic-ui-react';\nimport Price from '../common/Price';\nimport TooltipImage from '../common/TooltipImage';\n\nconst conditionMap = {\n    NM: 'Near Mint',\n    LP: 'Light Play',\n    MP: 'Moderate Play',\n    HP: 'Heavy Play',\n};\n\nexport default class DeckboxCloneRow extends React.Component {\n    state = { mouseInside: false, mouseX: 0, mouseY: 0 };\n\n    mouseEnter = (e) => {\n        const mouseX = e.clientX - e.target.offsetLeft\n        const mouseY = e.clientY - e.target.offsetTop;\n        this.setState({ mouseInside: true, mouseX, mouseY });\n    }\n\n    mouseLeave = (e) => this.setState({ mouseInside: false });\n\n    mouseMove = (e) => {\n        const mouseX = e.clientX - e.target.offsetLeft\n        const mouseY = e.clientY - e.target.offsetTop;\n        this.setState({ mouseX, mouseY });\n    };\n\n    render() {\n        const { inventory, name, set_name, price, set, rarity, image_uri } = this.props;\n        const { mouseInside, mouseX } = this.state;\n        const finish = inventory.k.split('_')[0];\n        const condition = inventory.k.split('_')[1];\n\n        return <Table.Row>\n            <Table.Cell>\n                <span\n                    onMouseEnter={this.mouseEnter}\n                    onMouseLeave={this.mouseLeave}\n                    onMouseMove={this.mouseMove}\n                    style={{ cursor: 'help' }}\n                >\n                    {name}{' '}\n                </span>\n                {finish === 'FOIL' && <Icon name=\"star\" color=\"blue\" />}\n                {mouseInside && <TooltipImage image_uri={image_uri} posX={mouseX} />}\n            </Table.Cell>\n            <Table.Cell><i className={`ss ss-fw ss-${set} ss-${rarity}`} style={{ fontSize: '20px' }} />{\" \"}{set_name}</Table.Cell>\n            <Table.Cell>{conditionMap[condition]}</Table.Cell>\n            <Table.Cell>{inventory.v}</Table.Cell>\n            <Table.Cell><Price num={price} /></Table.Cell>\n        </Table.Row>\n    }\n}","import React from 'react';\nimport { GET_CARDS_BY_FILTER } from '../utils/api_resources';\nimport DeckboxCloneForm from './DeckboxCloneForm';\nimport DeckboxCloneRow from './DeckboxCloneRow';\nimport axios from 'axios';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport {\n    Table,\n    Menu,\n    Icon,\n    Dimmer,\n    Loader,\n    Segment,\n    Header,\n    Container,\n} from 'semantic-ui-react';\nimport _ from 'lodash';\nconst LIMIT = 100; // Matching the backend for now\n\nexport default class DeckboxClone extends React.Component {\n    state = {\n        data: [],\n        count: 0,\n        currentPage: 0,\n        numPages: 0,\n        pageArray: [],\n        isLoading: false,\n        cachedFilters: {},\n        showPages: [],\n        searchTouched: false, // Tracks whether the user has initially searched for the 'no results' message\n    };\n\n    fetchData = async (filters, page) => {\n        try {\n            this.setState({ isLoading: true });\n\n            const { data } = await axios.get(GET_CARDS_BY_FILTER, {\n                params: { ...filters, page },\n                headers: makeAuthHeader(),\n            });\n\n            const numPages = Math.ceil(data.total / LIMIT);\n            const pages = _.range(1, numPages + 1);\n            let showPages;\n\n            // Logic that controls the visibility of page number links\n            // Default max number pages to display is 5\n            if (page <= 3) {\n                showPages = pages.slice(0, 5);\n            } else if (page >= numPages - 2) {\n                showPages = pages.slice(numPages - 5, numPages);\n            } else {\n                showPages = pages.slice(page - 2, page + 3);\n            }\n\n            this.setState({\n                data: data.cards,\n                count: data.total,\n                isLoading: false,\n                numPages: numPages,\n                currentPage: page,\n                showPages: showPages,\n                searchTouched: true,\n            });\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    handleSubmit = async (filters) => {\n        this.setState({ cachedFilters: filters }); // Set the filters for pagination requests later\n        await this.fetchData(filters, 1); // On submit, starting page mut always be 1\n    };\n\n    handlePage = async (page) => {\n        await this.fetchData(this.state.cachedFilters, page);\n        this.setState({ currentPage: page });\n    };\n\n    render() {\n        const { data, isLoading, currentPage, numPages, count } = this.state;\n        const showLeftPageButtons = !(currentPage === 1);\n        const showRightPageButtons = !(currentPage === numPages);\n\n        return (\n            <Container>\n                <Dimmer\n                    active={isLoading}\n                    inverted\n                    page\n                    style={{ marginTop: '52.63px' }}\n                >\n                    <Loader size=\"large\">Loading</Loader>\n                </Dimmer>\n                <Segment secondary>\n                    <Icon name=\"exclamation triangle\" color=\"blue\" />\n                    Prices from this table are updated weekly and are subject to\n                    fluctuations. Consult 'New Sale' or 'Manage Inventory' for\n                    up-to-date values\n                </Segment>\n                <DeckboxCloneForm handleSubmit={this.handleSubmit} />\n\n                {!!data.length && (\n                    <Table celled striped compact>\n                        <Table.Header>\n                            <Table.Row>\n                                <Table.HeaderCell colSpan=\"5\">\n                                    <Menu floated=\"left\">\n                                        <Menu.Item>\n                                            Viewing page {currentPage} of{' '}\n                                            {numPages}\n                                        </Menu.Item>\n                                    </Menu>\n                                    <Menu floated=\"right\">\n                                        {showLeftPageButtons && (\n                                            <Menu.Item\n                                                as=\"a\"\n                                                icon\n                                                onClick={() =>\n                                                    this.handlePage(\n                                                        currentPage - 1\n                                                    )\n                                                }\n                                            >\n                                                <Icon name=\"chevron left\" />\n                                            </Menu.Item>\n                                        )}\n\n                                        <React.Fragment>\n                                            {this.state.showPages.map((p) => {\n                                                return (\n                                                    <Menu.Item\n                                                        key={`page-${p}`}\n                                                        onClick={() =>\n                                                            this.handlePage(p)\n                                                        }\n                                                        active={\n                                                            currentPage === p\n                                                        }\n                                                        disabled={\n                                                            currentPage === p\n                                                        }\n                                                        as=\"a\"\n                                                    >\n                                                        {p}\n                                                    </Menu.Item>\n                                                );\n                                            })}\n                                        </React.Fragment>\n\n                                        {showRightPageButtons && (\n                                            <Menu.Item\n                                                as=\"a\"\n                                                icon\n                                                onClick={() =>\n                                                    this.handlePage(\n                                                        currentPage + 1\n                                                    )\n                                                }\n                                            >\n                                                <Icon name=\"chevron right\" />\n                                            </Menu.Item>\n                                        )}\n                                    </Menu>\n                                </Table.HeaderCell>\n                            </Table.Row>\n                        </Table.Header>\n\n                        <Table.Header>\n                            <Table.Row>\n                                <Table.HeaderCell>Name</Table.HeaderCell>\n                                <Table.HeaderCell>Edition</Table.HeaderCell>\n                                <Table.HeaderCell>Condition</Table.HeaderCell>\n                                <Table.HeaderCell>Qty</Table.HeaderCell>\n                                <Table.HeaderCell>Price</Table.HeaderCell>\n                            </Table.Row>\n                        </Table.Header>\n\n                        <Table.Body>\n                            {data.map((d) => (\n                                <DeckboxCloneRow\n                                    {...d}\n                                    key={`${d._id}${d.inventory.k}`}\n                                />\n                            ))}\n                        </Table.Body>\n\n                        <Table.Footer>\n                            <Table.Row>\n                                <Table.HeaderCell colSpan=\"5\">\n                                    <Menu floated=\"left\">\n                                        <Menu.Item>\n                                            Total results: {count}\n                                        </Menu.Item>\n                                    </Menu>\n                                    <Menu floated=\"right\">\n                                        {showLeftPageButtons && (\n                                            <Menu.Item\n                                                as=\"a\"\n                                                icon\n                                                onClick={() =>\n                                                    this.handlePage(\n                                                        currentPage - 1\n                                                    )\n                                                }\n                                            >\n                                                <Icon name=\"chevron left\" />\n                                            </Menu.Item>\n                                        )}\n\n                                        <React.Fragment>\n                                            {this.state.showPages.map((p) => {\n                                                return (\n                                                    <Menu.Item\n                                                        key={`page-${p}`}\n                                                        onClick={() =>\n                                                            this.handlePage(p)\n                                                        }\n                                                        active={\n                                                            currentPage === p\n                                                        }\n                                                        disabled={\n                                                            currentPage === p\n                                                        }\n                                                        as=\"a\"\n                                                    >\n                                                        {p}\n                                                    </Menu.Item>\n                                                );\n                                            })}\n                                        </React.Fragment>\n\n                                        {showRightPageButtons && (\n                                            <Menu.Item\n                                                as=\"a\"\n                                                icon\n                                                onClick={() =>\n                                                    this.handlePage(\n                                                        currentPage + 1\n                                                    )\n                                                }\n                                            >\n                                                <Icon name=\"chevron right\" />\n                                            </Menu.Item>\n                                        )}\n                                    </Menu>\n                                </Table.HeaderCell>\n                            </Table.Row>\n                        </Table.Footer>\n                    </Table>\n                )}\n\n                {!data.length && (\n                    <Segment placeholder>\n                        <Header icon>\n                            <Icon name=\"search\" />\n                            {this.state.searchTouched\n                                ? 'No results found'\n                                : 'Use the filters to browse inventory'}\n                        </Header>\n                    </Segment>\n                )}\n            </Container>\n        );\n    }\n}\n","import React, { useContext } from 'react';\nimport createToast from '../common/createToast';\nimport { Form, Button, Segment, Select } from 'semantic-ui-react';\nimport { Redirect } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthProvider';\nimport styled from 'styled-components';\nimport { Formik } from 'formik';\n\nconst LoginContainer = styled.div`\n    margin-top: 15px;\n    display: flex;\n    justify-content: center;\n`;\n\nconst FormContainer = styled(Segment)`\n    width: 400px;\n    padding: 25px 25px 25px 25px !important;\n`;\n\nexport default function Login() {\n    const { loggedIn, handleLogin } = useContext(AuthContext);\n\n    const onSubmit = async ({ username, password, location }) => {\n        const data = await handleLogin(username, password, location);\n\n        if (data.token) {\n            createToast({\n                color: 'green',\n                header: 'Success',\n                message: `Enjoy your time here!`,\n            });\n        } else {\n            createToast({\n                color: 'red',\n                header: 'Error',\n                message: data,\n            });\n        }\n    };\n\n    if (loggedIn) return <Redirect to=\"/manage-inventory\" />;\n\n    return (\n        <LoginContainer>\n            <Formik\n                initialValues={{\n                    username: '',\n                    password: '',\n                    location: '',\n                }}\n                onSubmit={onSubmit}\n            >\n                {({ values, handleSubmit, setFieldValue, isSubmitting }) => (\n                    <FormContainer raised loading={isSubmitting}>\n                        <Form>\n                            <Form.Field>\n                                <Form.Input\n                                    className=\"username-input\"\n                                    placeholder=\"Username\"\n                                    label=\"Username\"\n                                    value={values.username}\n                                    onChange={(_, { value }) =>\n                                        setFieldValue('username', value)\n                                    }\n                                />\n                            </Form.Field>\n                            <Form.Field>\n                                <Form.Input\n                                    className=\"password-input\"\n                                    placeholder=\"Password\"\n                                    type=\"password\"\n                                    label=\"Password\"\n                                    value={values.password}\n                                    onChange={(_, { value }) =>\n                                        setFieldValue('password', value)\n                                    }\n                                />\n                            </Form.Field>\n                            <Form.Field\n                                label=\"Location\"\n                                control={Select}\n                                value={values.location}\n                                placeholder=\"Select location\"\n                                options={[\n                                    {\n                                        key: 'beaverton',\n                                        text: 'Beaverton (The OG)',\n                                        value: 'ch1',\n                                    },\n                                    {\n                                        key: 'hillsboro',\n                                        text: 'Hillsboro',\n                                        value: 'ch2',\n                                    },\n                                ]}\n                                onChange={(_, { value }) => {\n                                    setFieldValue('location', value);\n                                }}\n                            />\n                            <Button\n                                primary\n                                fluid\n                                floated=\"right\"\n                                type=\"submit\"\n                                onClick={handleSubmit}\n                                className=\"login-btn\"\n                                disabled={\n                                    !values.username ||\n                                    !values.password ||\n                                    !values.location\n                                }\n                            >\n                                Submit\n                            </Button>\n                        </Form>\n                    </FormContainer>\n                )}\n            </Formik>\n        </LoginContainer>\n    );\n}\n","import React, { useContext } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthProvider';\n\nfunction Logout() {\n    const { handleLogout } = useContext(AuthContext);\n\n    handleLogout();\n\n    return <Redirect to=\"/login\" />\n};\n\nexport default Logout;\n","import React, { useState } from 'react';\nimport _ from 'lodash';\nimport uuid from 'uuid';\nimport axios from 'axios';\nimport createToast from '../common/createToast';\nimport makeAuthHeader from '../utils/makeAuthHeader';\nimport { InventoryCard } from '../utils/ScryfallCard';\nimport { GET_CARDS_WITH_INFO, RECEIVE_CARDS } from '../utils/api_resources';\n\nconst TRADE_TYPES = { CASH: 'CASH', CREDIT: 'CREDIT' }; // Customers can only receive cash or credit for their assets\n\n// Models the line item in the Receiving List and sets a unique UUID key on each\nclass LineItem extends InventoryCard {\n    constructor(cardProps) {\n        super(cardProps);\n\n        const { cashPrice, marketPrice, creditPrice } = cardProps;\n\n        this.cashPrice = cashPrice;\n        this.marketPrice = marketPrice;\n        this.creditPrice = creditPrice;\n        this.uuid_key = uuid();\n\n        if (creditPrice === 0) this.tradeType = TRADE_TYPES.CASH;\n        // Set to cash if customer doesn't want credit\n        else this.tradeType = TRADE_TYPES.CREDIT; // Otherwise, default to credit\n    }\n}\n\nexport const ReceivingContext = React.createContext();\n\nexport function ReceivingProvider(props) {\n    const [searchResults, setSearchResults] = useState([]);\n    const [receivingList, setReceivingList] = useState([]);\n\n    /**\n     * Fetches cards from the DB by title when a user selects a title after querying.\n     * This function merges the data (inventory quantity and card objects) from two endpoints into one array.\n     *\n     * @param {String} term - the search term\n     */\n    const handleSearchSelect = async (term) => {\n        try {\n            const { data } = await axios.get(GET_CARDS_WITH_INFO, {\n                params: { title: term, matchInStock: false },\n                headers: makeAuthHeader(),\n            });\n\n            setSearchResults(data.map((d) => new InventoryCard(d)));\n        } catch (e) {\n            console.log(e);\n        }\n    };\n\n    /**\n     * Adds a card to the receiving list, with a unique uuid\n     */\n    const addToList = (quantity, cardProps) => {\n        const previousState = [...receivingList];\n\n        // Each line-item represents one card. Use _.times() to repeat\n        const newState = previousState.concat(\n            _.times(quantity, () => new LineItem(cardProps))\n        );\n\n        setReceivingList(_.sortBy(newState, 'name'));\n    };\n\n    /**\n     * Removes a card from the receiving list using the uuid\n     */\n    const removeFromList = (uuid_key) => {\n        const copiedState = [...receivingList];\n        _.remove(copiedState, (e) => e.uuid_key === uuid_key); // Mutates array\n        setReceivingList(copiedState);\n    };\n\n    /**\n     * Determines whether line-items use cash or credit. Changes the tradeType by reference in the receivingList array\n     * which changes the active prop in ReceivingListItem\n     */\n    const activeTradeType = (uuid_key, tradeType) => {\n        const previousState = [...receivingList];\n        const card = previousState.find((e) => e.uuid_key === uuid_key);\n        card.tradeType = TRADE_TYPES[tradeType];\n        setReceivingList(previousState);\n    };\n\n    /**\n     * Sets all items to a tradeType, if possible\n     *\n     * @param {String} selectType - `CASH` or `CREDIT`\n     */\n    const selectAll = (selectType) => {\n        const oldState = [...receivingList];\n        const { CASH, CREDIT } = TRADE_TYPES;\n\n        oldState.forEach((card, idx, arr) => {\n            let selectedPrice = 0;\n\n            if (selectType === CASH) selectedPrice = card.cashPrice;\n            else if (selectType === CREDIT) selectedPrice = card.creditPrice;\n\n            if (selectedPrice > 0) arr[idx].tradeType = selectType;\n        });\n\n        setReceivingList(oldState);\n    };\n\n    /**\n     * Persists all passed cards to inventory\n     */\n    const commitToInventory = async () => {\n        try {\n            const cardsToCommit = receivingList.map((card) => {\n                const { finishCondition, id, name, set_name, set } = card;\n                return {\n                    quantity: 1,\n                    finishCondition,\n                    id,\n                    name,\n                    set_name,\n                    set,\n                }; // Only committing one per line-item\n            });\n\n            await axios.post(\n                RECEIVE_CARDS,\n                { cards: cardsToCommit },\n                { headers: makeAuthHeader() }\n            );\n\n            setSearchResults([]);\n            setReceivingList([]);\n\n            createToast({\n                color: 'green',\n                header: `${receivingList.length} cards were added to inventory!`,\n                duration: 2000,\n            });\n        } catch (e) {\n            console.log(e);\n            createToast({\n                color: 'red',\n                header: `Something went wrong...`,\n                duration: 2000,\n            });\n        }\n    };\n\n    const resetSearchResults = () => setSearchResults([]);\n\n    return (\n        <ReceivingContext.Provider\n            value={{\n                searchResults,\n                receivingList,\n                handleSearchSelect,\n                addToList,\n                removeFromList,\n                activeTradeType,\n                selectAll,\n                commitToInventory,\n                resetSearchResults,\n            }}\n        >\n            {props.children}\n        </ReceivingContext.Provider>\n    );\n}\n","import React, { useState, useContext } from 'react';\nimport $ from 'jquery';\nimport {\n    Segment,\n    Input,\n    Button,\n    Form,\n    Select,\n    Label,\n    Item,\n} from 'semantic-ui-react';\nimport QohLabels from '../common/QohLabels';\nimport CardImage from '../common/CardImage';\nimport MarketPrice from '../common/MarketPrice';\nimport createToast from '../common/createToast';\nimport { ReceivingContext } from '../context/ReceivingContext';\nimport Language from '../common/Language';\nimport { finishes, cardConditions } from '../utils/dropdownOptions';\nimport checkCardFinish from '../utils/checkCardFinish';\n\nexport default function ReceivingSearchItem(props) {\n    const [quantity, setQuantity] = useState(1);\n    const [cashPrice, setCashPrice] = useState(0);\n    const [creditPrice, setCreditPrice] = useState(0);\n    const [selectedCondition, setSelectedCondition] = useState('NM');\n    const [marketPrice, setMarketPrice] = useState(0);\n    const [selectedFinish, setSelectedFinish] = useState(\n        checkCardFinish(props.nonfoil, props.foil).selectedFinish // seed state from props\n    );\n\n    // Determines whether the select finish dropdown is permanently disabled, seeded from props\n    const finishDisabled = checkCardFinish(props.nonfoil, props.foil)\n        .finishDisabled;\n\n    const { addToList } = useContext(ReceivingContext);\n\n    const handleFinishChange = (e, { value }) => setSelectedFinish(value);\n\n    const handleConditionChange = (e, { value }) => setSelectedCondition(value);\n\n    // Validates/sanitizes user inputs by tracking the `name` attribute of the input element\n    const handlePriceChange = (e, { value }) => {\n        let val = Number(value) || 0;\n        if (val < 0) val = 0;\n        if (value === '') val = '';\n\n        switch (e.target.name) {\n            case 'cashInput':\n                setCashPrice(val);\n                break;\n            case 'marketPriceInput':\n                setMarketPrice(val);\n                break;\n            case 'creditInput':\n                setCreditPrice(val);\n                break;\n            default:\n                break;\n        }\n    };\n\n    const handleQuantityChange = (e, { value }) => {\n        let val = parseInt(value, 10) || 0;\n        if (val < 0) val = 0; // cannot receive less than 0\n        if (val > 50) val = 50; // set max to 50 cards per single transaction\n        setQuantity(val);\n    };\n\n    const handleFocus = (e) => e.target.select();\n\n    const handleInventoryAdd = () => {\n        addToList(quantity, {\n            ...props,\n            cashPrice,\n            marketPrice,\n            creditPrice,\n            finishCondition: `${selectedFinish}_${selectedCondition}`, // ex. NONFOIL_NM\n        });\n\n        setQuantity(1);\n        setCashPrice(0);\n        setMarketPrice(0);\n        setCreditPrice(0);\n        setSelectedCondition('NM');\n        setSelectedFinish(\n            checkCardFinish(props.nonfoil, props.foil).selectedFinish\n        );\n\n        createToast({\n            color: 'green',\n            header: `${quantity}x ${props.name} added to buylist!`,\n            duration: 2000,\n        });\n\n        // Highlight the input after successful card add\n        $('#searchBar').focus().select();\n    };\n\n    /**\n     * Determines whether the `Add` button should be disabled\n     */\n    const submitDisabled = () => {\n        const validateQty = quantity === 0 || quantity === '';\n        const validateTradeTypes =\n            !(cashPrice || creditPrice) ||\n            cashPrice === '' ||\n            creditPrice === '';\n        const validateMarketPrice = marketPrice === 0 || marketPrice === '';\n\n        if (cashPrice > 0) {\n            return validateQty || validateTradeTypes || validateMarketPrice;\n        }\n\n        return validateQty || validateTradeTypes;\n    };\n\n    const {\n        image_uris,\n        name,\n        set_name,\n        set,\n        rarity,\n        card_faces,\n        id,\n        lang,\n    } = props;\n\n    return (\n        <Segment>\n            <Item.Group divided>\n                <Item>\n                    <Item.Image size=\"small\">\n                        <CardImage\n                            image_uris={image_uris}\n                            card_faces={card_faces}\n                            hover={false}\n                        />\n                    </Item.Image>\n                    <Item.Content>\n                        <Item.Header as=\"h3\">\n                            {name}{' '}\n                            <i\n                                className={`ss ss-fw ss-${set} ss-${rarity}`}\n                                style={{ fontSize: '30px' }}\n                            />\n                            <Label color=\"grey\">\n                                {set_name} ({String(set).toUpperCase()})\n                            </Label>\n                            <QohLabels inventoryQty={props.qoh} />{' '}\n                            <MarketPrice id={id} finish={selectedFinish} />\n                            <Language languageCode={lang} />\n                        </Item.Header>\n                        <Item.Description>\n                            <Form>\n                                <Form.Group widths=\"12\">\n                                    <Form.Field\n                                        control={Input}\n                                        type=\"number\"\n                                        label=\"Quantity\"\n                                        value={quantity}\n                                        onChange={handleQuantityChange}\n                                        onFocus={(e) => e.target.select()}\n                                        className=\"receiving-quantity\"\n                                    />\n                                    <Form.Field\n                                        label=\"Credit Price\"\n                                        name=\"creditInput\"\n                                        control={Input}\n                                        type=\"number\"\n                                        value={creditPrice}\n                                        onChange={handlePriceChange}\n                                        onFocus={handleFocus}\n                                        step=\"0.25\"\n                                        className=\"receiving-credit\"\n                                    />\n                                    <Form.Field\n                                        label=\"Cash Price\"\n                                        name=\"cashInput\"\n                                        control={Input}\n                                        type=\"number\"\n                                        value={cashPrice}\n                                        onChange={handlePriceChange}\n                                        onFocus={handleFocus}\n                                        step=\"0.25\"\n                                        className=\"receiving-cash\"\n                                    />\n                                    <Form.Field\n                                        label=\"Market Price\"\n                                        name=\"marketPriceInput\"\n                                        control={Input}\n                                        type=\"number\"\n                                        value={marketPrice}\n                                        onChange={handlePriceChange}\n                                        onFocus={handleFocus}\n                                        step=\"0.25\"\n                                        disabled={\n                                            cashPrice === 0 || cashPrice === ''\n                                        }\n                                        className=\"receiving-market\"\n                                    />\n                                </Form.Group>\n                                <Form.Group widths=\"12\">\n                                    <Form.Field\n                                        label=\"Finish\"\n                                        control={Select}\n                                        value={selectedFinish}\n                                        options={finishes}\n                                        disabled={finishDisabled}\n                                        onChange={handleFinishChange}\n                                    />\n                                    <Form.Field\n                                        label=\"Condition\"\n                                        control={Select}\n                                        value={selectedCondition}\n                                        options={cardConditions}\n                                        onChange={handleConditionChange}\n                                    />\n                                    <Form.Button\n                                        label=\"Add to List?\"\n                                        control={Button}\n                                        primary\n                                        disabled={submitDisabled()}\n                                        onClick={handleInventoryAdd}\n                                    >\n                                        Add\n                                    </Form.Button>\n                                </Form.Group>\n                            </Form>\n                        </Item.Description>\n                    </Item.Content>\n                </Item>\n            </Item.Group>\n        </Segment>\n    );\n}\n","import React, { useContext } from 'react';\nimport ReceivingSearchItem from './ReceivingSearchItem';\nimport { ReceivingContext } from '../context/ReceivingContext';\n\nexport default function ReceivingCardList() {\n    const { searchResults } = useContext(ReceivingContext);\n\n    return searchResults.map(c => {\n        return <ReceivingSearchItem\n            key={c.id}\n            {...c}\n            qoh={c.qoh}\n        />\n    });\n}\n","import React from 'react';\nimport { Segment, Header, Icon } from 'semantic-ui-react';\n\nexport default function DefaultPlaceholder({ active, children }) {\n    return <React.Fragment>\n        {active &&\n            <Segment placeholder>\n                <Header icon>\n                    <Icon name=\"search\" />\n                    <em>{children}</em>\n                </Header>\n            </Segment>}\n    </React.Fragment>\n}","import React, { useState, useContext } from 'react';\nimport { Table, Button, Label, Icon } from 'semantic-ui-react';\nimport styled from 'styled-components';\nimport Price from '../common/Price';\nimport { ReceivingContext } from '../context/ReceivingContext';\nimport TooltipImage from '../common/TooltipImage';\n\nconst BoldHelp = styled.b`\n    cursor: help;\n`;\n\n// Defines whether it uses cash or credit for trade types\nconst TRADE_TYPE = { CASH: 'CASH', CREDIT: 'CREDIT' };\n\nexport default function ReceivingListItem({ display_name, set, rarity, cashPrice, creditPrice, finishCondition, uuid_key, tradeType, cardImage }) {\n    const { CASH, CREDIT } = TRADE_TYPE;\n    const [hovered, setHovered] = useState(false);\n    const [mouseInside, setMouseInside] = useState(false);\n    const [mousePos, setMousePos] = useState({});\n    const { removeFromList, activeTradeType } = useContext(ReceivingContext);\n\n    const mouseEnter = e => {\n        const rect = e.target.getBoundingClientRect();\n        const X = Math.round(e.clientX - rect.x) + 30;\n        setMouseInside(true);\n        setMousePos({ X });\n    }\n\n    const mouseMove = e => {\n        const rect = e.target.getBoundingClientRect();\n        const X = Math.round(e.clientX - rect.x) + 30;\n        setMousePos({ X });\n    }\n\n    const mouseLeave = e => setMouseInside(false);\n\n    return (\n        <Table.Row>\n            <Table.Cell>\n                <BoldHelp\n                    onMouseEnter={mouseEnter}\n                    onMouseMove={mouseMove}\n                    onMouseLeave={mouseLeave}\n                >\n                    {display_name}\n                    {mouseInside && <TooltipImage image_uri={cardImage} posX={mousePos.X} />}\n                </BoldHelp>\n            </Table.Cell>\n            <Table.Cell singleLine>\n                <i\n                    className={`ss ss-fw ss-${set} ss-${rarity}`}\n                    style={{ fontSize: '20px' }}\n                />\n                <Label color=\"grey\">{set.toUpperCase()}</Label>\n            </Table.Cell>\n            <Table.Cell>\n                <div style={{ whiteSpace: 'noWrap' }}>\n                    Cash <b><Price num={cashPrice} /></b>\n                </div>\n                <div style={{ whiteSpace: 'noWrap' }}>\n                    Credit <b><Price num={creditPrice} /></b>\n                </div>\n                <p>{finishCondition.split('_')[0]} | {finishCondition.split('_')[1]}</p>\n            </Table.Cell>\n            <Table.Cell>\n                <Button\n                    active={tradeType === CASH}\n                    color={tradeType === CASH ? 'blue' : null}\n                    onClick={() => activeTradeType(uuid_key, CASH)}\n                    disabled={cashPrice === 0}\n                    icon\n                >\n                    <Icon name=\"dollar sign\"></Icon>\n                </Button>\n            </Table.Cell>\n            <Table.Cell>\n                <Button\n                    active={tradeType === CREDIT}\n                    color={tradeType === CREDIT ? 'blue' : null}\n                    onClick={() => activeTradeType(uuid_key, CREDIT)}\n                    disabled={creditPrice === 0}\n                    icon\n                >\n                    <Icon name=\"credit card outline\"></Icon>\n                </Button>\n            </Table.Cell>\n            <Table.Cell>\n                <Button\n                    icon=\"cancel\"\n                    circular\n                    onClick={() => removeFromList(uuid_key)}\n                    onMouseOver={() => setHovered(true)}\n                    onMouseOut={() => setHovered(false)}\n                    color={hovered ? 'red' : null}\n                >\n                </Button>\n            </Table.Cell>\n        </Table.Row>\n    );\n}","import React from 'react';\nimport _ from 'lodash';\nimport Price from '../common/Price';\nimport { Table } from 'semantic-ui-react';\n\n// Am I crazy or is this logic really convoluted?\n// Perhaps look at this down the line for improvement...\nexport default function CashReport({ receivingList, closeCashModal }) {\n    // If id, cashPrice and marketPrice are the same, goes in one bucket\n    const countByPriceAndID = _.chain(receivingList)\n        .filter(c => c.tradeType === 'CASH')\n        .map(c => {\n            // Note: We're creating a unique uuid-esque comparator string based on:\n            // `id`, `cashPrice`, `marketPrice`, and `finishCondition`\n            return { ...c, temp_uuid: `${c.id}-${c.cashPrice}-${c.marketPrice}-${c.finishCondition}` }\n        })\n        .groupBy(\"temp_uuid\")\n        .mapValues(val => val.length)\n        .value();\n\n    const uniqLineItems = _.chain(receivingList)\n        .filter(c => c.tradeType === 'CASH')\n        .map(c => {\n            return { ...c, temp_uuid: `${c.id}-${c.cashPrice}-${c.marketPrice}-${c.finishCondition}` }\n        })\n        .uniqBy('temp_uuid')\n        .value();\n\n    const mergedWithQty = uniqLineItems.map(c => {\n        return { ...c, tradeQty: countByPriceAndID[c.temp_uuid] } // Add a trade quantity referencing the previous count\n    });\n\n    const totalCashOut = _.chain(receivingList)\n        .filter(c => c.tradeType === 'CASH')\n        .sumBy(c => c.cashPrice)\n        .value();\n\n    return <React.Fragment>\n        <div id=\"cash-report\">\n            <Table celled>\n                <Table.Header>\n                    <Table.Row>\n                        <Table.HeaderCell colSpan={6}>Employee Name:</Table.HeaderCell>\n                    </Table.Row>\n                    <Table.Row>\n                        <Table.HeaderCell>Card Name</Table.HeaderCell>\n                        <Table.HeaderCell>Market Value</Table.HeaderCell>\n                        <Table.HeaderCell>Condition</Table.HeaderCell>\n                        <Table.HeaderCell>Quantity</Table.HeaderCell>\n                        <Table.HeaderCell>Cash Offer</Table.HeaderCell>\n                        <Table.HeaderCell>Cash Out</Table.HeaderCell>\n                    </Table.Row>\n                </Table.Header>\n                <Table.Body>\n                    {mergedWithQty.map(c => {\n                        return <Table.Row key={c.temp_uuid}>\n                            <Table.Cell>{c.name}</Table.Cell>\n                            <Table.Cell><Price num={c.marketPrice} /></Table.Cell>\n                            <Table.Cell>{c.finishCondition}</Table.Cell>\n                            <Table.Cell>{c.tradeQty}</Table.Cell>\n                            <Table.Cell><Price num={c.cashPrice} /></Table.Cell>\n                            <Table.Cell><Price num={c.tradeQty * c.cashPrice} /></Table.Cell>\n                        </Table.Row>\n                    })}\n                </Table.Body>\n                <Table.Footer>\n                    <Table.HeaderCell colSpan={6}>Total: <Price num={totalCashOut} /></Table.HeaderCell>\n                </Table.Footer>\n            </Table>\n        </div>\n    </React.Fragment>\n}","const printStyle = `\n    body {\n        font-family: 'helvetica neue', helvetica, arial, sans-serif;\n    }\n\n    table {\n        table-layout: fixed;\n        width: 100%;\n        border-collapse: collapse;\n        border: 1px solid gray;\n        text-align: left;\n    }\n\n    thead th:nth-child(1) {\n        width: 30%;\n    }\n\n    thead th:nth-child(2) {\n        width: 20%;\n    }\n\n    thead th:nth-child(3) {\n        width: 15%;\n    }\n\n    thead th:nth-child(4) {\n        width: 35%;\n    }\n\n    th, td {\n        border: 1px solid #ddd;\n        padding: 10px;\n    }\n\n    tfoot {\n        text-align: right !important;\n    }\n`;\n\n/**\n     * We're creating a new tab here for the modal table and writing CSS to it - not the most elegant solution from a UX and\n     * code standpoint, but time was of the essence for this release. Refactor down the road.\n     * \n     * The id cash-report is found on the cash report table\n     */\nexport default function printCashReport() {\n    const divToPrint = document.getElementById('cash-report');\n    const popup = window.open('', '_blank');\n    popup.document.open();\n    popup.document.write(`<html>`);\n    popup.document.write(`<head>`);\n    popup.document.write(`<title>Cash Report</title>`)\n    popup.document.write(`<style>${printStyle}</style>`);\n    popup.document.write(`</head>`);\n    popup.document.write(`<body onload=\"window.print()\">`);\n    popup.document.write(`${divToPrint.innerHTML}`);\n    popup.document.write(`</body>`);\n    popup.document.write(`</html>`);\n    popup.document.close();\n}","import React, { useState, useContext } from 'react';\nimport { Modal, Header, Button } from 'semantic-ui-react';\nimport { ReceivingContext } from '../context/ReceivingContext';\nimport Price from '../common/Price';\n\nexport default function ReceivingListModal({ cashTotal, creditTotal }) {\n    const [loading, setLoading] = useState(false);\n    const [showModal, setShowModal] = useState(false);\n\n    const { receivingList, commitToInventory } = useContext(ReceivingContext);\n\n    const submitToInventory = async () => {\n        setLoading(true);\n        await commitToInventory();\n        setLoading(false);\n    }\n\n    return <Modal\n        closeOnDimmerClick={false}\n        trigger={\n            <Button\n                id=\"commit-to-inv\"\n                color=\"blue\"\n                disabled={receivingList.length === 0}\n                onClick={() => setShowModal(true)}>\n                Commit to inventory\n             </Button>\n        }\n        open={showModal}\n        onClose={() => setShowModal(false)}\n        basic style={{ marginTop: '50px' }} >\n        <Header>Confirm receipt of new inventory?</Header>\n        <Modal.Content>\n            <p><b>Pressing 'Submit' will commit the following items to inventory:</b></p>\n            <ul>\n                {receivingList.map(c => {\n                    return <li key={c.uuid_key}>{c.name} | {c.set_name}({c.set.toUpperCase()})</li>\n                })}\n            </ul>\n            <div>\n                <p><b>The customer is owed: </b></p>\n                <ul>\n                    {cashTotal > 0 ? <li><Price num={cashTotal} /> in cold, hard cash</li> : null}\n                    {creditTotal > 0 ? <li><Price num={creditTotal} /> in store credit</li> : null}\n                </ul>\n            </div>\n        </Modal.Content>\n        <Modal.Actions>\n            <Button basic color=\"red\" inverted onClick={() => setShowModal(false)}>Cancel</Button>\n            <Button\n                id=\"submit-to-inv\"\n                color=\"green\"\n                inverted\n                loading={loading}\n                disabled={loading}\n                onClick={submitToInventory}\n            >Submit</Button>\n        </Modal.Actions>\n    </Modal>\n}","import React, { useState, useContext } from 'react';\nimport { Segment, Statistic, Button, Modal } from 'semantic-ui-react';\nimport styled from 'styled-components';\nimport Price from '../common/Price';\nimport CashReport from './CashReport';\nimport printCashReport from './printCashReport';\nimport ReceivingListModal from './ReceivingListModal';\nimport { ReceivingContext } from '../context/ReceivingContext';\n\nconst FlexRow = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n`;\n\nconst FlexCol = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n    min-height: 100px;\n`;\n\nconst StatisticColor = styled(Statistic.Label)`\n    color: gray !important;\n`;\n\nconst TRADE_TYPE = { CASH: 'CASH', CREDIT: 'CREDIT' };\n\nexport default function ReceivingListTotals() {\n    const { CASH, CREDIT } = TRADE_TYPE;\n    const [showCashModal, setShowCashModal] = useState(false);\n    const { receivingList, selectAll } = useContext(ReceivingContext);\n\n    const openCashModal = () => setShowCashModal(true);\n    const closeCashModal = () => setShowCashModal(false);\n\n    const handlePrintCashReport = () => {\n        setShowCashModal(false); // Close the modal so users don't have to after printing in new tab\n        printCashReport();\n    }\n\n    const cashTotal = receivingList.reduce((acc, curr) => {\n        let cashVal = curr.tradeType === CASH ? curr.cashPrice : 0;\n        return acc + cashVal;\n    }, 0);\n\n    const creditTotal = receivingList.reduce((acc, curr) => {\n        let creditVal = curr.tradeType === CREDIT ? curr.creditPrice : 0;\n        return acc + creditVal;\n    }, 0);\n\n    return <Segment>\n        <FlexRow>\n            <FlexCol>\n                <Button.Group>\n                    <Button id=\"select-all-cash\" onClick={() => selectAll(TRADE_TYPE.CASH)}>Select all cash</Button>\n                    <Button.Or />\n                    <Button id=\"select-all-credit\" onClick={() => selectAll(TRADE_TYPE.CREDIT)}>Select all credit</Button>\n                </Button.Group>\n                <Modal\n                    open={showCashModal}\n                    trigger={\n                        <Button\n                            color={cashTotal > 0 ? 'green' : null}\n                            disabled={cashTotal === 0}\n                            onClick={openCashModal}>\n                            Generate cash report\n                    </Button>\n                    }>\n                    <Modal.Content>\n                        <CashReport\n                            receivingList={receivingList}\n                            closeCashModal={closeCashModal} />\n                    </Modal.Content>\n                    <Modal.Actions>\n                        <Button onClick={handlePrintCashReport} color=\"blue\">Print Report</Button>\n                        <Button onClick={closeCashModal}>Cancel</Button>\n                    </Modal.Actions>\n                </Modal>\n            </FlexCol>\n            <FlexCol>\n                <Segment>\n                    <div>\n                        <Statistic size=\"mini\">\n                            <StatisticColor>Cash Due</StatisticColor>\n                            <Statistic.Value id=\"cash-total\"><Price num={cashTotal} /></Statistic.Value>\n                        </Statistic>\n                        <Statistic size=\"mini\">\n                            <StatisticColor>Credit Due</StatisticColor>\n                            <Statistic.Value id=\"credit-total\"><Price num={creditTotal} /></Statistic.Value>\n                        </Statistic>\n                    </div>\n                    <ReceivingListModal\n                        cashTotal={cashTotal}\n                        creditTotal={creditTotal}\n                    />\n                </Segment>\n            </FlexCol>\n        </FlexRow>\n\n    </Segment>\n}","import React from 'react';\nimport { Table } from 'semantic-ui-react';\nimport ReceivingListItem from './ReceivingListItem';\nimport ReceivingListTotals from './ReceivingListTotals';\n\nexport default function ReceivingList({ cards }) {\n    return <React.Fragment>\n        {cards.length > 0 && <Table compact size=\"small\">\n            <Table.Body className='receiving-list-table'>\n                {cards.map(card => {\n                    const { name, display_name, set, rarity, cashPrice, creditPrice, finishCondition, uuid_key, tradeType, qoh, cardImage } = card;\n                    return <ReceivingListItem\n                        name={name}\n                        display_name={display_name}\n                        set={set}\n                        rarity={rarity}\n                        cashPrice={cashPrice}\n                        creditPrice={creditPrice}\n                        finishCondition={finishCondition}\n                        uuid_key={uuid_key}\n                        tradeType={tradeType}\n                        qoh={qoh}\n                        key={uuid_key}\n                        cardImage={cardImage}\n                    />\n                })}\n            </Table.Body>\n        </Table>}\n\n        {cards.length > 0 && <ReceivingListTotals />}\n    </React.Fragment>\n}","import React, { useContext, useEffect } from 'react';\nimport SearchBar from '../common/SearchBar';\nimport ReceivingSearchList from './ReceivingSearchList';\nimport { Header, Grid, Divider } from 'semantic-ui-react';\nimport { ReceivingContext } from '../context/ReceivingContext';\nimport DefaultPlaceholder from './DefaultPlaceholder';\nimport ReceivingList from './ReceivingList';\nimport TotalCardsLabel from '../common/TotalCardsLabel';\nimport styled from 'styled-components';\nimport AllLocationInventory from '../ManageInventory/AllLocationInventory';\n\nconst HeaderContainer = styled('div')({\n    display: 'flex',\n    justifyContent: 'space-between',\n});\n\nexport default function Receiving() {\n    const {\n        searchResults,\n        receivingList,\n        handleSearchSelect,\n        resetSearchResults,\n    } = useContext(ReceivingContext);\n\n    // Reset the search results on componentDidUnmount to clear store\n    useEffect(() => {\n        return () => resetSearchResults();\n    }, []);\n\n    return (\n        <>\n            <SearchBar handleSearchSelect={handleSearchSelect} />\n            <br />\n            <Grid stackable={true}>\n                <Grid.Row>\n                    <Grid.Column width=\"10\">\n                        <HeaderContainer>\n                            <Header as=\"h2\">Card Search</Header>\n                            {searchResults.length > 0 && (\n                                <div>\n                                    <AllLocationInventory\n                                        searchResults={searchResults}\n                                        title={searchResults[0].name}\n                                    />\n                                </div>\n                            )}\n                        </HeaderContainer>\n\n                        <Divider />\n\n                        <DefaultPlaceholder active={!searchResults.length}>\n                            \"So many cards, so little time.\"\n                        </DefaultPlaceholder>\n\n                        <ReceivingSearchList />\n                    </Grid.Column>\n                    <Grid.Column width=\"6\">\n                        <Header as=\"h2\" style={{ display: 'inline-block' }}>\n                            Buylist\n                            <TotalCardsLabel\n                                listLength={receivingList.length}\n                            />\n                        </Header>\n\n                        <Divider />\n\n                        <DefaultPlaceholder active={!receivingList.length}>\n                            \"If you receive it, they will come.\"\n                        </DefaultPlaceholder>\n\n                        <ReceivingList cards={receivingList} />\n                    </Grid.Column>\n                </Grid.Row>\n            </Grid>\n        </>\n    );\n}\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Text = styled.p`\n    font-size: 16px;\n    color: black;\n    text-align: left;\n`;\n\nconst Image = styled.img`\n    width: 100%;\n`;\n\nconst Content = styled.div`\n    padding: 2px 16px;\n`;\n\nconst Container = styled.div`\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\n    border-radius: 5px 5px 5px 5px;\n    width: 380px;\n    height: 700px;\n    margin: 10px 10px 10px 10px;\n    overflow: hidden; // This allows us to edit the borders on the card's border-flush images\n\n    @media (max-width: 800px) {\n        width: 320px;\n    }\n`;\n\nexport default function Card({ imageSrc, header, date, children }) {\n    return <Container>\n        <Image src={imageSrc} />\n        <Content>\n            <h3><b>{header}</b></h3>\n            <p><em>{date}</em></p>\n            <Text>{children}</Text>\n        </Content>\n    </Container>\n}","export default __webpack_public_path__ + \"static/media/clubhouse_products.f1a1f04b.png\";","export default __webpack_public_path__ + \"static/media/core_2021_draft_booster.8c83b484.png\";","export default __webpack_public_path__ + \"static/media/core_2021_collector.e6b82cae.jpg\";","export default __webpack_public_path__ + \"static/media/double_masters.e808c5fe.png\";","export default __webpack_public_path__ + \"static/media/zen_meme.6b93aa01.jpg\";","export default __webpack_public_path__ + \"static/media/kaldheim.717fd92b.png\";","import React from 'react';\nimport styled from 'styled-components';\nimport { Icon, Label } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport Card from './Card';\nimport clubhouse_products from './clubhouse_products.png';\nimport core_2021_draft_booster from './core_2021_draft_booster.png';\nimport core_2021_collector from './core_2021_collector.jpg';\nimport double_masters from './double_masters.png';\nimport zen_meme from './zen_meme.jpg';\nimport kaldheim from './kaldheim.png';\n\nconst Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n`;\n\nconst BaseContent = styled.div`\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    margin-top: 52px;\n`;\n\nconst ContentContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    width: 1200px;\n\n    @media (max-width: 800px) {\n        width: 100%;\n        padding: 0px 10px 0px 10px;\n    }\n`;\n\nconst Image = styled.div`\n    background: url(${clubhouse_products});\n    background-size: cover;\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    height: 500px;\n    width: 100%;\n    z-index: -50;\n`;\n\nconst Image2 = styled.div`\n    background: url(${clubhouse_products});\n    background-size: cover;\n    position: absolute;\n    left: 0px;\n    height: 400px;\n    width: 100%;\n    z-index: -50;\n    opacity: 0.15;\n`;\n\nconst ImageMask = styled.div`\n    background-image: linear-gradient(\n        to bottom,\n        rgba(32, 106, 208, 1),\n        rgba(32, 106, 208, 0.85),\n        rgba(32, 106, 208, 0.66),\n        rgba(255, 255, 255, 1)\n    );\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    height: 500px;\n    width: 100%;\n    z-index: -49;\n`;\n\nconst ImageMask2 = styled.div`\n    background-image: linear-gradient(\n        to bottom,\n        rgba(0, 0, 0, 0),\n        rgba(255, 255, 255, 1)\n    );\n    position: absolute;\n    left: 0px;\n    height: 400px;\n    width: 100%;\n    z-index: -49;\n`;\n\nconst Divider = styled.div`\n    display: flex;\n    flex-direction: column;\n    min-height: 400px;\n`;\n\nconst FlexRow = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n`;\n\nconst FlexRowResponsive = styled(FlexRow)`\n    justify-content: flex-start;\n\n    @media (max-width: 800px) {\n        justify-content: center;\n        flex-wrap: wrap;\n    }\n`;\n\nconst SpanStyle = styled.span`\n    margin-right: 10px;\n`;\n\nconst FlexColumn = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n`;\n\nconst Slogan = styled.h1`\n    font-size: 83px;\n    color: white;\n\n    @media (max-width: 800px) {\n        font-size: 45px;\n        text-align: center;\n    }\n`;\n\nconst Header = styled.p`\n    font-size: 50px;\n    margin-top: 0px;\n    color: black;\n\n    @media (max-width: 800px) {\n        font-size: 27px;\n    }\n`;\n\nconst Subheader = styled.p`\n    font-size: 23px;\n    margin-top: 0px;\n    color: ${(props) => props.color || 'black'};\n\n    @media (max-width: 800px) {\n        font-size: 18px;\n        text-align: center;\n    }\n`;\n\nconst Button = styled.button`\n    outline: none;\n    width: 200px;\n    height: 45px;\n    background-color: rgb(33, 133, 208);\n    border-radius: 20px 20px 20px 20px;\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\n    cursor: pointer;\n    margin-right: 20px;\n    margin-top: 10px;\n    font-size: 17px;\n    color: white;\n    border: 0px;\n\n    :hover {\n        background-color: rgb(35, 139, 219);\n        box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.4);\n    }\n`;\n\nconst Grid = styled.div`\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(380px, max-content));\n    grid-gap: 10px;\n    justify-content: center;\n\n    @media (max-width: 800px) {\n        grid-template-columns: repeat(auto-fit, minmax(320px, max-content));\n    }\n`;\n\nconst IconStyled = styled(Icon)`\n    background-color: rgb(33, 133, 208);\n    color: white;\n`;\n\nconst FooterIcon = styled(Icon)`\n    color: white;\n`;\n\nconst BodyText = styled.p`\n    font-size: ${(props) => props.size || '16px'};\n    color: ${(props) => props.color || 'black'};\n    text-align: ${(props) => (props.align === 'center' ? 'center' : 'left')};\n`;\n\nconst Spacer = styled.div`\n    width: 100%;\n    height: ${(props) => props.height || 0}px;\n`;\n\nconst FooterStyle = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    height: 50px;\n    background-color: darkslategray;\n    width: 100%;\n    bottom: 0;\n    padding: 0px 10px 0px 10px;\n`;\n\nconst SocialMedia = styled.div`\n    position: absolute;\n    top: 10px;\n    right: 10px;\n`;\n\nconst ServiceCard = ({\n    icon = 'users',\n    header = 'Header',\n    content = 'Content',\n    align,\n}) => {\n    return (\n        <FlexColumn>\n            <IconStyled circular name={icon} size=\"huge\" />\n            <Subheader>{header}</Subheader>\n            <BodyText color=\"gray\" align={align}>\n                {content}\n            </BodyText>\n        </FlexColumn>\n    );\n};\n\nconst InfoCard = ({\n    icon = 'users',\n    header = 'Header',\n    content = 'Content',\n    align,\n}) => {\n    return (\n        <FlexColumn>\n            <Icon name={icon} size=\"big\" />\n            <Subheader>{header}</Subheader>\n            <BodyText color=\"gray\" align={align}>\n                {content}\n            </BodyText>\n        </FlexColumn>\n    );\n};\n\nexport default function LandingPage() {\n    return (\n        <Wrapper>\n            <BaseContent>\n                <ContentContainer>\n                    <SocialMedia>\n                        <div>\n                            <a\n                                href=\"https://discord.gg/Wpej7dQ\"\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                            >\n                                <FooterIcon link name=\"discord\" size=\"big\" />\n                            </a>\n                            <a\n                                href=\"https://www.facebook.com/RGTClubhouse/\"\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                            >\n                                <FooterIcon link name=\"facebook\" size=\"big\" />\n                            </a>\n                        </div>\n                    </SocialMedia>\n                    <Spacer height=\"30\" />\n                    <Divider>\n                        <Slogan>\n                            The Clubhouse is open{' '}\n                            <span role=\"img\" aria-label=\"confetti\">\n                                \n                            </span>\n                        </Slogan>\n                        <Subheader color=\"white\">\n                            We are open all week for your CCG needs!{' '}\n                            <em>\n                                (Play space use and events are cancelled until\n                                further notice due to WPN's in-store play\n                                suspension)\n                            </em>\n                        </Subheader>\n                        <FlexRowResponsive>\n                            <Link to=\"/public-inventory\">\n                                <Button>\n                                    <b>Browse cards</b>\n                                </Button>\n                            </Link>\n                        </FlexRowResponsive>\n                        <ImageMask />\n                        <Image />\n                    </Divider>\n\n                    <FlexRow>\n                        <Header>Latest News</Header>\n                    </FlexRow>\n                    <Spacer height=\"30\" />\n                    <Grid>\n                        <Card\n                            imageSrc={kaldheim}\n                            header=\"New product preorders!\"\n                            date=\"01/03/2021\"\n                        >\n                            <p>\n                                Hello everyone, we officially have Kaldheim\n                                preorders up! We have 5 products on the lineup\n                                starting with Draft Boxes at $100, Set Boxes at\n                                $110, Collector Boxes at $219, Bundles at $39,\n                                and the Commander Decks at $19. Hope to see you\n                                all soon!\n                            </p>\n                            <p>\n                                Note: We are limiting each product to 1 per\n                                person.\n                            </p>\n                        </Card>\n                        <Card\n                            imageSrc={zen_meme}\n                            header=\"New product preorders!\"\n                            date=\"09/05/2020\"\n                        >\n                            <p>\n                                Hey everyone! We are excited to announce that we\n                                have begun our Zendikar Rising preorders! Come\n                                on down starting today and lock in your products\n                                of choice. We have the following available:\n                            </p>\n                            <ul>\n                                <li>Regular Booster Box - $100</li>\n                                <li>Collector Booster Box - $209</li>\n                                <li>Set Booster Box - $110</li>\n                                <li>Bundle - $39</li>\n                            </ul>\n\n                            <p>\n                                Hope you're all as excited for the return to the\n                                legendary Zendikar as we are!\n                            </p>\n                        </Card>\n                        <Card\n                            imageSrc={double_masters}\n                            header=\"New product preorders!\"\n                            date=\"06/08/2020\"\n                        >\n                            <p>\n                                <em>\n                                    Note: Preorders for Double Masters are now\n                                    closed.\n                                </em>\n                            </p>\n                            <p>\n                                The time has come! We have had loads of\n                                questions about all the upcoming products, and\n                                we are excited to start taking PRE ORDERS on a\n                                range of upcoming items:\n                            </p>\n                            <ul>\n                                <li>Jump Start $90 per box, Limit 2</li>\n                                <li>Double Masters $249 per box, Limit 2</li>\n                                <li>\n                                    Double Masters VIP $369 per box, No Limit\n                                </li>\n                                <li>Double Master VIP $95 per pack, Limit 1</li>\n                            </ul>\n                        </Card>\n                        <Card\n                            imageSrc={core_2021_collector}\n                            header=\"Collector Booster preorders!\"\n                            date=\"06/02/2020\"\n                        >\n                            <p>\n                                To compound the excitement, We JUST got numbers\n                                on Collector Boosters for Core 2021! We are now\n                                taking pre-orders for those as well! $229 per,\n                                limit 1 box per customer.\n                            </p>\n                        </Card>\n                        <Card\n                            imageSrc={core_2021_draft_booster}\n                            header=\"Core 2021 preorders!\"\n                            date=\"06/02/2020\"\n                        >\n                            <p>\n                                It's already time. Core 2021 is upon us. We are\n                                now taking Booster Box pre-orders! $100 per box,\n                                2 boxes per person limit. Pre-release sign ups\n                                will begin on June 19th!\n                            </p>\n                            <p>\n                                Note: Preorders for draft booster boxes have now\n                                ended. We currently have them for sale at $110\n                                each. Collector Booster preorders will end on\n                                June 3rd.\n                            </p>\n                        </Card>\n                    </Grid>\n\n                    <Spacer height=\"30\" />\n\n                    <Divider>\n                        <Spacer height=\"30\" />\n                        <FlexRow>\n                            <Header>Our Services</Header>\n                        </FlexRow>\n                        <FlexRow>\n                            {/* <Subheader>\n                                We're here for all your CCG needs!\n                            </Subheader> */}\n                        </FlexRow>\n                        <Spacer height=\"30\" />\n                        <Grid>\n                            <ServiceCard\n                                icon=\"box\"\n                                header=\"Large product selection\"\n                                content=\"We stock an extensive selection of singles and CCG supplies just for you! When the deckbuilding itch strikes, turn to us\"\n                                align=\"center\"\n                            />\n                            <ServiceCard\n                                header=\"Inclusive community\"\n                                content=\"We pride ourselves on our friendly atmosphere. Young or seasoned, beginner or advanced, we welcome all players!\"\n                                align=\"center\"\n                            />\n                            <ServiceCard\n                                icon=\"dollar sign\"\n                                header=\"Cash or credit trade-ins\"\n                                content=\"Whether a whole collection or a single card, come on by and have one of our expert managers appraise it using competitive market rates\"\n                                align=\"center\"\n                            />\n                        </Grid>\n                        <ImageMask2 />\n                        <Image2 />\n                    </Divider>\n                    <Spacer height=\"30\" />\n                    <Grid>\n                        <InfoCard\n                            icon=\"clock\"\n                            header=\"Hours\"\n                            content=\"Mon - Fri 12pm to 7pm, Sat - Sun 11am to 7pm\"\n                            align=\"center\"\n                        />\n                        <InfoCard\n                            icon=\"location arrow\"\n                            header=\"Location\"\n                            content=\"13895 SW Farmington Rd, Beaverton, OR 97005\"\n                            align=\"center\"\n                        />\n                        <InfoCard\n                            icon=\"phone\"\n                            header=\"Contact\"\n                            content=\"(503) 268-1449\"\n                        />\n                    </Grid>\n                    <Spacer height=\"30\" />\n                </ContentContainer>\n            </BaseContent>\n            <FooterStyle>\n                <SpanStyle>\n                    <Link to=\"/login\" id=\"login-btn\">\n                        <Label as=\"a\" color=\"black\">\n                            Staff login\n                        </Label>\n                    </Link>\n                </SpanStyle>\n                <SpanStyle>\n                    <BodyText size=\"12px\" color=\"white\">\n                         2020 The Clubhouse\n                    </BodyText>\n                </SpanStyle>\n                <SpanStyle>\n                    <BodyText size=\"12px\" color=\"gray\">\n                        Powered by Scryfall\n                    </BodyText>\n                </SpanStyle>\n            </FooterStyle>\n        </Wrapper>\n    );\n}\n","import React, { FC } from 'react';\nimport Header from './Header/Header';\nimport AuthProvider from './context/AuthProvider';\nimport { Switch, Route } from 'react-router-dom';\nimport ManageInventory from './ManageInventory/ManageInventory';\nimport Sale from './NewSale/Sale';\nimport BrowseSales from './BrowseSales/BrowseSales';\nimport PublicInventory from './PublicInventory/PublicInventory';\nimport DeckboxClone from './DeckboxClone/DeckboxClone';\nimport Login from './Login/Login';\nimport Logout from './Logout/Logout';\nimport Receiving from './Receiving/Receiving';\nimport LandingPage from './LandingPage/LandingPage';\nimport styled from 'styled-components';\nimport { SaleProvider } from './context/SaleContext';\nimport { ReceivingProvider } from './context/ReceivingContext';\nimport InventoryProvider from './context/InventoryContext';\n\nconst ContentContainer = styled.div`\n    padding-top: 75px;\n    margin-left: 20px;\n    margin-right: 20px;\n`;\n\nconst BackgroundColor = styled.div`\n    background-color: #f9fafb;\n    min-height: 100vh;\n`;\n\nconst App: FC<{}> = () => {\n    return (\n        <AuthProvider>\n            <Header />\n            <Switch>\n                <Route exact path=\"/\" component={LandingPage} />\n                <BackgroundColor>\n                    <ContentContainer id=\"content-container\">\n                        <InventoryProvider>\n                            <Route\n                                exact\n                                path=\"/manage-inventory\"\n                                component={ManageInventory}\n                            />\n                        </InventoryProvider>\n                        <SaleProvider>\n                            <Route exact path=\"/new-sale\" component={Sale} />\n                        </SaleProvider>\n                        <Route\n                            exact\n                            path=\"/browse-sales\"\n                            component={BrowseSales}\n                        />\n                        <Route\n                            exact\n                            path=\"/browse-inventory\"\n                            component={DeckboxClone}\n                        />\n                        <Route\n                            exact\n                            path=\"/public-inventory\"\n                            component={PublicInventory}\n                        />\n                        <ReceivingProvider>\n                            <Route\n                                exact\n                                path=\"/receiving\"\n                                component={Receiving}\n                            />\n                        </ReceivingProvider>\n                        <Route exact path=\"/login\" component={Login} />\n                        <Route exact path=\"/logout\" component={Logout} />\n                    </ContentContainer>\n                </BackgroundColor>\n            </Switch>\n        </AuthProvider>\n    );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { HashRouter } from 'react-router-dom';\nimport 'semantic-ui-css/semantic.min.css';\n\nReactDOM.render(\n    <HashRouter basename='/'>\n        <App />\n    </HashRouter>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}