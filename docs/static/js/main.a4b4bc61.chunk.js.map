{"version":3,"sources":["logos/magic-ball.png","api_resources.js","makeAuthHeader.js","SearchBar.js","QohParser.js","createToast.js","CardImage.js","Price.js","MarketPrice.js","ScryfallCardListItem.js","ScryfallCardList.js","Home.js","BrowseCardItem.js","BrowseCardList.js","SalePriceTotal.js","SaleLineItem.js","CustomerSaleList.js","Sale.js","SalesListItem.js","SalesList.js","BrowseSales.js","PublicCardItem.js","PublicCardList.js","PublicInventory.js","Login.js","Logout.js","Main.js","Header.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","env","process","REACT_APP_ENVIRONMENT","endpoints","GET_CARDS_BY_TITLE","GET_CARD_QTY_FROM_INVENTORY","FINISH_SALE","ADD_CARD_TO_INVENTORY","GET_INVENTORY_QUERY","GET_SALES_BY_TITLE","GET_SCRYFALL_BULK_BY_TITLE","LOGIN","SCRYFALL_AUTOCOMPLETE","SCRYFALL_SEARCH","SCRYFALL_ID_SEARCH","makeAuthHeader","Authorization","localStorage","getItem","SearchBar","state","isLoading","term","autocomplete","results","defaultSearchValue","handleSearchChange","e","value","setState","length","setTimeout","a","axios","get","headers","data","formattedResults","map","el","title","slice","handleResultSelect","result","props","handleSearchSelect","this","Search","onSearchChange","_","debounce","leading","trailing","onResultSelect","loading","placeholder","selectFirstResult","id","onFocus","$","select","React","Component","QohParser","inventoryQty","foilQty","nonfoilQty","FOIL_NM","FOIL_LP","FOIL_MP","FOIL_HP","NONFOIL_NM","NONFOIL_LP","NONFOIL_MP","NONFOIL_HP","foilColor","color","nonfoilColor","Fragment","Label","image","Detail","createToast","header","message","duration","toaster","notify","Message","compact","Header","position","style","boxShadow","zIndex","transition","CardImage","hovered","mouseOver","mouseOut","image_uris","card_faces","Image","src","normal","size","transform","onMouseOver","onMouseOut","Price","num","price","Number","toFixed","foilStyle","backgroundColor","backgroundImage","MarketPrice","finish","useState","setPrice","setLoading","useEffect","finishStatus","prices","tag","Icon","name","finishes","key","text","cardConditions","checkCardFinish","nonfoilProp","foilProp","selectedFinish","finishDisabled","ScryfallCardListItem","quantity","nonfoil","foil","selectedCondition","submitDisable","submitLoading","handleFinishChange","console","log","handleConditionChange","handleQuantityChange","val","parseInt","isNaN","handleFocus","handleBlur","handleInventoryAdd","type","post","cardInfo","qoh","focus","set_name","set","rarity","Segment","Item","Group","divided","Content","as","className","fontSize","String","toUpperCase","Description","Form","Field","control","Input","label","onChange","onBlur","Select","options","disabled","Button","primary","onClick","ScryfallCardList","cards","card","showImage","showImages","quantities","Home","searchResults","inventoryQuantities","params","ids","scryfallIds","inventoryRes","handleImageToggle","icon","createConditionOptions","removeZeroedQuantites","pickBy","p","Object","entries","d","conditionFinish","qty","split","join","createInitialSelectedFinish","keysMapped","keys","k","uniq","indexOf","BrowseCardItem","selectedFinishCondition","selectedFinishConditionQty","quantityToSell","conditionOptions","numVal","handleSelectedFinishCondition","handlePriceChange","property","handleAddToSale","addToSaleList","Dropdown","selection","step","BrowseCardList","SalePriceTotal","saleList","total","reduce","acc","qtyToSell","SaleLineItem","finishCondition","deleteLineItem","Meta","floated","CustomerSaleList","removeFromSaleList","ORDER","helpSort","arrayConst","colorsLength","cardFace","colors","type_line","includes","sort","b","localeCompare","sortSaleList","initialState","saleListCards","showModal","searchTerm","Sale","newCard","oldState","idx","findIndex","splice","push","newState","reject","finalizeSale","saleID","sale_data","closeModal","Grid","Row","display","alignItems","stackable","Column","width","Divider","clearing","sub","Modal","basic","open","trigger","inverted","Actions","SalesListItem","saleData","quantitySold","cardList","pre","curr","Table","Cell","moment","createTime","format","SalesList","list","celled","unstackable","HeaderCell","Body","card_list","_id","BrowseSales","salesList","cardName","wrapperStyle","overlayStyle","padding","borderRadius","bottom","inlineBlock","floatRight","float","roundedStyle","PublicCardItem","gridStyle","flexWrap","alignContent","height","PublicCardList","PublicInventory","Subheader","username","password","btnLoading","Login","handleInputChange","target","login","handleLogin","authed","loggedIn","to","Logout","Container","fluid","Main","paddingTop","marginLeft","marginRight","exact","path","component","render","background","Menu","fixed","ballLogo","alt","Link","item","App","toLowerCase","token","setItem","clear","Boolean","window","location","hostname","match","ReactDOM","basename","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.a4b4bc61.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/magic-ball.c3fcddd6.png\";","// Maps all GCF and Scryfall API endpoints for code re-use\nconst { REACT_APP_ENVIRONMENT } = process.env;\n\n/**\n * Check the environment for dev - if dev, we reach out\n * to all endpoints appended by `_test` instead of production\n */\nconst env = REACT_APP_ENVIRONMENT === 'development' ? '_test' : '';\n\nconst endpoints = {\n    GET_CARDS_BY_TITLE:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/getCardsByTitle${env}`,\n    GET_CARD_QTY_FROM_INVENTORY:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/getCardsFromInventory${env}`,\n    FINISH_SALE:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/finishSale${env}`,\n    ADD_CARD_TO_INVENTORY:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/addCardToInventory${env}`,\n    GET_INVENTORY_QUERY:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/inventorySearchQuery${env}`,\n    GET_SALES_BY_TITLE:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/getSales${env}`,\n    GET_SCRYFALL_BULK_BY_TITLE:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/getScryfallBulkCardsByTitle${env}`,\n    LOGIN:\n        `https://us-central1-clubhouse-collection.cloudfunctions.net/getJwt${env}`,\n\n    SCRYFALL_AUTOCOMPLETE: 'https://api.scryfall.com/cards/autocomplete',\n    SCRYFALL_SEARCH: 'https://api.scryfall.com/cards/search',\n    SCRYFALL_ID_SEARCH: 'https://api.scryfall.com/cards/'\n};\n\nmodule.exports = endpoints;\n","/**\n * This function is a helper for Axios, it yields an object for Axios params\n */\nexport default function makeAuthHeader() {\n    const header = { Authorization: `Bearer ${localStorage.getItem('clubhouse_JWT')}` };\n    return header;\n}","import React from 'react';\nimport { Search } from 'semantic-ui-react';\nimport _ from 'lodash';\nimport axios from 'axios';\nimport makeAuthHeader from './makeAuthHeader';\nimport { SCRYFALL_AUTOCOMPLETE } from './api_resources';\nimport $ from 'jquery';\n\nclass SearchBar extends React.Component {\n    state = {\n        isLoading: false,\n        term: '',\n        autocomplete: [],\n        results: [],\n        defaultSearchValue: 'Search for a card'\n    };\n\n    handleSearchChange = (e, { value }) => {\n        this.setState({ term: value });\n\n        if (this.state.term.length < 1) {\n            return this.setState({\n                isLoading: false,\n                term: '',\n                results: [],\n                autocomplete: [],\n                defaultSearchValue: 'Search for a card'\n            });\n        }\n\n        // Don't search if only 2 letters in box\n        if (this.state.term.length < 3) {\n            return;\n        }\n\n        this.setState({ isLoading: true });\n\n        setTimeout(async () => {\n            const { data } = await axios.get(\n                `${SCRYFALL_AUTOCOMPLETE}?q=${this.state.term}`,\n                { headers: makeAuthHeader() }\n            );\n\n            const formattedResults = data.data.map(el => {\n                return { title: el };\n            }).slice(0, 7);\n\n            this.setState({\n                results: formattedResults,\n                isLoading: false\n            });\n        }, 100);\n    };\n\n    handleResultSelect = (e, { result }) => {\n        this.props.handleSearchSelect(result.title);\n    };\n\n    render() {\n        const { results, isLoading, defaultSearchValue } = this.state;\n\n        return (\n            <Search\n                onSearchChange={_.debounce(this.handleSearchChange, 500, {\n                    leading: false,\n                    trailing: true\n                })}\n                onResultSelect={this.handleResultSelect}\n                loading={isLoading}\n                results={results}\n                placeholder={defaultSearchValue}\n                selectFirstResult={true}\n                id=\"searchBar\"\n                onFocus={() => { $('#searchBar').select() }}\n            />\n        );\n    }\n}\n\nexport default SearchBar;\n","import React from 'react';\nimport { Label } from 'semantic-ui-react';\n\n// This component parses the `qoh` object from mongo into something\n// more presentable\n\n// available entries:\n// {\n//     FOIL_NM: 0,\n//     FOIL_LP: 0,\n//     FOIL_MP: 0,\n//     FOIL_HP: 0,\n//     NONFOIL_NM: 0,\n//     NONFOIL_LP: 0,\n//     NONFOIL_MP: 0,\n//     NONFOIL_HP: 0\n// };\n\nexport default function QohParser({ inventoryQty }) {\n    let foilQty = 0;\n    let nonfoilQty = 0;\n\n    if (inventoryQty) { // Check to see if props exist\n        foilQty =\n            (inventoryQty.FOIL_NM || 0) +\n            (inventoryQty.FOIL_LP || 0) +\n            (inventoryQty.FOIL_MP || 0) +\n            (inventoryQty.FOIL_HP || 0);\n\n        nonfoilQty =\n            (inventoryQty.NONFOIL_NM || 0) +\n            (inventoryQty.NONFOIL_LP || 0) +\n            (inventoryQty.NONFOIL_MP || 0) +\n            (inventoryQty.NONFOIL_HP || 0);\n    }\n\n    const foilColor = {};\n    if (foilQty > 0) { foilColor.color = 'blue'; }\n\n    const nonfoilColor = {};\n    if (nonfoilQty > 0) { nonfoilColor.color = 'blue'; }\n\n    return (\n        <React.Fragment>\n            <Label {...foilColor} image>\n                Foil\n        <Label.Detail>{foilQty}</Label.Detail>\n            </Label>\n            <Label {...nonfoilColor} image>\n                Nonfoil\n        <Label.Detail>{nonfoilQty}</Label.Detail>\n            </Label>\n        </React.Fragment>\n    );\n}\n","import React from 'react';\nimport { Message } from 'semantic-ui-react';\nimport toaster from 'toasted-notes';\n\nconst createToast = ({ color, header, message, duration = 2000 }) => {\n    return toaster.notify(\n        () => (\n            <Message color={color} compact>\n                <Message.Header>{header}</Message.Header>\n                {message}\n            </Message>\n        ),\n        {\n            position: 'bottom-right',\n            duration: duration\n        }\n    );\n}\n\nexport default createToast;","import React from 'react';\nimport { Image } from 'semantic-ui-react';\n\nconst style = {\n    boxShadow: '2px 2px 5px 0 rgba(0,0,0,.25)',\n    zIndex: '10',\n    transition: 'all .2s ease-in-out'\n}\n\nclass CardImage extends React.Component {\n    state = { hovered: false };\n\n    mouseOver = () => { this.setState({ hovered: true }) };\n\n    mouseOut = () => { this.setState({ hovered: false }) };\n\n    render() {\n        const { image_uris, card_faces } = this.props\n        try {\n            // If normal prop `image_uris.normal` doesn't exist, move to catch block for flip card faces\n            return <Image\n                src={image_uris.normal}\n                size=\"tiny\"\n                style={{ ...style, transform: `${this.state.hovered ? 'scale(1.75)' : 'scale(1)'}` }}\n                onMouseOver={this.mouseOver}\n                onMouseOut={this.mouseOut}\n            />;\n        } catch (e) {\n            return <Image src={\n                card_faces[0].image_uris.normal}\n                size=\"tiny\"\n                style={{ ...style, transform: `${this.state.hovered ? 'scale(1.75)' : 'scale(1)'}` }}\n                onMouseOver={this.mouseOver}\n                onMouseOut={this.mouseOut}\n            />;\n        }\n    }\n};\n\nexport default CardImage;\n","import React from 'react';\n\nconst Price = ({ num }) => {\n    const price = Number(num).toFixed(2);\n    return <span>${price}</span>;\n};\n\nexport default Price;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Price from './Price';\nimport makeAuthHeader from './makeAuthHeader';\nimport { SCRYFALL_ID_SEARCH } from './api_resources';\nimport { Label, Icon } from 'semantic-ui-react';\n\nconst foilStyle = {\n    backgroundColor: '#ffcfdf',\n    backgroundImage: 'linear-gradient(90deg, #ffcfdf 0%, #b0f3f1 74%)'\n}\n\nexport default function MarketPrice({ id, finish }) {\n    const [price, setPrice] = useState(null);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        (async function fetchData() {\n            setLoading(true);\n            const { data } = await axios.get(`${SCRYFALL_ID_SEARCH}${id}`, { headers: makeAuthHeader() });\n            let finishStatus = 'usd';\n\n            if (finish === 'FOIL') finishStatus += '_foil';\n\n            setPrice(Number(data.prices[finishStatus]));\n            setLoading(false);\n        })();\n    }, [id, finish]);\n\n    return (\n        <Label tag style={finish === 'FOIL' ? foilStyle : null}>\n            {loading ? <Icon loading name='spinner' /> : <span>Est. {price ? <Price num={price} /> : 'not found'}</span>}\n        </Label>\n    );\n}\n","import React, { Component } from 'react';\nimport {\n    Segment,\n    Input,\n    Button,\n    Form,\n    Select,\n    Label,\n    Item\n} from 'semantic-ui-react';\nimport axios from 'axios';\nimport QohParser from './QohParser';\nimport createToast from './createToast';\nimport CardImage from './CardImage';\nimport makeAuthHeader from './makeAuthHeader';\nimport MarketPrice from './MarketPrice'\nimport { ADD_CARD_TO_INVENTORY } from './api_resources';\nimport $ from 'jquery';\n\nconst finishes = [\n    { key: 'NONFOIL', text: 'Nonfoil', value: 'NONFOIL' },\n    { key: 'FOIL', text: 'Foil', value: 'FOIL' }\n];\n\nconst cardConditions = [\n    { key: 'NM', text: 'Near Mint', value: 'NM' },\n    { key: 'LP', text: 'Light Play', value: 'LP' },\n    { key: 'MP', text: 'Moderate Play', value: 'MP' },\n    { key: 'HP', text: 'Heavy Play', value: 'HP' }\n];\n\n/**\n * Seeds state from props. Used to determine if cards have only foil, nonfoil, or both printings\n * from their `foil` and `nonfoil`\n * @param {Boolean} nonfoilProp\n * @param {Boolean} foilProp\n */\nfunction checkCardFinish(nonfoilProp, foilProp) {\n    if (!nonfoilProp && foilProp) {\n        return { selectedFinish: 'FOIL', finishDisabled: true };\n    } else if (nonfoilProp && !foilProp) {\n        return { selectedFinish: 'NONFOIL', finishDisabled: true };\n    } else if (nonfoilProp && foilProp) {\n        return { selectedFinish: 'NONFOIL', finishDisabled: false };\n    }\n}\n\nexport default class ScryfallCardListItem extends Component {\n    state = {\n        quantity: 0,\n        selectedFinish: checkCardFinish(this.props.nonfoil, this.props.foil)\n            .selectedFinish,\n        selectedCondition: 'NM',\n        finishDisabled: checkCardFinish(this.props.nonfoil, this.props.foil)\n            .finishDisabled,\n        submitDisable: false,\n        inventoryQty: this.props.inventoryQty,\n        submitLoading: false\n    };\n\n    handleFinishChange = (e, { value }) => {\n        this.setState({ selectedFinish: value }, () => {\n            console.log(this.state);\n        });\n    };\n\n    handleConditionChange = (e, { value }) => {\n        this.setState({ selectedCondition: value }, () => {\n            console.log(this.state);\n        });\n    };\n\n    handleQuantityChange = (e, { value }) => {\n        const val = parseInt(value);\n        const quantity = isNaN(val) ? '' : val; // Check for NaN\n        this.setState({ quantity: quantity });\n    };\n\n    // Remove input placeholder when user tries to enter a number (to reduce user error)\n    handleFocus = () => {\n        if (this.state.quantity === 0) {\n            this.setState({ quantity: '' })\n        }\n    }\n\n    // Restore input placeholder when user blurs field\n    handleBlur = () => {\n        if (this.state.quantity === '') {\n            this.setState({ quantity: 0 })\n        }\n    }\n\n    handleInventoryAdd = async (e, { value }) => {\n        const { quantity, selectedFinish, selectedCondition } = this.state;\n        const { name, nonfoil, foil } = this.props;\n        // This is the identifier for quantities of different finishes/conditions in the db\n        const type = `${selectedFinish}_${selectedCondition}`;\n\n        try {\n            this.setState({ submitDisable: true, submitLoading: true });\n\n            const { data } = await axios.post(ADD_CARD_TO_INVENTORY, {\n                quantity: quantity,\n                type: type,\n                cardInfo: { ...this.props },\n            }, { headers: makeAuthHeader() });\n\n            createToast({\n                color: 'green',\n                header: `${quantity}x ${name} ${quantity > 0 ? 'added' : 'removed'}!`,\n                duration: 2000\n            });\n\n            this.setState({\n                quantity: 0,\n                selectedFinish: checkCardFinish(nonfoil, foil).selectedFinish,\n                selectedCondition: 'NM',\n                finishDisabled: checkCardFinish(nonfoil, foil).finishDisabled,\n                submitDisable: false,\n                inventoryQty: data.qoh,\n                submitLoading: false\n            });\n\n            // Highlight the input after successful card add\n            $('#searchBar').focus().select();\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    render() {\n        const {\n            selectedFinish,\n            selectedCondition,\n            finishDisabled,\n            quantity,\n            submitDisable,\n            inventoryQty,\n            submitLoading\n        } = this.state;\n        const {\n            image_uris,\n            name,\n            set_name,\n            set,\n            rarity,\n            card_faces,\n            id\n        } = this.props;\n\n        return (\n            <Segment>\n                <Item.Group divided>\n                    <Item>\n                        <Item.Image size=\"tiny\">\n                            <CardImage\n                                image_uris={image_uris}\n                                card_faces={card_faces}\n                            />\n                        </Item.Image>\n                        <Item.Content>\n                            <Item.Header as='h3'>\n                                {name}\n                                {' '}\n                                <i\n                                    className={`ss ss-fw ss-${set} ss-${rarity}`}\n                                    style={{ fontSize: '30px' }}\n                                />\n                                <Label color=\"grey\">\n                                    {set_name} ({String(set).toUpperCase()})\n                                </Label>\n                                <QohParser inventoryQty={inventoryQty} />\n                                {' '}\n                                <MarketPrice id={id} finish={selectedFinish} />\n                            </Item.Header>\n                            <Item.Description>\n                                <Form>\n                                    <Form.Group>\n                                        <Form.Field\n                                            control={Input}\n                                            type=\"number\"\n                                            label=\"Quantity\"\n                                            value={quantity}\n                                            onChange={this.handleQuantityChange}\n                                            onFocus={this.handleFocus}\n                                            onBlur={this.handleBlur}\n                                        />\n                                        <Form.Field\n                                            label=\"Finish\"\n                                            control={Select}\n                                            value={selectedFinish}\n                                            options={finishes}\n                                            disabled={finishDisabled}\n                                            onChange={this.handleFinishChange}\n                                        />\n                                        <Form.Field\n                                            label=\"Condition\"\n                                            control={Select}\n                                            value={selectedCondition}\n                                            options={cardConditions}\n                                            onChange={this.handleConditionChange}\n                                        />\n                                        <Form.Button\n                                            label=\"Add to Inventory?\"\n                                            control={Button}\n                                            primary\n                                            disabled={\n                                                quantity === 0 ||\n                                                quantity === '' ||\n                                                submitDisable\n                                            }\n                                            onClick={this.handleInventoryAdd}\n                                            loading={submitLoading}\n                                        >\n                                            Submit\n                                    </Form.Button>\n                                    </Form.Group>\n                                </Form>\n                            </Item.Description>\n                        </Item.Content>\n                    </Item>\n                </Item.Group>\n            </Segment>\n        );\n    }\n}\n","import React from 'react';\nimport ScryfallCardListItem from './ScryfallCardListItem';\n\nfunction ScryfallCardList(props) {\n    // Tie the QOH to the fetched card, if it exists!\n    const cardList = props.cards.map(card => {\n        return (\n            <ScryfallCardListItem\n                showImage={props.showImages}\n                key={card.id}\n                {...card}\n                inventoryQty={props.quantities[card.id]}\n            />\n        );\n    });\n\n    return cardList\n}\n\nexport default ScryfallCardList;\n","import React from 'react';\nimport SearchBar from './SearchBar';\nimport axios from 'axios';\nimport makeAuthHeader from './makeAuthHeader';\nimport ScryfallCardList from './ScryfallCardList';\nimport { Segment, Header, Icon } from 'semantic-ui-react'\nimport { GET_CARD_QTY_FROM_INVENTORY, GET_SCRYFALL_BULK_BY_TITLE } from './api_resources';\n\nclass Home extends React.Component {\n    state = { searchResults: [], inventoryQuantities: [], showImages: true };\n\n    handleSearchSelect = async term => {\n        try {\n            const { data } = await axios.get(\n                GET_SCRYFALL_BULK_BY_TITLE,\n                {\n                    params: { title: term },\n                    headers: makeAuthHeader()\n                }\n            );\n\n            const ids = data.map(el => el.id);\n\n            // Fetches only the in-stock qty of a card tied to an `id`\n            const inventoryRes = await axios.post(\n                GET_CARD_QTY_FROM_INVENTORY,\n                { scryfallIds: ids },\n                { headers: makeAuthHeader() }\n            );\n\n            this.setState({\n                searchResults: data,\n                inventoryQuantities: inventoryRes.data\n            });\n        } catch (e) {\n            console.log(e);\n        }\n    };\n\n    handleImageToggle = () => {\n        this.setState({ showImages: !this.state.showImages });\n    };\n\n    render() {\n        const { searchResults } = this.state;\n\n        return (\n            <React.Fragment>\n                <SearchBar handleSearchSelect={this.handleSearchSelect} />\n\n                {!searchResults.length &&\n                    <Segment placeholder>\n                        <Header icon>\n                            <Icon name=\"search\" />\n                            <em>\"Searching the future for answers often leads to further questions.\"</em>\n                        </Header>\n                    </Segment>}\n\n                <ScryfallCardList\n                    showImages={this.state.showImages}\n                    cards={this.state.searchResults}\n                    quantities={this.state.inventoryQuantities}\n                />\n            </React.Fragment>\n        );\n    }\n}\n\nexport default Home;\n","import React from 'react';\nimport {\n    Segment,\n    Label,\n    Form,\n    Input,\n    Dropdown,\n    Button,\n    Item\n} from 'semantic-ui-react';\nimport CardImage from './CardImage';\nimport MarketPrice from './MarketPrice';\nimport QohParser from './QohParser';\nimport $ from 'jquery';\nimport _ from 'lodash';\n\n/**\n * Creates a list of conditions for the dropdown menu from the `qoh`\n * Note: Is this not needed if we default select initially?\n * @param {Object} qoh\n * @param {String} id\n */\nfunction createConditionOptions(qoh, id) {\n    const removeZeroedQuantites = _.pickBy(qoh, p => p > 0); // Quantites of zero not included\n\n    return Object.entries(removeZeroedQuantites).map(d => {\n        const [conditionFinish, qty] = d;\n\n        return {\n            text: `${conditionFinish.split('_').join(' | ')} | Qty: ${qty}`,\n            value: conditionFinish,\n            key: `${id}${conditionFinish}`\n        };\n    });\n}\n\n/**\n * Creates initial selectedFinish value, used for the MarketPrice component\n * Returns FOIL or NONFOIL depending on what's in current inventory (qoh)\n * @param {Object} qoh\n */\nfunction createInitialSelectedFinish(qoh) {\n    const removeZeroedQuantites = _.pickBy(qoh, p => p > 0);\n    // Isolate only the FOIL or NONFOIL values with mapping\n    const keysMapped = _.keys(removeZeroedQuantites).map(k => k.split('_')[0]);\n    const uniqueValues = _.uniq(keysMapped);\n    return uniqueValues.indexOf('NONFOIL') > -1 ? 'NONFOIL' : 'FOIL';\n}\n\nexport default class BrowseCardItem extends React.Component {\n    state = {\n        selectedFinishCondition: '',\n        selectedFinishConditionQty: 0,\n        quantityToSell: 0,\n        price: 0,\n        // Excludes condition ex. `FOIL` rather than `FOIL_NM`. Initialize at nonfoil unless only foil printing\n        selectedFinish: createInitialSelectedFinish(this.props.qoh),\n        conditionOptions: createConditionOptions(this.props.qoh, this.props.id)\n    };\n\n    handleQuantityChange = (e, { value }) => {\n        const { selectedFinishConditionQty } = this.state;\n        let numVal = parseInt(value);\n\n        if (numVal > selectedFinishConditionQty) {\n            numVal = selectedFinishConditionQty;\n        }\n\n        if (isNaN((numVal)) || numVal < 0) { numVal = 0; }\n\n        this.setState({ quantityToSell: numVal });\n    };\n\n    handleSelectedFinishCondition = (e, { value }) => {\n        this.setState({\n            selectedFinishCondition: value,\n            selectedFinishConditionQty: this.props.qoh[value],\n            selectedFinish: value.split('_')[0] // Change selectedFinish after user selection\n        });\n    };\n\n    handlePriceChange = (e, { value }) => {\n        let numVal = Number(value);\n        if (isNaN((numVal)) || numVal < 0) { numVal = 0; }\n        this.setState({ price: numVal });\n    };\n\n    // Remove input placeholder when user tries to enter a number (to reduce user error)\n    handleFocus = (property) => {\n        if (this.state[property] === 0) {\n            this.setState({ [property]: '' })\n        }\n    }\n\n    // Restore input placeholder when user blurs field\n    handleBlur = (property) => {\n        if (this.state[property] === '') {\n            this.setState({ [property]: 0 })\n        }\n    }\n\n    handleAddToSale = () => {\n        const { selectedFinishCondition, quantityToSell, price } = this.state;\n        const { qoh, id } = this.props;\n\n        this.props.addToSaleList(\n            { ...this.props },\n            selectedFinishCondition,\n            quantityToSell,\n            price\n        );\n\n        // Reset state\n        this.setState({\n            selectedFinishCondition: '',\n            selectedFinishConditionQty: 0,\n            quantityToSell: 0,\n            price: 0,\n            conditionOptions: createConditionOptions(qoh, id),\n            selectedFinish: createInitialSelectedFinish(qoh)\n        });\n\n        // Highlight the input after successful card add\n        $('#searchBar').focus().select();\n    };\n\n    render() {\n        const {\n            name,\n            image_uris,\n            set,\n            set_name,\n            rarity,\n            qoh,\n            id,\n            card_faces\n        } = this.props;\n\n        const {\n            selectedFinishCondition,\n            selectedFinishConditionQty,\n            selectedFinish,\n            conditionOptions,\n            quantityToSell,\n            price\n        } = this.state;\n\n        return (\n            <Segment>\n                <Item.Group divided>\n                    <Item>\n                        <Item.Image size=\"tiny\">\n                            <CardImage\n                                image_uris={image_uris}\n                                card_faces={card_faces}\n                            />\n                        </Item.Image>\n                        <Item.Content>\n                            <Item.Header as=\"h3\">\n                                {name}{' '}\n                                <i\n                                    className={`ss ss-fw ss-${set} ss-${rarity}`}\n                                    style={{ fontSize: '30px' }}\n                                />\n                                <Label color=\"grey\">\n                                    {set_name} ({String(set).toUpperCase()})\n                                </Label>\n                                <QohParser inventoryQty={qoh} />\n                                {' '}\n                                <MarketPrice id={id} finish={selectedFinish} />\n                            </Item.Header>\n                            <Item.Description>\n                                <Form>\n                                    <Form.Group>\n                                        <Form.Field\n                                            control={Dropdown}\n                                            selection\n                                            placeholder=\"Select inventory\"\n                                            options={conditionOptions}\n                                            value={selectedFinishCondition}\n                                            label=\"Select finish/condition\"\n                                            onChange={this.handleSelectedFinishCondition}\n                                        />\n                                        <Form.Field\n                                            control={Input}\n                                            type=\"number\"\n                                            label=\"Quantity to sell\"\n                                            value={quantityToSell}\n                                            onChange={this.handleQuantityChange}\n                                            disabled={!selectedFinishConditionQty}\n                                            onFocus={() => this.handleFocus('quantityToSell')}\n                                            onBlur={() => this.handleBlur('quantityToSell')}\n                                        />\n                                        <Form.Field\n                                            control={Input}\n                                            type=\"number\"\n                                            label=\"Price\"\n                                            value={price}\n                                            onChange={this.handlePriceChange}\n                                            disabled={!selectedFinishConditionQty}\n                                            onFocus={() => this.handleFocus('price')}\n                                            onBlur={() => this.handleBlur('price')}\n                                            step={0.5}\n                                        />\n                                        <Form.Button\n                                            label=\"Add to sale?\"\n                                            control={Button}\n                                            primary\n                                            onClick={this.handleAddToSale}\n                                            disabled={!quantityToSell}\n                                        >\n                                            Sell\n                                    </Form.Button>\n                                    </Form.Group>\n                                </Form>\n                            </Item.Description>\n                        </Item.Content>\n                    </Item>\n                </Item.Group>\n            </Segment>\n        );\n    }\n}\n","import React from 'react';\nimport BrowseCardItem from './BrowseCardItem';\nimport $ from 'jquery'\n\nexport default function BrowseCardList(props) {\n    const { cards, addToSaleList } = props;\n\n    // Highlight the input if cards were not found\n    if (cards.length === 0) {\n        $('#searchBar').focus().select();\n    }\n\n    return cards.map(card => {\n        return (\n            <BrowseCardItem\n                key={card.id}\n                {...card}\n                addToSaleList={addToSaleList}\n            />\n        );\n    });\n}\n","import React from 'react';\nimport Price from './Price';\n\nconst SalePriceTotal = ({ saleList }) => {\n    const total = saleList.length\n        ? saleList.reduce(\n              (acc, val) => acc + parseInt(val.qtyToSell) * Number(val.price),\n              0\n          )\n        : 0;\n\n    return <Price num={total} />;\n};\n\nexport default SalePriceTotal;\n","import React from 'react';\nimport { Button, Icon, Label, Item, Segment } from 'semantic-ui-react';\nimport Price from './Price';\n\nexport default function SaleLineItem(props) {\n    const {\n        name,\n        set,\n        // set_name,\n        finishCondition,\n        qtyToSell,\n        price,\n        rarity,\n        deleteLineItem,\n        id\n    } = props;\n\n    return (\n        <Segment>\n            <Item.Group>\n                <Item>\n                    <Item.Content>\n                        <Item.Header as=\"h4\">\n                            {name}{' '}\n                            <i\n                                className={`ss ss-fw ss-${set} ss-${rarity}`}\n                                style={{ fontSize: '30px' }}\n                            />\n                            <Label color=\"grey\">\n                                {set.toUpperCase()}\n                            </Label>\n                        </Item.Header>\n                        <Item.Meta>\n                            <span>\n                                {qtyToSell}x @ <Price num={price} /> | {finishCondition}\n                            </span>\n                            <Button\n                                floated=\"right\"\n                                icon\n                                onClick={() => deleteLineItem(id, finishCondition)}\n                            >\n                                <Icon name=\"cancel\"></Icon>\n                            </Button>\n                        </Item.Meta>\n                    </Item.Content>\n                </Item>\n            </Item.Group>\n        </Segment>\n    );\n}\n","import React from 'react';\nimport SaleLineItem from './SaleLineItem'\n\n/**\n * Manages sorting of customer sale lists\n * @param {Array} param0 \n */\nconst CustomerSaleList = ({ saleList, removeFromSaleList }) => {\n    /**\n     * Takes in an unordered group of cards and sorts them according to The Clubhouse's specs:\n     * WUBRG, then multicolor, then colorless, then land, alphabetically within each color/category\n     */\n    function sortSaleList(cards) {\n        const ORDER = ['W', 'U', 'B', 'R', 'G', 'MULTI', 'COLORLESS', 'LAND'];\n\n        /**\n         * Main helper function that manages sort order\n         * @param {Object} card \n         */\n        function helpSort(card) {\n            let arrayConst = null;\n\n            let colorsLength = null;\n            let cardFace = null;\n\n            try {\n                // If colors don't exist, it's a flip card or storybook frame\n                colorsLength = card.colors.length;\n                cardFace = card;\n            } catch (e) {\n                try {\n                    // Storybook frames from Eldraine may throw error\n                    colorsLength = card.card_faces[0].colors.length;\n                    cardFace = card.card_faces[0];\n                } catch (e) {\n                    colorsLength = card.colors.length;\n                    cardFace = card;\n                }\n            }\n\n            // Apply logic to return correct constant enum\n            if (colorsLength === 0) {\n                arrayConst = 'COLORLESS';\n            } else if (colorsLength === 1) {\n                arrayConst = cardFace.colors[0];\n            } else if (colorsLength > 1) {\n                arrayConst = 'MULTI';\n            }\n\n            // Drill into colorless cards, if they are lands or not\n            if (arrayConst === 'COLORLESS') {\n                if (cardFace.type_line.includes('Land')) {\n                    arrayConst = 'LAND';\n                }\n            }\n\n            // Final check to guard against a null arrayConst\n            if (!arrayConst) { arrayConst = 'LAND' }\n\n            return arrayConst;\n        }\n\n        const alphaSort = cards.sort((a, b) => {\n            return a.name.localeCompare(b.name);\n        });\n\n        const sorted = alphaSort.sort((a, b) => {\n            return ORDER.indexOf(helpSort(a)) - ORDER.indexOf(helpSort(b));\n        });\n\n        return sorted;\n    }\n\n    const sortedCards = sortSaleList(saleList);\n\n    return sortedCards.map(card => {\n        return <SaleLineItem\n            {...card}\n            key={`${card.id}${card.finishCondition}${card.qtyToSell}`}\n            deleteLineItem={removeFromSaleList}\n        />\n    })\n};\n\nexport default CustomerSaleList;","import React from 'react';\nimport axios from 'axios';\nimport {\n    Grid,\n    Segment,\n    Header,\n    Button,\n    Modal,\n    Icon,\n    Divider,\n} from 'semantic-ui-react';\nimport SearchBar from './SearchBar';\nimport BrowseCardList from './BrowseCardList';\nimport SalePriceTotal from './SalePriceTotal';\nimport CustomerSaleList from './CustomerSaleList';\nimport _ from 'lodash';\nimport makeAuthHeader from './makeAuthHeader';\nimport { GET_CARDS_BY_TITLE, FINISH_SALE } from './api_resources';\nimport createToast from './createToast';\n\nconst initialState = {\n    searchResults: [],\n    saleListCards: [],\n    showModal: false,\n    submitLoading: false,\n    searchTerm: ''\n};\n\nexport default class Sale extends React.Component {\n    state = initialState;\n\n    handleResultSelect = async term => {\n        try {\n            const { data } = await axios.get(GET_CARDS_BY_TITLE, {\n                params: { title: term },\n                headers: makeAuthHeader()\n            });\n\n            this.setState({ searchResults: data, searchTerm: term });\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    /**\n     * Adds product to the sale list\n     */\n    addToSaleList = (card, finishCondition, qtyToSell, price) => {\n        const newCard = { ...card, finishCondition, qtyToSell, price };\n        const oldState = [...this.state.saleListCards];\n\n        // Need to make sure same ID's with differing conditions are separate line-items\n        const idx = oldState.findIndex(el => {\n            return (\n                el.id === newCard.id && el.finishCondition === finishCondition\n            );\n        });\n\n        if (idx !== -1) {\n            oldState.splice(idx, 1, newCard);\n        } else {\n            oldState.push(newCard);\n        }\n\n        this.setState({ saleListCards: oldState });\n    };\n\n    /**\n     * Removes product from the sale list (this function is passed to the sale line items through props)\n     */\n    removeFromSaleList = (id, finishCondition) => {\n        const newState = _.reject([...this.state.saleListCards], el => {\n            return el.id === id && el.finishCondition === finishCondition;\n        });\n\n        this.setState({ saleListCards: newState });\n    };\n\n    /**\n     * Extracts the saleList state and uses it to complete sale\n     */\n    finalizeSale = async () => {\n        try {\n            this.setState({ submitLoading: true });\n\n            const { data } = await axios.post(FINISH_SALE, {\n                cards: this.state.saleListCards\n            }, { headers: makeAuthHeader() });\n\n            const saleID = data.sale_data.Sale.saleID;\n\n            createToast({\n                color: 'green',\n                header: 'Sale created in Lightspeed!',\n                message: `The id number is #${saleID}`,\n            });\n\n            this.setState(initialState);\n        } catch (e) {\n            createToast({\n                color: 'red',\n                header: 'Error!',\n                message: `Sale was not created`,\n            });\n\n            this.setState(initialState);\n            console.log(e);\n        }\n    };\n\n    closeModal = () => {\n        this.setState({ showModal: false });\n    };\n\n    render() {\n        const {\n            searchResults,\n            saleListCards,\n            showModal,\n            submitLoading,\n            searchTerm\n        } = this.state;\n\n        // Creates text to notify the user of zero-result searches\n        const searchNotification = () => {\n            if (searchTerm && !searchResults.length) { // Check to make sure the user has searched and no results\n                return <p>Zero results for <em>{searchTerm}</em></p>\n            }\n            return <p>Search for inventory to sell</p>; // Default text before search\n        }\n\n        return (\n            <React.Fragment>\n                <Grid.Row style={{ display: 'flex', alignItems: 'center' }}>\n                    <SearchBar handleSearchSelect={this.handleResultSelect} />\n                </Grid.Row>\n                <br />\n                <Grid stackable={true}>\n                    <Grid.Row>\n                        <Grid.Column width=\"11\">\n                            <Header as=\"h2\">Inventory</Header>\n                            <Divider />\n\n                            {!searchResults.length &&\n                                <Segment placeholder>\n                                    <Header icon>\n                                        <Icon name=\"search\" />\n                                        <span>{searchNotification()}</span>\n                                    </Header>\n                                </Segment>}\n\n                            <BrowseCardList\n                                cards={searchResults}\n                                addToSaleList={this.addToSaleList}\n                            />\n                        </Grid.Column>\n                        <Grid.Column width=\"5\">\n                            <Header as=\"h2\">Sale Items</Header>\n                            <Divider />\n\n                            {!saleListCards.length &&\n                                <Segment placeholder>\n                                    <Header icon>\n                                        <Icon name=\"plus\" />\n                                        View and manage customer sale list here\n                                </Header>\n                                </Segment>}\n\n                            <React.Fragment>\n                                <CustomerSaleList\n                                    removeFromSaleList={this.removeFromSaleList}\n                                    saleList={saleListCards}\n                                />\n                            </React.Fragment>\n\n                            {saleListCards.length > 0 && (\n                                <Segment clearing>\n                                    <Header floated=\"left\">\n                                        <Header sub>Subtotal</Header>\n                                        <SalePriceTotal\n                                            saleList={saleListCards}\n                                        />\n                                    </Header>\n                                    <Modal\n                                        basic\n                                        open={showModal}\n                                        trigger={\n                                            <Button\n                                                floated=\"right\"\n                                                primary\n                                                onClick={() => {\n                                                    this.setState({\n                                                        showModal: true\n                                                    });\n                                                }}\n                                            >\n                                                Finalize sale\n                                            </Button>\n                                        }\n                                    >\n                                        <Modal.Content>\n                                            <Header inverted as=\"h2\">\n                                                Finalize this sale?\n                                            </Header>\n                                            <p>\n                                                Click 'Yes' to create a sale\n                                                in Lightspeed. Ensure that\n                                                you have all cards pulled and double-checked\n                                                the customer list. Undoing this action will require manual data entry!\n                                            </p>\n                                        </Modal.Content>\n                                        <Modal.Actions>\n                                            <Button\n                                                basic\n                                                color=\"red\"\n                                                inverted\n                                                onClick={this.closeModal}\n                                            >\n                                                <Icon name=\"remove\" /> No\n                                            </Button>\n                                            <Button\n                                                color=\"green\"\n                                                inverted\n                                                onClick={this.finalizeSale}\n                                                loading={submitLoading}\n                                            >\n                                                <Icon name=\"checkmark\" /> Yes\n                                            </Button>\n                                        </Modal.Actions>\n                                    </Modal>\n                                </Segment>\n                            )}\n                        </Grid.Column>\n                    </Grid.Row >\n                </Grid >\n            </React.Fragment >\n        );\n    }\n}\n","import React from 'react';\nimport { Table } from 'semantic-ui-react';\nimport moment from 'moment';\n\nconst SalesListItem = ({ saleData, cardList }) => {\n    const quantitySold = cardList.reduce(\n        (pre, curr) => pre + curr.qtyToSell,\n        0\n    );\n\n    return (\n        <Table.Row>\n            <Table.Cell>{saleData.saleID}</Table.Cell>\n            <Table.Cell>\n                {moment(saleData.createTime).format('MM/DD/YYYY - h:mm A')}\n            </Table.Cell>\n            <Table.Cell>{quantitySold}</Table.Cell>\n        </Table.Row>\n    );\n};\n\nexport default SalesListItem;\n","import React from 'react';\nimport SalesListItem from './SalesListItem';\nimport { Table } from 'semantic-ui-react';\n\nconst SalesList = ({ list }) => {\n    return (\n        <Table celled unstackable compact>\n            <Table.Header>\n                <Table.Row>\n                    <Table.HeaderCell>Sale ID</Table.HeaderCell>\n                    <Table.HeaderCell>Date of Sale</Table.HeaderCell>\n                    <Table.HeaderCell>Quantity Sold</Table.HeaderCell>\n                </Table.Row>\n            </Table.Header>\n\n            <Table.Body>\n                {list.map(({ sale_data, card_list, _id }) => (\n                    <SalesListItem\n                        saleData={sale_data}\n                        cardList={card_list}\n                        key={_id}\n                    />\n                ))}\n            </Table.Body>\n        </Table>\n    );\n};\n\nexport default SalesList;\n","import React, { Component } from 'react';\nimport SearchBar from './SearchBar';\nimport SalesList from './SalesList';\nimport axios from 'axios';\nimport makeAuthHeader from './makeAuthHeader';\nimport { GET_SALES_BY_TITLE } from './api_resources';\n\nclass BrowseSales extends Component {\n    state = { salesList: [], cardName: '' };\n\n    handleSearchSelect = async cardName => {\n        const { data } = await axios.get(GET_SALES_BY_TITLE, {\n            params: { cardName: cardName },\n            headers: makeAuthHeader()\n        });\n\n        this.setState({ salesList: data, cardName: cardName });\n    };\n\n    render() {\n        const { salesList, cardName } = this.state;\n\n        return (\n            <div>\n                <SearchBar handleSearchSelect={this.handleSearchSelect} />\n                <br />\n                <span>\n                    <em>\n                        {cardName !== '' && (\n                            <h4>\n                                {salesList.length} results for {cardName}\n                            </h4>\n                        )}\n                    </em>\n                </span>\n                <SalesList list={salesList} />\n            </div>\n        );\n    }\n}\n\nexport default BrowseSales;\n","import React from 'react';\nimport QohParser from './QohParser';\nimport { Image } from 'semantic-ui-react';\nimport MarketPrice from './MarketPrice';\n\nconst wrapperStyle = {\n    position: 'relative',\n    display: 'inline-block',\n};\n\nconst overlayStyle = {\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    padding: '9px 9px 9px 9px',\n    zIndex: '1',\n    borderRadius: '10px 10px 0 0',\n    position: 'absolute',\n    width: '300px',\n    bottom: '0'\n};\n\nconst inlineBlock = {\n    display: 'inline-block',\n};\n\nconst floatRight = {\n    display: 'inline-block',\n    float: 'right'\n};\n\nconst roundedStyle = {\n    borderRadius: '15px'\n}\n\nconst image = (image_uris, card_faces) => {\n    try {\n        // If normal prop doesn't exist, move to catch block for flip card faces\n        return <Image src={image_uris.normal} size=\"medium\" style={roundedStyle} />;\n    } catch (e) {\n        return <Image src={card_faces[0].image_uris.normal} size=\"medium\" style={roundedStyle} />;\n    }\n};\n\nexport default function PublicCardItem({ image_uris, card_faces, qoh, id }) {\n    return (\n        <React.Fragment>\n            <div style={wrapperStyle}>\n                {image(image_uris, card_faces)}\n                <div style={overlayStyle}>\n                    <div style={inlineBlock}>\n                        <QohParser inventoryQty={qoh} />\n                    </div>\n                    <div style={floatRight}>\n                        <MarketPrice id={id} />\n                    </div>\n                </div>\n            </div>\n        </React.Fragment>\n    )\n}","import React from 'react';\nimport PublicCardItem from './PublicCardItem';\nimport { Grid } from 'semantic-ui-react';\n\nconst gridStyle = {\n    display: 'flex',\n    flexWrap: 'wrap',\n    alignContent: 'space-evenly',\n    height: '100%'\n};\n\nexport default function PublicCardList(props) {\n    const { cards, addToSaleList } = props;\n\n    return (\n        <Grid style={gridStyle} >\n            {cards.map(card => {\n                return (\n                    <PublicCardItem\n                        key={card.id}\n                        {...card}\n                        addToSaleList={addToSaleList}\n                    />\n                );\n            })}\n        </ Grid>\n    );\n}\n","import React from 'react';\nimport axios from 'axios';\nimport {\n    Grid,\n    Segment,\n    Header,\n    Icon,\n    Divider,\n} from 'semantic-ui-react';\nimport SearchBar from './SearchBar';\nimport PublicCardList from './PublicCardList';\nimport { GET_CARDS_BY_TITLE } from './api_resources';\n\nconst initialState = {\n    searchResults: [],\n    saleListCards: [],\n    searchTerm: ''\n};\n\nexport default class PublicInventory extends React.Component {\n    state = initialState;\n\n    handleResultSelect = async term => {\n        try {\n            const { data } = await axios.get(GET_CARDS_BY_TITLE, {\n                params: { title: term }\n            });\n\n            this.setState({ searchResults: data, searchTerm: term });\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    render() {\n        const {\n            searchResults,\n            searchTerm\n        } = this.state;\n\n        // Creates text to notify the user of zero-result searches\n        const searchNotification = () => {\n            if (searchTerm && !searchResults.length) { // Check to make sure the user has searched and no results\n                return <p><em>{searchTerm}</em> is out of stock</p>\n            }\n            return <p>Search for a card</p>; // Default text before search\n        }\n\n        return (\n            <React.Fragment>\n                <Grid.Row style={{ display: 'flex', alignItems: 'center' }}>\n                    <SearchBar handleSearchSelect={this.handleResultSelect} />\n                </Grid.Row>\n                <br />\n                <Grid stackable={true}>\n                    <Grid.Column>\n                        <Header as=\"h2\">\n                            Inventory Search\n                            <Header.Subheader>\n                                <em>Card prices based on non-premium printings and are subject to change</em>\n                            </Header.Subheader>\n                        </Header>\n\n                        <Divider />\n\n                        {!searchResults.length &&\n                            <Segment placeholder>\n                                <Header icon>\n                                    <Icon name=\"search\" />\n                                    <span>{searchNotification()}</span>\n                                </Header>\n                            </Segment>}\n\n                        <PublicCardList\n                            cards={searchResults}\n                            addToSaleList={this.addToSaleList}\n                        />\n                    </Grid.Column>\n                </Grid >\n            </React.Fragment >\n        );\n    }\n}\n","import React from 'react';\nimport createToast from './createToast';\nimport { Form, Button } from 'semantic-ui-react';\nimport { Redirect } from 'react-router-dom';\n\nconst initialState = { username: '', password: '', btnLoading: false };\n\nclass Login extends React.Component {\n    state = initialState;\n\n    handleInputChange = (e, { value }) => {\n        this.setState({ [e.target.name]: value });\n    };\n\n    login = async () => {\n        const { username, password } = this.state;\n\n        this.setState({ btnLoading: true });\n\n        const { authed } = await this.props.handleLogin(username, password);\n\n        if (authed) {\n            // Do not set state here to mitigate React setState warning after component unmounted due to redirect\n            createToast({\n                color: 'green',\n                header: 'Success',\n                message: `Enjoy your time here!`,\n            });\n        } else {\n            this.setState(initialState);\n            createToast({\n                color: 'red',\n                header: 'Error',\n                message: `Username or password was incorrect`,\n            });\n        }\n    };\n\n    render() {\n        const { username, password, btnLoading } = this.state;\n        const { loggedIn } = this.props;\n\n        if (loggedIn) {\n            return <Redirect to=\"/manage-inventory\" />;\n        }\n\n        return (\n            <Form>\n                <Form.Field>\n                    <Form.Input\n                        name=\"username\"\n                        placeholder=\"Username\"\n                        label=\"Username\"\n                        value={username}\n                        onChange={this.handleInputChange}\n                    />\n                </Form.Field>\n                <Form.Field>\n                    <Form.Input\n                        name=\"password\"\n                        placeholder=\"Password\"\n                        type=\"password\"\n                        label=\"Password\"\n                        value={password}\n                        onChange={this.handleInputChange}\n                    />\n                </Form.Field>\n                <Button\n                    type=\"submit\"\n                    onClick={this.login}\n                    disabled={!username || !password}\n                    loading={btnLoading}\n                >\n                    Submit\n                </Button>\n            </Form>\n        );\n    }\n}\n\nexport default Login;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Button, Header, Container } from 'semantic-ui-react';\n\nconst Logout = props => {\n    if (!props.loggedIn) {\n        return <Redirect to=\"/login\" />;\n    }\n\n    return (\n        <React.Fragment>\n            <Container fluid>\n                <Header as=\"h3\" color=\"grey\"><i>Until we meet again, friend...</i></Header>\n                <Button onClick={() => props.handleLogin('', '')}>Logout</Button>\n            </Container>\n        </React.Fragment>\n    );\n};\n\nexport default Logout;\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport Home from './Home';\nimport Sale from './Sale';\nimport BrowseSales from './BrowseSales';\nimport PublicInventory from './PublicInventory';\nimport Login from './Login';\nimport Logout from './Logout';\n\nfunction Main({ handleLogin, loggedIn }) {\n    // Use the render syntax in the Login component to bind passed props\n    return (\n        <div style={{ paddingTop: '52.63px', marginLeft: '20px', marginRight: '20px' }}>\n            <br />\n            <Switch>\n                <Route exact path=\"/manage-inventory\" component={Home} />\n                <Route exact path=\"/new-sale\" component={Sale} />\n                <Route exact path=\"/browse-sales\" component={BrowseSales} />\n                <Route exact path=\"/public-inventory\" component={PublicInventory} />\n                <Route\n                    exact\n                    path=\"/login\"\n                    render={() => (\n                        <Login handleLogin={handleLogin} loggedIn={loggedIn} />\n                    )}\n                />\n                <Route\n                    exact\n                    path=\"/logout\"\n                    render={() => (\n                        <Logout handleLogin={handleLogin} loggedIn={loggedIn} />\n                    )}\n                />\n            </Switch>\n        </div>\n    );\n}\n\nexport default Main;\n","import React from 'react';\nimport ballLogo from './logos/magic-ball.png'\nimport { Menu, Icon, Dropdown } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\n\nconst style = {\n    background: \"linear-gradient(#2185d0, #206ac6)\",\n    boxShadow: '0 3px 5px 0 rgba(0,0,0,.25)'\n}\n\nclass Header extends React.Component {\n    render() {\n        const { loggedIn } = this.props;\n        return (\n            <Menu inverted fixed=\"top\" style={style}>\n                <Menu.Item>\n                    <img src={ballLogo} style={{ marginRight: '7px' }} alt=\"logo\" />\n                    <span><h3>Clubhouse Collection</h3></span>\n                </Menu.Item>\n                <Menu.Menu position=\"right\">\n                    <Menu.Item position=\"right\" as={Link} to=\"/public-inventory\">Search</Menu.Item>\n                    {loggedIn && <Dropdown item icon=\"bars\">\n                        <Dropdown.Menu>\n                            <React.Fragment>\n                                <Dropdown.Item as={Link} to=\"/manage-inventory\"><Icon name=\"plus\" color=\"blue\" />Manage Inventory</Dropdown.Item>\n                                <Dropdown.Item as={Link} to=\"/new-sale\" ><Icon name=\"dollar sign\" color=\"blue\" />New Sale</Dropdown.Item>\n                                <Dropdown.Item as={Link} to=\"/browse-sales\" ><Icon name=\"eye\" color=\"blue\" />Browse Sales</Dropdown.Item>\n                                <Dropdown.Item as={Link} to=\"/logout\" ><Icon name=\"log out\" color=\"blue\" />Logout</Dropdown.Item>\n                            </React.Fragment>\n                        </Dropdown.Menu>\n                    </Dropdown>}\n                    {!loggedIn && <Menu.Item position=\"right\" as={Link} to=\"/login\">Log in</Menu.Item>}\n                </Menu.Menu>\n            </Menu >\n        );\n    }\n}\n\nexport default Header;\n","import React from 'react';\nimport Main from './Main';\nimport Header from './Header';\nimport makeAuthHeader from './makeAuthHeader';\nimport { LOGIN } from './api_resources';\nimport axios from 'axios';\n\nclass App extends React.Component {\n    state = { loggedIn: !!localStorage.getItem('clubhouse_JWT') };\n\n    // This is passed to the Login component as props to trigger a re-render of the root navbar\n    handleLogin = async (username, password) => {\n        try {\n            const { data } = await axios.post(LOGIN, {\n                username: username.toLowerCase(),\n                password: password\n            }, { headers: makeAuthHeader() });\n\n            if (data.token) {\n                localStorage.setItem('clubhouse_JWT', data.token);\n\n                this.setState({\n                    loggedIn: !!localStorage.getItem('clubhouse_JWT')\n                });\n\n                return { authed: true };\n            } else {\n                localStorage.clear();\n\n                this.setState({\n                    loggedIn: !!localStorage.getItem('clubhouse_JWT')\n                });\n\n                return { authed: false };\n            }\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    render() {\n        return (\n            <div>\n                <Header loggedIn={this.state.loggedIn} />\n                <Main\n                    handleLogin={this.handleLogin}\n                    loggedIn={this.state.loggedIn}\n                />\n            </div>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { HashRouter } from 'react-router-dom';\nimport 'semantic-ui-css/semantic.min.css';\n\nReactDOM.render(\n    <HashRouter basename='/'>\n        <App />\n    </HashRouter>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}