(this["webpackJsonpclubhouse-pos-importer"]=this["webpackJsonpclubhouse-pos-importer"]||[]).push([[0],{248:function(e){e.exports=JSON.parse('{"a":"1.8.5"}')},281:function(e,t,n){},312:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(22),i=n.n(a),s=(n(281),n(6)),o=n.n(s),l=n(10),u=n(8),d=n(20),j=n.n(d),b=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ENVIRONMENT,h="development"===b?"_test":"",O=function(){return"development"===b?"http://localhost:7331":"https://clubhouse-collection.appspot.com"},x="".concat(O(),"/auth/finishSale"),p="".concat(O(),"/getCardFromAllLocations"),f="".concat(O(),"/auth/addCardToInventory"),m="".concat(O(),"/auth/receiveCards"),v="".concat(O(),"/auth/getCardsByFilter"),g="".concat(O(),"/auth/getDistinctSetNames"),y="".concat(O(),"/auth/suspendSale"),C="".concat(O(),"/jwt"),w="".concat(O(),"/auth/getSaleByTitle"),k="".concat(O(),"/auth/getReceivedCards"),S=("".concat(O(),"/auth/allSales"),"".concat(O(),"/getCardsWithInfo")),F="".concat(O(),"/auth/getCardsWithInfo"),_="".concat(O(),"/autocomplete"),L="https://us-central1-clubhouse-collection.cloudfunctions.net/getPriceFromTcg".concat(h);function I(){return{Authorization:"Bearer ".concat(localStorage.getItem("clubhouse_JWT"))}}var N,P=function(){var e=Object(l.a)(o.a.mark((function e(t,n,r){var c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post(C,{username:t.toLowerCase(),password:n,currentLocation:r},{headers:I()});case 3:return c=e.sent,a=c.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),T=n(1),R=c.a.createContext({loggedIn:!1,currentLocation:null,currentUser:null,handleLogout:function(){return null},handleLogin:function(){return new Promise((function(){return null}))}}),B=function(){return Object(r.useContext)(R)},M=function(e){var t=e.children,n=Object(r.useState)(!!localStorage.getItem("clubhouse_JWT")),c=Object(u.a)(n,2),a=c[0],i=c[1],s=Object(r.useState)(localStorage.getItem("currentLocation")),d=Object(u.a)(s,2),j=d[0],b=d[1],h=Object(r.useState)(localStorage.getItem("currentUser")),O=Object(u.a)(h,2),x=O[0],p=O[1],f=function(){var e=Object(l.a)(o.a.mark((function e(t,n,r){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(t,n,r);case 3:return(c=e.sent).token&&(localStorage.setItem("clubhouse_JWT",c.token),i(!!localStorage.getItem("clubhouse_JWT")),localStorage.setItem("currentLocation",r),b(r),localStorage.setItem("currentUser",t),p(t)),e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(T.jsx)(R.Provider,{value:{loggedIn:a,currentLocation:j,currentUser:x,handleLogin:f,handleLogout:function(){localStorage.removeItem("clubhouse_JWT"),i(!!localStorage.getItem("clubhouse_JWT")),localStorage.removeItem("currentLocation"),b(null),localStorage.removeItem("currentUser"),p(null)}},children:t})},D=n(31),H=n(351),q=n(384),E=n(386),A=n(89),z=n(151),V=n(345),G=n(12),W=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,e.prev=1,e.next=4,j.a.get(p,{params:{title:n}});case 4:return r=e.sent,c=r.data,e.abrupt("return",c);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Q=Object(G.a)("div")({display:"inline"}),U=Object(G.a)("div")({display:"flex",alignItems:"center","& > *":{marginLeft:"10px"}}),Y=function(e){var t=e.label,n=e.value;return Object(T.jsxs)(z.a,{color:n>0?"blue":void 0,image:!0,children:[t,Object(T.jsx)(z.a.Detail,{children:n})]})},J=function(e){var t=e.title,n=e.searchResults,c=Object(r.useState)({ch1:{foilQty:0,nonfoilQty:0},ch2:{foilQty:0,nonfoilQty:0}}),a=Object(u.a)(c,2),i=a[0],s=a[1],d=Object(r.useState)(!1),j=Object(u.a)(d,2),b=j[0],h=j[1];return Object(r.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,W({title:t});case 4:n=e.sent,s(n),h(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[t,n]),b?Object(T.jsxs)(U,{children:[Object(T.jsx)("span",{children:"Loading totals for all locations"}),Object(T.jsx)("div",{children:Object(T.jsx)(V.a,{active:!0,inline:!0,size:"small"})})]}):Object(T.jsxs)(U,{children:[Object(T.jsxs)("div",{children:[Object(T.jsx)(E.a,{sub:!0,children:"Beaverton totals:"}),Object(T.jsxs)(Q,{children:[Object(T.jsx)(Y,{label:"Foil",value:i.ch1.foilQty}),Object(T.jsx)(Y,{label:"Nonfoil",value:i.ch1.nonfoilQty})]})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)(E.a,{sub:!0,children:"Hillsboro totals:"}),Object(T.jsxs)(Q,{children:[Object(T.jsx)(Y,{label:"Foil",value:i.ch2.foilQty}),Object(T.jsx)(Y,{label:"Nonfoil",value:i.ch2.nonfoilQty})]})]})]})},$=n(21),K=n(41),Z=function(e){var t=e.name,n=e.frame_effects,r=e.border_color,c=e.lang,a=e.set,i=e.foil,s=e.nonfoil,o=e.promo_types,l=t;return"sta"===a&&!0===i&&!1===s?l+=" (Etched foil)":o.includes("godzillaseries")?l+=" (IP series)":n.includes("showcase")?l+=" (Showcase)":0===n.length&&"borderless"===r?l+=" (Borderless)":n.includes("extendedart")&&(l+=" (Extended art)"),"en"!==c&&(l+=" (".concat(c.toUpperCase(),")")),l},X=function(e){var t;try{t=e.image_uris.normal}catch(n){t=e.card_faces[0].image_uris.normal}return t},ee=function e(t){Object(K.a)(this,e),this.id=void 0,this.name=void 0,this.printed_name=void 0,this.set=void 0,this.set_name=void 0,this.rarity=void 0,this.image_uris=void 0,this.card_faces=void 0,this.nonfoil=void 0,this.foil=void 0,this.colors=void 0,this.type_line=void 0,this.frame_effects=void 0,this.lang=void 0,this.border_color=void 0,this.display_name=void 0,this.cardImage=void 0,this.color_identity=void 0,this.promo_types=void 0,this.tcgplayer_id=void 0,this.qoh=void 0,this.id=t.id,this.name=t.name,this.printed_name=t.printed_name||null,this.set=t.set,this.set_name=t.set_name,this.rarity=t.rarity,this.image_uris=t.image_uris||null,this.card_faces=t.card_faces||null,this.nonfoil=t.nonfoil,this.foil=t.foil,this.colors=t.colors,this.type_line=t.type_line,this.frame_effects=t.frame_effects||[],this.lang=t.lang,this.border_color=t.border_color,this.color_identity=t.color_identity||null,this.promo_types=t.promo_types||[],this.cardImage=X(this),this.display_name=Z(this),this.tcgplayer_id=t.tcgplayer_id||null,this.qoh=t.qoh?t.qoh:{}},te=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cardName,r=t.inStockOnly,e.prev=1,e.next=4,j.a.get(F,{params:{title:n,matchInStock:r},headers:I()});case 4:return c=e.sent,a=c.data,e.abrupt("return",a.map((function(e){return new ee(e)})));case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),ne=Object(r.createContext)({searchResults:[],changeCardQuantity:function(){return null},handleSearchSelect:function(){return null}}),re=function(e){var t=e.children,n=Object(r.useState)([]),c=Object(u.a)(n,2),a=c[0],i=c[1],s=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te({cardName:t,inStockOnly:!1});case 2:n=e.sent,i(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsx)(ne.Provider,{value:{searchResults:a,changeCardQuantity:function(e,t){var n=Object($.a)(a),r=n.findIndex((function(t){return t.id===e}));n[r].qoh=t,i(n)},handleSearchSelect:s},children:t})},ce=n(377),ae=n(376),ie=n(347),se=n(348),oe=n(318),le=n(77),ue=n.n(le),de=n(47),je=n(30),be=n(381),he=n(251),Oe=Object(G.a)(be.a)(N||(N=Object(je.a)(["\n    position: relative;\n    right: 10px;\n    bottom: 10px;\n"]))),xe=function(e){var t=e.color,n=e.header,r=e.message,c=e.duration,a=void 0===c?2e3:c;return he.a.notify((function(){return Object(T.jsxs)(Oe,{color:t,compact:!0,children:[Object(T.jsx)(be.a.Header,{children:n}),r]})}),{position:"bottom-right",duration:a})},pe=n(253),fe=Object(G.a)(pe.a)({boxShadow:"2px 2px 5px 0 rgba(0,0,0,.25)",zIndex:10,transition:"all .2s ease-in-out"}),me=function(e){var t=e.image,n=e.hover,c=Object(r.useState)(!1),a=Object(u.a)(c,2),i=a[0],s=a[1];return Object(T.jsx)(fe,{src:t,onMouseOver:function(){return n?s(!0):null},onMouseOut:function(){return n?s(!1):null},style:{transform:"".concat(i?"scale(1.75)":"scale(1)")}})},ve=[{key:"NONFOIL",text:"Nonfoil",value:"NONFOIL"},{key:"FOIL",text:"Foil",value:"FOIL"}],ge=[{key:"NM",text:"Near Mint",value:"NM"},{key:"LP",text:"Light Play",value:"LP"},{key:"MP",text:"Moderate Play",value:"MP"},{key:"HP",text:"Heavy Play",value:"HP"}];function ye(e,t){return!e&&t?{selectedFinish:"FOIL",finishDisabled:!0}:e&&!t?{selectedFinish:"NONFOIL",finishDisabled:!0}:{selectedFinish:"NONFOIL",finishDisabled:!1}}var Ce=n(372),we=function(e){return{FOIL_NM:"Foil (NM)",FOIL_LP:"Foil (LP)",FOIL_MP:"Foil (MP)",FOIL_HP:"Foil (HP)",NONFOIL_NM:"Nonfoil (NM)",NONFOIL_LP:"Nonfoil (LP)",NONFOIL_MP:"Nonfoil (MP)",NONFOIL_HP:"Nonfoil (HP)"}[e]};function ke(e){return[(e.FOIL_NM||0)+(e.FOIL_LP||0)+(e.FOIL_MP||0)+(e.FOIL_HP||0),(e.NONFOIL_NM||0)+(e.NONFOIL_LP||0)+(e.NONFOIL_MP||0)+(e.NONFOIL_HP||0)]}var Se,Fe=function(e,t){var n=t.map((function(t){var n=e[t];if(n&&n>0)return"".concat(we(t),": ").concat(n)})).filter((function(e){return!!e}));return 0===n.length?["None in stock"]:n},_e=function(e){var t=e.quantity,n=e.label,r=e.popupLineItems;return Object(T.jsx)(Ce.a,{content:r.map((function(e){return Object(T.jsx)("div",{children:e})})),trigger:Object(T.jsxs)(z.a,{color:t>0?"blue":void 0,image:!0,children:[n,Object(T.jsx)(z.a.Detail,{children:t})]})})},Le=function(e){var t=e.inventoryQty,n=ke(t),r=Object(u.a)(n,2),c=r[0],a=r[1],i=Fe(t,["FOIL_NM","FOIL_LP","FOIL_MP","FOIL_HP"]),s=Fe(t,["NONFOIL_NM","NONFOIL_LP","NONFOIL_MP","NONFOIL_HP"]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(_e,{label:"Foil",quantity:c,popupLineItems:i}),Object(T.jsx)(_e,{label:"Nonfoil",quantity:a,popupLineItems:s})]})},Ie={en:"English",es:"Spanish",fr:"French",de:"German",it:"Italian",pt:"Portuguese",ja:"Japanese",ko:"Korean",ru:"Russian",zhs:"Simplified Chinese",zht:"Traditional Chinese",he:"Hebrew",la:"Latin",grc:"Ancient Greek",ar:"Arabic",sa:"Sanskrit",px:"Phyrexian"},Ne=function(e){var t=e.languageCode;return Object(T.jsx)(z.a,{image:!0,color:"grey",children:Ie[t]})},Pe=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,c,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.scryfallId,e.prev=1,e.next=4,j.a.get(L,{params:{scryfallId:n}});case 4:return r=e.sent,c=r.data,a=c.marketPrices,i=c.medianPrices,e.abrupt("return",{marketPrices:a,medianPrices:i});case 10:throw e.prev=10,e.t0=e.catch(1),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),Te=Object(G.a)(z.a)(Se||(Se=Object(je.a)(["\n    background-color: "," !important;\n    background-image: "," !important;\n"])),(function(e){return e.foil?"#ffcfdf":null}),(function(e){return e.foil?"linear-gradient(90deg, #ffcfdf 0%, #b0f3f1 74%)":null})),Re=function(e){return e?"$".concat(e.toFixed(2)):"N/A"},Be=function(e){var t=e.id,n=e.finish,c=e.round,a=e.showMid,i=void 0===a||a,s=Object(r.useState)(null),d=Object(u.a)(s,2),j=d[0],b=d[1],h=Object(r.useState)(null),O=Object(u.a)(h,2),x=O[0],p=O[1],f=Object(r.useState)(!1),m=Object(u.a)(f,2),v=m[0],g=m[1],y="FOIL"===n;Object(r.useEffect)((function(){!function(){var e=Object(l.a)(o.a.mark((function e(){var n,r,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,g(!0),e.next=4,Pe({scryfallId:t});case 4:return r=e.sent,c=r.marketPrices,a=r.medianPrices,n&&(y?(b(Number(c.foil)),p(Number(a.foil))):(b(Number(c.normal)),p(Number(a.normal))),g(!1)),e.abrupt("return",(function(){return n=!1}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t,n]);var C,w=Object(T.jsxs)("span",{children:["Loading ",Object(T.jsx)(A.a,{loading:!0,name:"spinner"})]});return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Te,{foil:y,children:v?w:Object(T.jsxs)("span",{children:["Mkt."," ",Re(c?j?(C=j,Math.ceil(2*C)/2):null:j)]})}),i&&Object(T.jsx)(Te,{foil:y,children:v?w:Object(T.jsxs)("span",{children:["Mid. ",Re(x)]})})]})},Me=Object(G.a)("i")({fontSize:"20px"}),De=function(e){var t=e.set,n=e.rarity,r=n?"ss-".concat(n):"";return Object(T.jsx)(Me,{className:"ss ss-fw ss-".concat(t," ").concat(r)})},He=function(e){var t=e.tcgId,n="https://www.tcgplayer.com/product/".concat(t);return Object(T.jsxs)(oe.a,{icon:!0,disabled:!t,color:"twitter",labelPosition:"right",size:"mini",as:"a",href:n,target:"_blank",children:[t?"View on TCG":"Link unavailable",Object(T.jsx)(A.a,{name:"external share"})]})},qe=function(e){var t=e.card,n=e.selectedFinish,r=e.showMid,c=void 0!==r&&r,a=e.round,i=void 0!==a&&a,s=t.id,o=t.display_name,l=t.set,u=t.rarity,d=t.set_name,j=t.qoh,b=t.lang,h=t.tcgplayer_id;return Object(T.jsxs)(ce.a.Header,{as:"h3",children:[o,Object(T.jsx)(De,{set:l,rarity:u}),Object(T.jsxs)(z.a,{color:"grey",children:[d," (",l.toUpperCase(),")"]}),Object(T.jsx)(Le,{inventoryQty:j}),Object(T.jsx)(Be,{id:s,finish:n,showMid:c,round:i}),Object(T.jsx)(Ne,{languageCode:b}),Object(T.jsx)(He,{tcgId:h})]})},Ee=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post(f,t,{headers:I()});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Ae=n(206),ze=n(375),Ve=function(e){var t=e.quantity,n={};return(!Number(t)||!Number.isInteger(+t)||+t>100)&&(n.quantity="error"),n},Ge=function(e){var t=e.card,n=t.foil,c=t.nonfoil,a=t.name,i=t.set_name,s=t.set,d=t.id,j=t.cardImage,b=Object(r.useState)(ye(c,n).selectedFinish),h=Object(u.a)(b,2),O=h[0],x=h[1],p=Object(r.useContext)(ne).changeCardQuantity,f={selectedFinish:ye(c,n).selectedFinish,selectedCondition:"NM",quantity:"0"},m=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,c,l,u,j,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.quantity,c=t.selectedFinish,l=t.selectedCondition,u=n.resetForm,e.prev=2,e.next=5,Ee({quantity:parseInt(r,10),finishCondition:"".concat(c,"_").concat(l),cardInfo:{id:d,name:a,set_name:i,set:s}});case 5:j=e.sent,b=j.qoh,u(),p(d,b),xe({color:"green",header:"".concat(r,"x ").concat(a," ").concat(parseInt(r,10)>0?"added":"removed","!"),duration:2e3}),ue()("#searchBar").focus().select(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}(),v=Object(de.a)({initialValues:f,validate:Ve,onSubmit:m,validateOnMount:!0}),g=v.values,y=v.handleSubmit,C=v.setFieldValue,w=v.isSubmitting,k=v.isValid;return Object(T.jsx)(Ae.a,{variant:"outlined",children:Object(T.jsx)(ze.a,{p:2,children:Object(T.jsx)(ce.a.Group,{divided:!0,children:Object(T.jsxs)(ce.a,{children:[Object(T.jsx)(ce.a.Image,{size:"tiny",children:Object(T.jsx)(me,{image:j,hover:!0})}),Object(T.jsxs)(ce.a.Content,{children:[Object(T.jsx)(qe,{card:t,selectedFinish:O,round:!0}),Object(T.jsx)(ce.a.Description,{children:Object(T.jsx)(ae.a,{children:Object(T.jsxs)(ae.a.Group,{children:[Object(T.jsx)(ae.a.Field,{control:ie.a,type:"number",label:"Quantity",value:g.quantity,onChange:function(e,t){var n=t.value;return C("quantity",n)},onFocus:function(){0===+g.quantity&&C("quantity","")}}),Object(T.jsx)(ae.a.Field,{label:"Finish",control:se.a,value:g.selectedFinish,options:ve,disabled:ye(c,n).finishDisabled,onChange:function(e,t){var n=t.value;x(n),C("selectedFinish",n)}}),Object(T.jsx)(ae.a.Field,{label:"Condition",control:se.a,value:g.selectedCondition,options:ge,onChange:function(e,t){var n=t.value;return C("selectedCondition",n)}}),Object(T.jsx)(ae.a.Button,{label:"Add to Inventory?",control:oe.a,primary:!0,disabled:!k||w,onClick:function(){return y()},loading:w,children:"Submit"})]})})})]})]})})})})},We=n(350),Qe=n(154),Ue=function(e){var t=e.children;return Object(T.jsx)(Qe.a,{variant:"h4",children:t})},Ye=function(e){var t=e.children;return Object(T.jsx)(Qe.a,{variant:"h6",children:Object(T.jsx)("b",{children:t})})},Je=n(373),$e=n(48),Ke=n.n($e),Ze=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get(_,{params:{title:t}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Xe=function(e){var t=e.value,n=e.onChange,c=e.onBlur,a=Object(r.useState)(!1),i=Object(u.a)(a,2),s=i[0],d=i[1],j=Object(r.useState)([]),b=Object(u.a)(j,2),h=b[0],O=b[1],x=Object(r.useState)(t),p=Object(u.a)(x,2),f=p[0],m=p[1],v=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,Ze(t);case 3:n=e.sent,r=n.map((function(e){return{title:e}})),O(r),d(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=Object(r.useCallback)(Ke.a.debounce(v,500),[]),y=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.value,m(r),r&&!(r.length<3)){e.next=5;break}return O([]),e.abrupt("return");case 5:return e.next=7,g(r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(o.a.mark((function e(t,r){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.result,setTimeout((function(){return ue()("#searchBar").select()}),10),e.prev=2,d(!0),m(c.title),e.next=7,n(c.title);case 7:d(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(T.jsx)(Je.a,{value:f,onSearchChange:y,onResultSelect:C,loading:s,results:h,placeholder:"Enter a card title",selectFirstResult:!0,id:"searchBar",onFocus:function(e){return e.target.select()},onBlur:c})},et=n(349),tt=function(){return Object(T.jsx)(ze.a,{display:"flex",justifyContent:"center",width:1,py:3,children:Object(T.jsx)(et.a,{})})};function nt(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),i=Object(u.a)(a,2),s=i[0],d=i[1],j=Object(r.useContext)(ne),b=j.searchResults,h=j.handleSearchSelect;return Object(r.useEffect)((function(){n&&Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,h(n);case 3:d(!1);case 4:case"end":return e.stop()}}),e)})))()}),[n]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Xe,{value:n,onChange:function(e){return c(e)}}),Object(T.jsx)("br",{}),Object(T.jsxs)(We.a,{container:!0,justify:"space-between",children:[Object(T.jsx)(Ue,{children:"Manage Inventory"}),b.length>0&&Object(T.jsx)(J,{searchResults:b,title:b[0].name})]}),Object(T.jsx)(H.a,{}),s?Object(T.jsx)(tt,{}):Object(T.jsxs)(T.Fragment,{children:[!b.length&&Object(T.jsx)(q.a,{placeholder:!0,children:Object(T.jsxs)(E.a,{icon:!0,children:[Object(T.jsx)(A.a,{name:"search"}),Object(T.jsx)("em",{children:'"For the first time in his life, Grakk felt a little warm and fuzzy inside."'})]})}),Object(T.jsx)(We.a,{container:!0,spacing:2,children:b.map((function(e){return Object(T.jsx)(We.a,{item:!0,xs:12,children:Object(T.jsx)(Ge,{card:e})},e.id)}))})]})]})}var rt=n(16);var ct=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat(y,"/").concat(t),{headers:I()});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),at=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.delete("".concat(y,"/").concat(t),{headers:I()});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),it=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post(y,t,{headers:I()});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post(x,t,{headers:I()});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ot={_id:"",name:"",notes:"",list:[]},lt=Object(r.createContext)({saleListCards:[],searchResults:[],searchTerm:"",suspendedSale:ot,handleResultSelect:function(){return null},addToSaleList:function(){return null},removeFromSaleList:function(){return null},restoreSale:function(){return null},suspendSale:function(){return null},deleteSuspendedSale:function(){return null},finalizeSale:function(){return null},resetSaleState:function(){return null}}),ut=function(e){var t=e.children,n=Object(r.useState)([]),c=Object(u.a)(n,2),a=c[0],i=c[1],s=Object(r.useState)(""),d=Object(u.a)(s,2),j=d[0],b=d[1],h=Object(r.useState)([]),O=Object(u.a)(h,2),x=O[0],p=O[1],f=Object(r.useState)(ot),m=Object(u.a)(f,2),v=m[0],g=m[1],y=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te({cardName:t,inStockOnly:!0});case 2:n=e.sent,p(n),b(t),0===n.length&&ue()("#searchBar").focus().select();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ct(t);case 3:n=e.sent,r=n.list.map((function(e){return e})),i(r),g(n),xe({color:"green",header:"You are viewing ".concat(n.name,"'s sale")}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.response),xe({color:"red",header:"Error"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.customerName,r=t.notes,c=v._id,e.prev=2,!c){e.next=6;break}return e.next=6,at(c);case 6:return e.next=8,it({customerName:n,notes:r,saleList:a});case 8:i=e.sent,F(),xe({color:"green",header:"".concat(i.ops[0].name,"'s sale was suspended")}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0.response),xe({color:"red",header:"Error",message:e.t0.response.data||"Error suspending sale"});case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=v._id,n=v.name,e.next=4,at(t);case 4:F(),xe({color:"green",header:"".concat(n,"'s sale was deleted")}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response),xe({color:"red",header:"Error",message:e.t0.response.data||"Error deleting suspended sale"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=v._id,e.prev=1,!t){e.next=5;break}return e.next=5,at(t);case 5:return e.next=7,st({cards:a});case 7:n=e.sent,r=n.sale_data,xe({color:"green",header:"Sale created in Lightspeed!",message:"The id number is #".concat(r.Sale.saleID)}),F(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),xe({color:"red",header:"Error",message:e.t0.response.data||"Sale was not created"}),F();case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),F=function(){i([]),p([]),b(""),g(ot)};return Object(T.jsx)(lt.Provider,{value:{saleListCards:a,searchTerm:j,searchResults:x,suspendedSale:v,handleResultSelect:y,addToSaleList:function(e,t,n,r){var c=Object($.a)(a),s=Object(rt.a)(Object(rt.a)({},e),{},{finishCondition:t,qtyToSell:n,price:r}),o=c.findIndex((function(e){return e.id===s.id&&e.finishCondition===t}));-1!==o?c.splice(o,1,s):c.push(s),i(function(e){var t=["W","U","B","R","G","MULTI","COLORLESS","LAND"];function n(e){var t=null,n=null,r=null;try{n=e.colors.length,r=e}catch(c){try{n=e.card_faces[0].colors.length,r=e.card_faces[0]}catch(c){n=e.colors.length,r=e}}return 0===n?t="COLORLESS":1===n?t=r.colors[0]:n>1&&(t="MULTI"),"COLORLESS"===t&&(r.color_identity&&(1===r.color_identity.length&&(t=r.color_identity[0]),r.color_identity.length>1&&(t="MULTI")),r.type_line.includes("Land")&&(t="LAND")),t||(t="LAND"),t}return e.sort((function(e,t){return e.name.localeCompare(t.name)})).sort((function(e,r){return t.indexOf(n(e))-t.indexOf(n(r))}))}(c))},removeFromSaleList:function(e,t){var n=Object($.a)(a).filter((function(n){return!(n.id===e&&n.finishCondition===t)}));i(n)},restoreSale:C,suspendSale:w,deleteSuspendedSale:k,finalizeSale:S,resetSaleState:F},children:t})},dt=n(9);var jt=function(e){var t=e.label,n=e.name,r=e.options,c=e.onChange,a=e.error,i=Object(dt.a)(e,["label","name","options","onChange","error"]);return Object(T.jsx)(ae.a.Field,Object(rt.a)({error:a,control:se.a,label:t,placeholder:t,options:r,name:n,onChange:function(e,t){var n=t.value;c(n)}},i))};var bt=function(e){var t=e.card,n=Object(r.useContext)(lt).addToSaleList,c=function(e,t){var n=Ke.a.pickBy(e,(function(e){return e&&e>0}));return Object.entries(n).map((function(e){var n=Object(u.a)(e,2),r=n[0],c=n[1];return{text:"".concat(r.split("_").join(" | ")," | Qty: ").concat(c),value:r,key:"".concat(t).concat(r)}}))}(t.qoh,t.id),a={selectedFinishCondition:c[0].value,price:0,quantityToSell:0},i=Object(de.a)({initialValues:a,validate:function(e){var n=e.quantityToSell,r=e.price,c=e.selectedFinishCondition,a={};return n||(a.quantityToSell="error"),r||(a.price="error"),c||(a.selectedFinishCondition="error"),n>t.qoh[c]&&(a.quantityToSell="error"),r<0&&(a.price="error"),n<1&&(a.quantityToSell="error"),a},onSubmit:function(e){var r=e.selectedFinishCondition,c=e.quantityToSell,a=e.price;n(t,r,c,a),ue()("#searchBar").focus().select()},validateOnMount:!0}),s=i.handleSubmit,o=i.setFieldValue,l=i.values,d=i.isValid;return Object(T.jsx)(Ae.a,{variant:"outlined",children:Object(T.jsx)(ze.a,{p:2,children:Object(T.jsx)(ce.a.Group,{divided:!0,children:Object(T.jsxs)(ce.a,{children:[Object(T.jsx)(ce.a.Image,{size:"tiny",children:Object(T.jsx)(me,{image:t.cardImage})}),Object(T.jsxs)(ce.a.Content,{children:[Object(T.jsx)(qe,{card:t,selectedFinish:l.selectedFinishCondition.split("_")[0],showMid:!0,round:!0}),Object(T.jsx)(ce.a.Description,{children:Object(T.jsx)(ae.a,{children:Object(T.jsxs)(ae.a.Group,{children:[Object(T.jsx)(jt,{label:"Select finish/condition",name:"selectedFinishCondition",options:c,defaultValue:a.selectedFinishCondition,onChange:function(e){o("selectedFinishCondition",e),o("quantityToSell",0)}}),Object(T.jsx)(ae.a.Field,{control:ie.a,type:"number",label:"Quantity to sell",value:l.quantityToSell,onChange:function(e,n){var r=n.value,c=parseInt(r,10);c>t.qoh[l.selectedFinishCondition]||o("quantityToSell",c)},onFocus:function(e){return e.target.select()}}),Object(T.jsx)(ae.a.Field,{control:ie.a,type:"number",label:"Price",value:l.price,onChange:function(e,t){var n=t.value,r=parseFloat(n);o("price",r)},onFocus:function(e){return e.target.select()},step:.5}),Object(T.jsx)(ae.a.Button,{type:"submit",label:"Add to sale?",control:oe.a,primary:!0,onClick:function(){return s()},disabled:!d,children:"Sell"})]})})})]})]})})})})},ht=function(e){var t=e.loading,n=e.term,r=e.cards;return t?Object(T.jsx)(tt,{}):0===r.length?Object(T.jsx)(q.a,{placeholder:!0,children:Object(T.jsxs)(E.a,{icon:!0,children:[Object(T.jsx)(A.a,{name:"search"}),Object(T.jsx)("span",{children:n&&!r.length?Object(T.jsxs)("p",{children:["Zero results for ",Object(T.jsx)("em",{children:n})]}):Object(T.jsx)("p",{children:Object(T.jsx)("em",{children:'"Don\'t give the people what they want"'})})})]})}):Object(T.jsx)(We.a,{container:!0,spacing:2,children:r.map((function(e){return Object(T.jsx)(We.a,{item:!0,xs:12,children:Object(T.jsx)(bt,{card:e})},e.id)}))})},Ot=n(387);function xt(e){if(null===e)return"$0.00";var t="string"===typeof e?Number(e):e;return isNaN(t)?"$0.00":"$".concat(t.toFixed(2))}function pt(e){if(null===e)return"$0.00";var t="string"===typeof e?Number(e):e;return isNaN(t)?"$0.00":"$".concat(t.toFixed(2))}var ft=function(e){var t=e.num;return Object(T.jsx)("span",{children:xt(t)})},mt=n(352),vt=n(388),gt=Object(mt.a)({transparentBackground:{backgroundColor:"transparent"},borderRounded:{borderRadius:"7px 7px 7px 7px"}}),yt=function(e){var t=e.cardImage,n=e.children,r=gt(),c=r.transparentBackground,a=r.borderRounded;return Object(T.jsx)(vt.a,{placement:"bottom-start",title:Object(T.jsx)(pe.a,{className:a,size:"small",src:t}),classes:{tooltip:c},children:Object(T.jsx)("span",{children:n})})},Ct=function(e){var t=e.card,n=t.display_name,c=t.set,a=t.finishCondition,i=t.qtyToSell,s=t.price,o=t.rarity,l=t.id,d=t.cardImage,j=Object(r.useState)(!1),b=Object(u.a)(j,2),h=b[0],O=b[1],x=Object(r.useContext)(lt).removeFromSaleList;return Object(T.jsx)(q.a,{children:Object(T.jsxs)(Ot.a,{verticalAlign:"middle",children:[Object(T.jsxs)(Ot.a.Column,{tablet:16,computer:11,children:[Object(T.jsx)("div",{children:Object(T.jsx)(yt,{cardImage:d,children:Object(T.jsx)(E.a,{as:"h4",style:{cursor:"help"},children:n})})}),Object(T.jsx)(De,{set:c,rarity:o}),Object(T.jsx)(z.a,{color:"grey",children:c.toUpperCase()}),Object(T.jsxs)("div",{className:"line-item-price",children:[i,"x @ ",Object(T.jsx)(ft,{num:s})," \u2022 ",a&&Object(T.jsxs)("span",{children:[a.split("_")[1]," "," | ",a.split("_")[0]]})]})]}),Object(T.jsx)(Ot.a.Column,{tablet:16,computer:5,textAlign:"right",children:Object(T.jsx)(oe.a,{compact:!0,icon:"cancel",circular:!0,onClick:function(){return x(l,a)},onMouseOver:function(){return O(!0)},onMouseOut:function(){return O(!1)},color:h?"red":void 0})})]})})};function wt(e){return e.reduce((function(e,t){return e+t}),0)}var kt,St,Ft,_t,Lt=function(e){var t=wt(e.saleList.map((function(e){return e.qtyToSell*Number(e.price)})));return Object(T.jsx)("div",{id:"sale-price-total",children:Object(T.jsx)(ft,{num:t})})},It=n(378),Nt=function(){var e=Object(r.useState)({loading:!1,disabled:!1}),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),i=Object(u.a)(a,2),s=i[0],d=i[1],j=Object(r.useContext)(lt).finalizeSale,b=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({loading:!0,disabled:!0}),e.next=3,j();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=Object(T.jsx)(oe.a,{floated:"right",primary:!0,onClick:function(){return d(!0)},children:"Finalize sale"});return Object(T.jsxs)(It.a,{basic:!0,open:s,trigger:h,children:[Object(T.jsxs)(It.a.Content,{children:[Object(T.jsx)(E.a,{inverted:!0,as:"h2",children:"Finalize this sale?"}),Object(T.jsx)("p",{children:"Click 'Yes' to create a sale in Lightspeed. Ensure that you have all cards pulled and double-checked the customer list. Undoing this action will require manual data entry!"})]}),Object(T.jsxs)(It.a.Actions,{children:[Object(T.jsxs)(oe.a,{basic:!0,color:"red",inverted:!0,onClick:function(){return d(!1)},children:[Object(T.jsx)(A.a,{name:"remove"})," No"]}),Object(T.jsxs)(oe.a,{color:"green",inverted:!0,onClick:b,loading:n.loading,disabled:n.disabled,children:[Object(T.jsx)(A.a,{name:"checkmark"})," Yes"]})]})]})},Pt=function(e){var t=e.saleList;return 0===t.length?Object(T.jsx)(q.a,{placeholder:!0,children:Object(T.jsxs)(E.a,{icon:!0,children:[Object(T.jsx)(A.a,{name:"plus"}),Object(T.jsx)("em",{children:'"Give them what they need"'})]})}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(q.a.Group,{children:t.map((function(e){return Object(T.jsx)(Ct,{card:e},"".concat(e.id).concat(e.finishCondition).concat(e.qtyToSell))}))}),Object(T.jsxs)(q.a,{clearing:!0,children:[Object(T.jsxs)(E.a,{floated:"left",children:[Object(T.jsx)(E.a,{sub:!0,children:"Subtotal"}),Object(T.jsx)(Lt,{saleList:t})]}),Object(T.jsx)(Nt,{})]})]})},Tt=n(238),Rt=G.a.div(kt||(kt=Object(je.a)(["\n    @media print {\n        background-color: white;\n        margin: 0;\n        padding: 0;\n        font-size: 30px;\n        line-height: 40px;\n        z-index: 5000;\n        overflow: hidden;\n    }\n    @media screen {\n        display: none !important;\n    }\n"]))),Bt=function(e){var t=e.saleListCards,n=Object(r.useRef)(null),c=Object(Tt.useReactToPrint)({content:function(){return n.current}});return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{children:Object(T.jsx)(oe.a,{size:"tiny",onClick:c,icon:!0,children:Object(T.jsx)(A.a,{name:"print"})})}),Object(T.jsxs)(Rt,{ref:n,children:[Object(T.jsx)("ul",{children:t.map((function(e){return Object(T.jsx)("li",{children:Object(T.jsxs)("b",{children:[e.display_name," | x",e.qtyToSell," |"," ",e.finishCondition," | ",e.set_name," |"," ",Object(T.jsx)(ft,{num:e.price})]})},e.id)}))}),Object(T.jsx)("span",{children:Object(T.jsxs)("b",{children:["Subtotal: ",Object(T.jsx)(Lt,{saleList:t})]})})]})]})},Mt=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get(y,{headers:I()});case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Dt=G.a.div(St||(St=Object(je.a)(["\n    border-left: 1px solid rgba(0, 0, 0, 0.2);\n    height: 100%;\n"]))),Ht=G.a.div(Ft||(Ft=Object(je.a)(["\n    margin-top: 0px;\n    margin-bottom: 0px;\n"]))),qt=G.a.p(_t||(_t=Object(je.a)(["\n    font-size: 12px;\n    color: rgba(0, 0, 0, 0.2);\n    float: right;\n"]))),Et=function(e){var t=e.restoreSale,n=e.deleteSuspendedSale,a=e.saleListLength,i=e.suspendSale,s=e.id,d=Object(r.useState)([]),j=Object(u.a)(d,2),b=j[0],h=j[1],O=Object(r.useState)(""),x=Object(u.a)(O,2),p=x[0],f=x[1],m=Object(r.useState)(!1),v=Object(u.a)(m,2),g=v[0],y=v[1],C=Object(r.useState)(""),w=Object(u.a)(C,2),k=w[0],S=w[1],F=Object(r.useState)(""),_=Object(u.a)(F,2),L=_[0],I=_[1],N=Object(r.useState)(!1),P=Object(u.a)(N,2),R=P[0],B=P[1],M=Object(r.useState)({suspendBtn:!1,restoreBtn:!1,deleteBtn:!1}),D=Object(u.a)(M,2),H=D[0],q=D[1],E=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt();case 2:t=e.sent,h(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){S(""),I(""),f("")};Object(r.useEffect)((function(){E()}),[s]);var z=Object(T.jsx)("div",{children:Object(T.jsx)(oe.a,{size:"tiny",id:"suspend-sale-btn",onClick:function(){return y(!0)},icon:"ellipsis horizontal"})}),V=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),q(Object(rt.a)(Object(rt.a)({},H),{},{suspendBtn:!0})),e.next=4,i({customerName:k,notes:L});case 4:return y(!1),e.next=7,E();case 7:A(),B(!1),q(Object(rt.a)(Object(rt.a)({},H),{},{suspendBtn:!1}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),q(Object(rt.a)(Object(rt.a)({},H),{},{restoreBtn:!0})),e.next=4,t(p);case 4:y(!1),A(),B(!1),q(Object(rt.a)(Object(rt.a)({},H),{},{restoreBtn:!1}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),q(Object(rt.a)(Object(rt.a)({},H),{},{deleteBtn:!0})),e.next=4,n();case 4:y(!1),A(),B(!1),q(Object(rt.a)(Object(rt.a)({},H),{},{deleteBtn:!1}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsx)(c.a.Fragment,{children:Object(T.jsxs)(It.a,{trigger:z,open:g,children:[Object(T.jsx)(It.a.Header,{children:"Sales menu"}),Object(T.jsx)(It.a.Content,{children:Object(T.jsxs)(Ot.a,{columns:2,stackable:!0,relaxed:"very",children:[a>0&&Object(T.jsxs)(c.a.Fragment,{children:[Object(T.jsxs)(Ot.a.Column,{width:"7",children:[Object(T.jsx)("h3",{children:"Suspend Sale"}),Object(T.jsxs)(ae.a,{children:[Object(T.jsx)(Ht,{children:Object(T.jsx)(ae.a.Input,{id:"suspend-sale-name",label:"Customer Name",placeholder:"Jace, the Mind Sculptor",value:k,onChange:function(e,t){var n=t.value;return S(n.substring(0,50))}})}),Object(T.jsx)(Ht,{children:Object(T.jsxs)(qt,{children:[k.length,"/50"]})}),Object(T.jsx)(Ht,{children:Object(T.jsx)(ae.a.TextArea,{label:"Notes",placeholder:"Sometimes, I forget things...",value:L,onChange:function(e,t){var n=t.value;"string"===typeof n&&I(n.substring(0,150))}})}),Object(T.jsx)(Ht,{children:Object(T.jsxs)(qt,{children:[L.length,"/150"]})}),Object(T.jsx)(ae.a.Button,{id:"suspend-sale-submit",primary:!0,disabled:R||!k,loading:H.suspendBtn,onClick:V,children:"Suspend Sale"})]})]}),Object(T.jsx)(Ot.a.Column,{width:"1",children:Object(T.jsx)(Dt,{})})]}),Object(T.jsxs)(Ot.a.Column,{width:"7",children:[Object(T.jsx)("h3",{children:"Restore Sale"}),b.length>0&&Object(T.jsx)(c.a.Fragment,{children:Object(T.jsxs)(ae.a,{children:[Object(T.jsx)(ae.a.Select,{fluid:!0,label:"Previously suspended sales",options:b.map((function(e){return{key:e._id,text:e.name,value:e._id}})),placeholder:"Select a sale",onChange:function(e,t){var n=t.value;"string"===typeof n&&f(n)}}),Object(T.jsx)(ae.a.Button,{primary:!0,disabled:R||!p,loading:H.restoreBtn,onClick:G,children:"Restore Sale"})]})}),0===b.length&&Object(T.jsxs)(be.a,{info:!0,children:[Object(T.jsx)(be.a.Header,{children:"No sales"}),"Suspend a sale first"]})]})]})}),Object(T.jsxs)(It.a.Actions,{children:[!!s&&Object(T.jsx)(oe.a,{color:"red",disabled:R,loading:H.deleteBtn,onClick:W,children:"Delete current Sale"}),Object(T.jsx)(oe.a,{primary:!0,disabled:R,onClick:function(){return y(!1)},children:"Cancel"})]})]})})};function At(e,t){return"".concat(t).concat(1===e?"":"s")}var zt=function(e){var t=e.listLength;return 0===t?null:Object(T.jsx)("div",{children:Object(T.jsxs)(z.a,{color:"grey",children:[t," ",At(t,"card")]})})},Vt=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),i=Object(u.a)(a,2),s=i[0],d=i[1],j=Object(r.useContext)(lt),b=j.saleListCards,h=j.searchTerm,O=j.searchResults,x=j.handleResultSelect,p=j.suspendedSale,f=j.restoreSale,m=j.deleteSuspendedSale,v=j.suspendSale;return Object(r.useEffect)((function(){n&&Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,x(n);case 3:d(!1);case 4:case"end":return e.stop()}}),e)})))()}),[n]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Xe,{value:n,onChange:function(e){return c(e)}}),Object(T.jsx)("br",{}),Object(T.jsxs)(We.a,{container:!0,spacing:2,children:[Object(T.jsxs)(We.a,{item:!0,xs:12,lg:8,children:[Object(T.jsxs)(We.a,{container:!0,justify:"space-between",children:[Object(T.jsx)(Ue,{children:"Inventory"}),O.length>0&&Object(T.jsx)(J,{searchResults:O,title:O[0].name})]}),Object(T.jsx)(H.a,{}),Object(T.jsx)(ht,{loading:s,term:h,cards:O})]}),Object(T.jsxs)(We.a,{item:!0,xs:12,lg:4,children:[Object(T.jsxs)(We.a,{container:!0,justify:"space-between",children:[Object(T.jsxs)(ze.a,{display:"flex",alignItems:"center",children:[Object(T.jsx)(Ue,{children:""===p.name?"Sale Items":"".concat(p.name,"'s Items")}),Object(T.jsx)(zt,{listLength:wt(b.map((function(e){return e.qtyToSell})))})]}),Object(T.jsxs)(ze.a,{display:"flex",children:[Object(T.jsx)(Et,{restoreSale:f,suspendSale:v,saleListLength:b.length,deleteSuspendedSale:m,id:p._id}),b.length>0&&Object(T.jsx)(Bt,{saleListCards:b})]})]}),Object(T.jsx)(H.a,{}),Object(T.jsx)(Pt,{saleList:b})]})]})]})},Gt=n(379),Wt=n(150),Qt=n.n(Wt);var Ut,Yt,Jt,$t,Kt=function(e){return Qt()(e).format("MM/DD/YYYY - h:mm A")},Zt=function(e){var t=e.sale,n=t.card_list,r=t.sale_data,c=wt(n.map((function(e){return Number(e.qtyToSell)})));return Object(T.jsxs)(Gt.a.Row,{children:[Object(T.jsx)(Gt.a.Cell,{children:r.saleID}),Object(T.jsx)(Gt.a.Cell,{children:Kt(r.createTime)}),Object(T.jsx)(Gt.a.Cell,{children:c})]})},Xt=function(e){var t=e.list;return Object(T.jsxs)(Gt.a,{celled:!0,unstackable:!0,compact:!0,children:[Object(T.jsx)(Gt.a.Header,{children:Object(T.jsxs)(Gt.a.Row,{children:[Object(T.jsx)(Gt.a.HeaderCell,{children:"Sale ID"}),Object(T.jsx)(Gt.a.HeaderCell,{children:"Date of Sale"}),Object(T.jsx)(Gt.a.HeaderCell,{children:"Quantity Sold"})]})}),Object(T.jsx)(Gt.a.Body,{children:t.map((function(e){return Object(T.jsx)(Zt,{sale:e})}))})]})},en=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cardName,e.prev=1,e.next=4,j.a.get(w,{params:{cardName:n},headers:I()});case 4:return r=e.sent,c=r.data,e.abrupt("return",c);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),tn=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),i=Object(u.a)(a,2),s=i[0],d=i[1],j=Object(r.useState)([]),b=Object(u.a)(j,2),h=b[0],O=b[1],x=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,en({cardName:t});case 2:n=e.sent,O(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){n&&Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,x(n);case 3:d(!1);case 4:case"end":return e.stop()}}),e)})))()}),[n]),Object(T.jsxs)("div",{children:[Object(T.jsx)(Xe,{value:n,onChange:function(e){return c(e)}}),Object(T.jsx)("br",{}),Object(T.jsx)(Ue,{children:"Browse Sales"}),Object(T.jsx)(H.a,{}),s?Object(T.jsx)(tt,{}):Object(T.jsxs)(T.Fragment,{children:[""!==n&&Object(T.jsxs)(Qe.a,{children:[h.length," results for ",Object(T.jsx)("em",{children:n})]}),Object(T.jsx)(Xt,{list:h})]})]})},nn=G.a.div(Ut||(Ut=Object(je.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: ","px;\n"])),275),rn=G.a.div(Yt||(Yt=Object(je.a)(["\n    display: flex;\n    width: 100%;\n    flex-direction: column;\n    justify-content: space-between;\n    padding: 5px;\n    background-color: rgba(0, 0, 0, 0.9);\n    border-radius: 10px 10px 10px 10px;\n    box-shadow: 2px 2px 5px 0 rgba(0, 0, 0, 0.25);\n"]))),cn=G.a.div(Jt||(Jt=Object(je.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    margin: 5px;\n"]))),an=G.a.div($t||($t=Object(je.a)(["\n    width: ","px;\n    height: ","px;\n    box-shadow: 2px 2px 5px 0 rgba(0, 0, 0, 0.25);\n    background: repeating-linear-gradient(\n        45deg,\n        #bfbfbf,\n        #bfbfbf 10px,\n        #b0b0b0 10px,\n        #b0b0b0 20px\n    );\n    border-radius: 15px;\n"])),275,383.4416666666667),sn=Object(G.a)(pe.a)({borderRadius:"15px"}),on=function(e){var t=e.card,n=t.id,r=t.cardImage,c=ke(t.qoh),a=Object(u.a)(c,2),i=a[0],s=a[1];return Object(T.jsxs)(nn,{children:[Object(T.jsx)(an,{children:Object(T.jsx)(sn,{src:r,size:"medium"})}),Object(T.jsxs)(rn,{children:[i>0&&Object(T.jsxs)(cn,{children:[Object(T.jsxs)(z.a,{color:"blue",image:!0,children:["Foil",Object(T.jsx)(z.a.Detail,{children:i})]}),Object(T.jsx)(Be,{id:n,finish:"FOIL",round:!0,showMid:!1})]}),s>0&&Object(T.jsxs)(cn,{children:[Object(T.jsxs)(z.a,{color:"blue",image:!0,children:["Nonfoil",Object(T.jsx)(z.a.Detail,{children:s})]}),Object(T.jsx)(Be,{id:n,finish:"NONFOIL",round:!0,showMid:!1})]})]})]})},ln=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get(S,{params:t});case 3:return n=e.sent,r=n.data,e.abrupt("return",r.map((function(e){return new ee(e)})));case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),un=Object(G.a)("div")({display:"grid",gridGap:"20px",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",justifyItems:"center"}),dn=Object(G.a)(ae.a.Group)({alignItems:"flex-end"}),jn={searchResults:[],searchTerm:"",selectedLocation:"ch1"},bn={searchTerm:"",selectedLocation:"ch1"},hn=[{key:"beaverton",text:"CH Beaverton",value:"ch1"},{key:"hillsboro",text:"CH Hillsboro",value:"ch2"}],On=function(e){var t={};return e.searchTerm||(t.searchTerm="error"),t},xn=function(){var e=Object(r.useState)(jn),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),i=Object(u.a)(a,2),s=i[0],d=i[1],j=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.title,a=t.location,e.prev=1,e.next=4,ln({title:r,location:a,matchInStock:!0});case 4:i=e.sent,c(Object(rt.a)(Object(rt.a)({},n),{},{searchResults:i})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.searchTerm,r=t.selectedLocation,e.next=3,j({title:n,location:r});case 3:d(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=Object(de.a)({initialValues:bn,validate:On,onSubmit:b}),O=h.values,x=h.handleSubmit,p=h.setFieldValue,f=h.isSubmitting;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(ae.a,{children:Object(T.jsxs)(dn,{widths:"5",children:[Object(T.jsxs)(ae.a.Field,{children:[Object(T.jsx)("label",{children:"Card search"}),Object(T.jsx)(Xe,{value:O.searchTerm,onChange:function(e){return p("searchTerm",e)}})]}),Object(T.jsx)(ae.a.Field,{label:"Store location",control:se.a,value:O.selectedLocation,options:hn,onChange:function(e,t){var n=t.value;return p("selectedLocation",n)}}),Object(T.jsx)(ae.a.Button,{type:"submit",primary:!0,disabled:!O.searchTerm,loading:f,onClick:function(){return x()},children:"Search"})]})}),Object(T.jsx)("br",{}),Object(T.jsx)(Ot.a,{stackable:!0,children:Object(T.jsxs)(Ot.a.Column,{children:[Object(T.jsxs)(E.a,{as:"h2",children:["Inventory Search",Object(T.jsx)(E.a.Subheader,{children:Object(T.jsx)("em",{children:"Card prices subject to change. Consult a Clubhouse employee for final estimates"})})]}),n.searchResults.length>0?Object(T.jsx)(un,{children:n.searchResults.map((function(e){return Object(T.jsx)(on,{card:e},e.id)}))}):Object(T.jsx)(q.a,{placeholder:!0,children:Object(T.jsxs)(E.a,{icon:!0,children:[Object(T.jsx)(A.a,{name:"search"}),s?Object(T.jsx)("span",{children:"No cards found in stock"}):Object(T.jsx)("span",{children:"Search for a card"})]})})]})})]})},pn=n(239),fn=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get(g,{headers:I()});case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),mn=function(e){var t=e.label,n=e.value,r=e.onChange;return Object(T.jsxs)(ae.a.Field,{children:[Object(T.jsx)("label",{children:t}),Object(T.jsx)(Xe,{value:n,onChange:function(e){r(e)},onBlur:function(e){var t=e.target;r(t.value)}})]})},vn=n(155);var gn,yn,Cn,wn=function(e){e.label;var t=e.name,n=e.onChange,r=e.options,c=Object(dt.a)(e,["label","name","onChange","options"]);return Object(T.jsx)(vn.a,Object(rt.a)({options:r,name:t,onChange:function(e,t){n(t.value)}},c))},kn=[{key:"qw",value:"",text:"None"},{key:"we",value:"standard",text:"Standard"},{key:"er",value:"future",text:"Future"},{key:"rt",value:"historic",text:"Historic"},{key:"ty",value:"pioneer",text:"Pioneer"},{key:"yu",value:"modern",text:"Modern"},{key:"ui",value:"legacy",text:"Legacy"},{key:"io",value:"pauper",text:"Pauper"},{key:"op",value:"vintage",text:"Vintage"},{key:"as",value:"penny",text:"Penny"},{key:"sd",value:"commander",text:"Commander"},{key:"df",value:"brawl",text:"Brawl"},{key:"fg",value:"duel",text:"Duel"},{key:"gh",value:"oldschool",text:"Oldschool"}],Sn=[{key:"gte",value:"gte",text:">="},{key:"lte",value:"lte",text:"<="},{key:"gtx",value:"gt",text:">"},{key:"ltx",value:"lt",text:"<"}],Fn=[{key:"nonfoil_foil",value:"",text:"None"},{key:"nonfoil",value:"NONFOIL",text:"Nonfoil"},{key:"foil",value:"FOIL",text:"Foil"}],_n=[{key:"pricesort",value:"price",text:"Price"},{key:"alphasort",value:"name",text:"Card Name"}],Ln=[{key:"descdirsort",value:1,text:"Ascending"},{key:"ascdirsort",value:-1,text:"Descending"}],In=[{key:"w",value:"W",text:"White"},{key:"u",value:"U",text:"Blue"},{key:"b",value:"B",text:"Black"},{key:"r",value:"R",text:"Red"},{key:"g",value:"G",text:"Green"}],Nn=[{key:"all",value:"",text:"None"},{key:"colorless",value:"colorless",text:"Colorless only"},{key:"mono",value:"mono",text:"Monocolor only"},{key:"multi",value:"multi",text:"Multicolor only"}],Pn=[{key:"na",value:"",text:"None"},{key:"artifact",value:"Artifact",text:"Artifact"},{key:"creature",value:"Creature",text:"Creature"},{key:"enchantment",value:"Enchantment",text:"Enchantment"},{key:"instant",value:"Instant",text:"Instant"},{key:"land",value:"Land",text:"Land"},{key:"planeswalker",value:"Planeswalker",text:"Planeswalker"},{key:"sorcery",value:"Sorcery",text:"Sorcery"},{key:"tribal",value:"Tribal",text:"Tribal"}],Tn=[{key:"na",value:"",text:"None"},{key:"borderless",value:"borderless",text:"Borderless"},{key:"extendedArt",value:"extendedArt",text:"Extended Art"},{key:"showcase",value:"showcase",text:"Showcase"}],Rn={title:"",setName:"",format:"",price:0,priceOperator:"gte",finish:"",sortBy:"price",colorsArray:[],sortByDirection:-1,colorSpecificity:"",typeLine:"",frame:""},Bn=function(){return{}},Mn=function(e){var t=e.doSubmit,n=Object(r.useState)([]),c=Object(u.a)(n,2),a=c[0],i=c[1],s=function(){var e=Object(l.a)(o.a.mark((function e(n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(pn.a)(r),e.prev=1,e.next=4,t({title:n.title||void 0,setName:n.setName||void 0,format:n.format||void 0,price:Number(n.price)||void 0,finish:n.finish||void 0,colors:n.colorsArray.length>0?n.colorsArray.sort().join(""):void 0,colorSpecificity:n.colorSpecificity||void 0,type:n.typeLine||void 0,frame:n.frame||void 0,sortByDirection:n.sortByDirection,priceOperator:n.priceOperator,sortBy:n.sortBy},1);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fn();case 2:t=e.sent,n=t.map((function(e,t){return{key:"set".concat(t),value:e,text:e}})),r=[{key:"snull",value:"",text:"None"}].concat(Object($.a)(n)),i(r);case 6:case"end":return e.stop()}}),e)})))()}),[]);var d=Object(de.a)({initialValues:Rn,validate:Bn,onSubmit:s}),j=d.handleChange,b=d.setFieldValue,h=d.handleSubmit,O=d.values;return Object(T.jsxs)(q.a,{children:[Object(T.jsx)("h3",{children:"Filters"}),Object(T.jsxs)(ae.a,{children:[Object(T.jsxs)(ae.a.Group,{widths:"4",children:[Object(T.jsx)(mn,{label:"Card name",value:O.title,onChange:function(e){return b("title",e)}}),Object(T.jsx)(jt,{name:"format",label:"Format",options:kn,onChange:function(e){return b("format",e)}}),Object(T.jsx)(jt,{name:"setName",label:"Edition",options:a,onChange:function(e){return b("setName",e)},search:!0}),Object(T.jsx)(jt,{name:"finish",label:"Finish",options:Fn,onChange:function(e){return b("finish",e)}})]}),Object(T.jsxs)(ae.a.Group,{widths:"4",children:[Object(T.jsx)(jt,{name:"colorsArray",label:"Colors",options:In,onChange:function(e){return b("colorsArray",e)},multiple:!0}),Object(T.jsx)(jt,{name:"colorSpecificity",label:"Color specificity",options:Nn,onChange:function(e){return b("colorSpecificity",e)}}),Object(T.jsx)(jt,{name:"typeLine",label:"Type Line",options:Pn,onChange:function(e){return b("typeLine",e)}}),Object(T.jsx)(jt,{name:"frame",label:"Frame Effects",options:Tn,onChange:function(e){return b("frame",e)}}),Object(T.jsxs)(ae.a.Field,{children:[Object(T.jsx)("label",{children:"Price Filter"}),Object(T.jsx)(ie.a,{label:Object(T.jsx)(wn,{name:"priceOperator",options:Sn,onChange:function(e){return b("priceOperator",e)},defaultValue:"gte"}),placeholder:"Enter a price",labelPosition:"left",name:"price",type:"number",onChange:j})]})]}),Object(T.jsx)("h3",{children:"Sort & Order"}),Object(T.jsxs)(ae.a.Group,{children:[Object(T.jsx)(jt,{name:"sortBy",label:"Sort by",options:_n,defaultValue:Rn.price,onChange:function(e){return b("sortBy",e)}}),Object(T.jsx)(jt,{name:"sortByDirection",label:"Order",options:Ln,defaultValue:Rn.sortByDirection,onChange:function(e){return b("sortByDirection",e)}})]}),Object(T.jsx)(ae.a.Group,{children:Object(T.jsx)(ae.a.Button,{type:"submit",onClick:function(){return h()},primary:!0,children:"Submit"})})]})]})},Dn={NM:"Near Mint",LP:"Light Play",MP:"Moderate Play",HP:"Heavy Play"},Hn=function(e){var t=e.card,n=t.finishCondition,r=t.quantityInStock,c=t.name,a=t.set_name,i=t.price,s=t.set,o=t.rarity,l=t.image_uri,u=n.split("_")[0],d=n.split("_")[1];return Object(T.jsxs)(Gt.a.Row,{children:[Object(T.jsxs)(Gt.a.Cell,{children:[Object(T.jsx)(yt,{cardImage:l,children:Object(T.jsxs)("span",{style:{cursor:"help"},children:[c," "]})}),"FOIL"===u&&Object(T.jsx)(A.a,{name:"star",color:"blue"})]}),Object(T.jsxs)(Gt.a.Cell,{children:[Object(T.jsx)(De,{set:s,rarity:o}),a]}),Object(T.jsx)(Gt.a.Cell,{children:Dn[d]}),Object(T.jsx)(Gt.a.Cell,{children:r}),Object(T.jsx)(Gt.a.Cell,{children:Object(T.jsx)(ft,{num:i})})]})},qn=n(354),En=n(383),An=n(374),zn=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(rt.a)(Object(rt.a)({},t),{},{page:n}),e.next=3,j.a.get(v,{params:r,headers:I()});case 3:return c=e.sent,a=c.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Vn=function(){var e=Object(r.useState)({cards:[],count:0,currentPage:0,numPages:0,isLoading:!1,cachedFilters:Rn,showPages:[],searchTouched:!1}),t=Object(u.a)(e,2),n=t[0],a=t[1],i=function(){var e=Object(l.a)(o.a.mark((function e(t,r){var c,i,s,l,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(Object(rt.a)(Object(rt.a)({},n),{},{isLoading:!0})),e.next=4,zn(t,r);case 4:c=e.sent,i=c.cards,s=c.total,l=Math.ceil(s/100),u=Ke.a.range(1,l+1),d=r<=3?u.slice(0,5):r>=l-2?u.slice(l-5,l):u.slice(r-2,r+3),a(Object(rt.a)(Object(rt.a)({},n),{},{cards:i,count:s,isLoading:!1,numPages:l,currentPage:r,showPages:d,searchTouched:!0,cachedFilters:t})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}(),s=n.cards,d=n.isLoading,j=n.currentPage,b=n.numPages,h=n.showPages,O=n.count,x=n.cachedFilters,p=!(1===j),f=!(j===b);return Object(T.jsxs)(qn.a,{children:[Object(T.jsx)(En.a,{active:d,inverted:!0,page:!0,style:{marginTop:"52.63px"},children:Object(T.jsx)(V.a,{size:"large",children:"Loading"})}),Object(T.jsxs)(q.a,{secondary:!0,children:[Object(T.jsx)(A.a,{name:"exclamation triangle",color:"blue"}),"Prices from this table are updated weekly and are subject to fluctuations. Consult 'New Sale' or 'Manage Inventory' for up-to-date values"]}),Object(T.jsx)(Mn,{doSubmit:i}),!!s.length&&Object(T.jsxs)(Gt.a,{celled:!0,striped:!0,compact:!0,children:[Object(T.jsx)(Gt.a.Header,{children:Object(T.jsx)(Gt.a.Row,{children:Object(T.jsxs)(Gt.a.HeaderCell,{colSpan:"5",children:[Object(T.jsx)(An.a,{floated:!0,children:Object(T.jsxs)(An.a.Item,{children:["Viewing page ",j," of ",b]})}),Object(T.jsxs)(An.a,{floated:"right",children:[p&&Object(T.jsx)(An.a.Item,{as:"a",icon:!0,onClick:function(){return i(x,j-1)},children:Object(T.jsx)(A.a,{name:"chevron left"})}),Object(T.jsx)(c.a.Fragment,{children:h.map((function(e){return Object(T.jsx)(An.a.Item,{onClick:function(){return i(x,e)},active:j===e,disabled:j===e,as:"a",children:e},"page-".concat(e))}))}),f&&Object(T.jsx)(An.a.Item,{as:"a",icon:!0,onClick:function(){return i(x,j+1)},children:Object(T.jsx)(A.a,{name:"chevron right"})})]})]})})}),Object(T.jsx)(Gt.a.Header,{children:Object(T.jsxs)(Gt.a.Row,{children:[Object(T.jsx)(Gt.a.HeaderCell,{children:"Name"}),Object(T.jsx)(Gt.a.HeaderCell,{children:"Edition"}),Object(T.jsx)(Gt.a.HeaderCell,{children:"Condition"}),Object(T.jsx)(Gt.a.HeaderCell,{children:"Qty"}),Object(T.jsx)(Gt.a.HeaderCell,{children:"Price"})]})}),Object(T.jsx)(Gt.a.Body,{children:s.map((function(e){return Object(T.jsx)(Hn,{card:e},"".concat(e._id,"-").concat(e.finishCondition))}))}),Object(T.jsx)(Gt.a.Footer,{children:Object(T.jsx)(Gt.a.Row,{children:Object(T.jsxs)(Gt.a.HeaderCell,{colSpan:"5",children:[Object(T.jsx)(An.a,{floated:!0,children:Object(T.jsxs)(An.a.Item,{children:["Total results: ",O]})}),Object(T.jsxs)(An.a,{floated:"right",children:[p&&Object(T.jsx)(An.a.Item,{as:"a",icon:!0,onClick:function(){return i(x,j-1)},children:Object(T.jsx)(A.a,{name:"chevron left"})}),Object(T.jsx)(c.a.Fragment,{children:h.map((function(e){return Object(T.jsx)(An.a.Item,{onClick:function(){return i(x,e)},active:j===e,disabled:j===e,as:"a",children:e},"page-".concat(e))}))}),f&&Object(T.jsx)(An.a.Item,{as:"a",icon:!0,onClick:function(){return i(x,j+1)},children:Object(T.jsx)(A.a,{name:"chevron right"})})]})]})})})]}),!s.length&&Object(T.jsx)(q.a,{placeholder:!0,children:Object(T.jsxs)(E.a,{icon:!0,children:[Object(T.jsx)(A.a,{name:"search"}),n.searchTouched?"No results found":"Use the filters to browse inventory"]})})]})},Gn=G.a.div(gn||(gn=Object(je.a)(["\n    margin-top: 15px;\n    display: flex;\n    justify-content: center;\n"]))),Wn=Object(G.a)(q.a)(yn||(yn=Object(je.a)(["\n    width: 400px;\n    padding: 25px 25px 25px 25px !important;\n"]))),Qn={username:"",password:"",location:null},Un=[{key:"beaverton",text:"Beaverton",value:"ch1"},{key:"hillsboro",text:"Hillsboro",value:"ch2"}],Yn=function(e){var t=e.username,n=e.password,r=e.location,c={};return t||(c.username="Required"),n||(c.password="Required"),r||(c.location="Please select a location"),c},Jn=function(){var e=B(),t=e.loggedIn,n=e.handleLogin,r=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,c,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.username,c=t.password,a=t.location){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n(r,c,a);case 5:(i=e.sent).token?xe({color:"green",header:"Success",message:"Enjoy your time here!"}):xe({color:"red",header:"Error",message:i});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=Object(de.a)({initialValues:Qn,validate:Yn,onSubmit:r,validateOnChange:!1}),a=c.handleChange,i=c.handleSubmit,s=c.setFieldValue,u=c.errors,d=c.isSubmitting;return t?Object(T.jsx)(D.a,{to:"/manage-inventory"}):Object(T.jsx)(Gn,{children:Object(T.jsx)(Wn,{raised:!0,loading:d,children:Object(T.jsxs)(ae.a,{children:[Object(T.jsxs)(ae.a.Field,{children:[Object(T.jsx)("label",{children:"Username"}),Object(T.jsx)(ae.a.Input,{error:u.username,onChange:a,name:"username"})]}),Object(T.jsxs)(ae.a.Field,{children:[Object(T.jsx)("label",{children:"Password"}),Object(T.jsx)(ae.a.Input,{error:u.password,type:"password",onChange:a,name:"password"})]}),Object(T.jsx)(jt,{error:u.location,label:"Location",name:"location",placeholder:"Select location",options:Un,onChange:function(e){s("location",e)}}),Object(T.jsx)(oe.a,{primary:!0,fluid:!0,type:"submit",onClick:function(){return i()},children:"Submit"})]})})})},$n=function(){return(0,B().handleLogout)(),Object(T.jsx)(D.a,{to:"/login"})},Kn=n(240),Zn=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,c,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cards,r=t.customerName,c=t.customerContact,e.prev=1,e.next=4,j.a.post(m,{cards:n,customerName:r,customerContact:c},{headers:I()});case 4:return a=e.sent,i=a.data,e.abrupt("return",i);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();!function(e){e.Cash="CASH",e.Credit="CREDIT"}(Cn||(Cn={}));var Xn={CASH:Cn.Cash,CREDIT:Cn.Credit},er={searchResults:[],receivingList:[],handleSearchSelect:function(){return null},addToList:function(){return null},removeFromList:function(){return null},activeTradeType:function(){return null},selectAll:function(){return null},commitToInventory:function(){return null},resetSearchResults:function(){return null}},tr=Object(r.createContext)(er),nr=function(e){var t=e.children,n=Object(r.useState)([]),c=Object(u.a)(n,2),a=c[0],i=c[1],s=Object(r.useState)([]),d=Object(u.a)(s,2),j=d[0],b=d[1],h=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te({cardName:t,inStockOnly:!1});case 2:n=e.sent,i(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=j.map((function(e){return{quantity:1,id:e.id,name:e.name,set_name:e.set_name,finishCondition:e.finishCondition,set:e.set,creditPrice:e.creditPrice,cashPrice:e.cashPrice,marketPrice:e.marketPrice,tradeType:e.tradeType}})),e.next=4,Zn({cards:r,customerName:t,customerContact:n});case 4:i([]),b([]),xe({color:"green",header:"".concat(j.length," cards were added to inventory!"),duration:2e3}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),xe({color:"red",header:"Error",message:e.t0.response.data||"Error receiving cards",duration:2e3});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(T.jsx)(tr.Provider,{value:{searchResults:a,receivingList:j,handleSearchSelect:h,addToList:function(e,t,n){var r=n.cashPrice,c=n.marketPrice,a=n.creditPrice,i=n.finishCondition,s=Object($.a)(j),o=Object($.a)(new Array(e)).map((function(){return Object(rt.a)(Object(rt.a)({},t),{},{cashPrice:r,marketPrice:c,creditPrice:a,finishCondition:i,tradeType:0===a?Cn.Cash:Cn.Credit,uuid_key:Object(Kn.v4)()})}));b(Object($e.sortBy)([].concat(Object($.a)(s),Object($.a)(o)),"name"))},removeFromList:function(e){var t=Object($.a)(j);b(t.filter((function(t){return t.uuid_key!==e})))},activeTradeType:function(e,t){b(Object($.a)(j).map((function(n){return n.uuid_key===e&&(n.tradeType=Xn[t]),n})))},selectAll:function(e){var t=Xn.CASH,n=Xn.CREDIT,r=Object($.a)(j).map((function(r){return(e===t&&null!==r.cashPrice&&r.cashPrice>0||e===n&&null!==r.creditPrice&&r.creditPrice>0)&&(r.tradeType=e),r}));b(r)},commitToInventory:O,resetSearchResults:function(){return i([])}},children:t})},rr=function(e){var t=e.quantity,n=e.cashPrice,r=e.creditPrice,c=e.marketPrice,a=e.selectedFinish,i=e.selectedCondition,s={};return t||(s.quantity="error"),n||r||(s.cashPrice="error",s.creditPrice="error"),n&&(c||(s.marketPrice="error")),a||(s.selectedFinish="error"),i||(s.selectedCondition="error"),s},cr=function(e){var t=e.card,n={quantity:1,cashPrice:0,creditPrice:0,marketPrice:0,selectedCondition:"NM",selectedFinish:ye(t.nonfoil,t.foil).selectedFinish},c=ye(t.nonfoil,t.foil).finishDisabled,a=Object(r.useContext)(tr).addToList,i=function(e){return e.target.select()},s=Object(de.a)({initialValues:n,validate:rr,onSubmit:function(e,n){var r=n.resetForm;!function(e){var n=e.quantity,r=e.cashPrice,c=e.creditPrice,i=e.marketPrice,s=e.selectedFinish,o=e.selectedCondition;if(!n)throw new Error("Quantity is missing");a(n,t,{cashPrice:r||0,marketPrice:i||0,creditPrice:c||0,finishCondition:"".concat(s,"_").concat(o)}),xe({color:"green",header:"".concat(n,"x ").concat(t.name," added to buylist!"),duration:2e3}),ue()("#searchBar").focus().select()}(e),r()},validateOnMount:!0}),o=s.handleSubmit,l=s.setFieldValue,u=s.values,d=s.isValid,j=s.handleChange,b=t.cardImage;return Object(T.jsx)(Ae.a,{variant:"outlined",children:Object(T.jsx)(ze.a,{p:2,children:Object(T.jsx)(ce.a.Group,{divided:!0,children:Object(T.jsxs)(ce.a,{children:[Object(T.jsx)(ce.a.Image,{size:"small",children:Object(T.jsx)(me,{image:b})}),Object(T.jsxs)(ce.a.Content,{children:[Object(T.jsx)(qe,{card:t,selectedFinish:u.selectedFinish,showMid:!0}),Object(T.jsx)(ce.a.Description,{children:Object(T.jsxs)(ae.a,{children:[Object(T.jsxs)(ae.a.Group,{widths:"equal",children:[Object(T.jsx)(ae.a.Field,{fluid:!0,control:ie.a,type:"number",label:"Quantity",value:u.quantity,onChange:function(e,t){var n=t.value,r=parseInt(n);l("quantity",Math.min(r<0?0:r,50))},onFocus:function(e){return e.target.select()}}),Object(T.jsx)(ae.a.Field,{fluid:!0,label:"Credit Price",name:"creditPrice",control:ie.a,type:"number",value:u.creditPrice,onChange:j,onFocus:i,step:"0.25"}),Object(T.jsx)(ae.a.Field,{fluid:!0,label:"Cash Price",name:"cashPrice",control:ie.a,type:"number",value:u.cashPrice,onChange:j,onFocus:i,step:"0.25"}),Object(T.jsx)(ae.a.Field,{fluid:!0,label:"Market Price",name:"marketPrice",control:ie.a,type:"number",value:u.marketPrice,onChange:j,onFocus:i,step:"0.25",disabled:!u.cashPrice})]}),Object(T.jsxs)(ae.a.Group,{widths:"equal",children:[Object(T.jsx)(jt,{label:"Finish",name:"selectedFinish",options:ve,defaultValue:n.selectedFinish,onChange:function(e){l("selectedFinish",e)},disabled:c}),Object(T.jsx)(jt,{label:"Condition",name:"selectedCondition",options:ge,defaultValue:n.selectedCondition,onChange:function(e){l("selectedCondition",e)}}),Object(T.jsx)(ae.a.Button,{type:"submit",label:"Add to List?",control:oe.a,primary:!0,disabled:!d,onClick:function(){return o()},children:"Add"})]})]})})]})]})})})})},ar="CASH",ir="CREDIT",sr=function(e){var t=e.card,n=t.display_name,c=t.set,a=t.rarity,i=t.cashPrice,s=t.creditPrice,o=t.finishCondition,l=t.uuid_key,d=t.tradeType,j=t.cardImage,b=ar,h=ir,O=Object(r.useState)(!1),x=Object(u.a)(O,2),p=x[0],f=x[1],m=Object(r.useContext)(tr),v=m.removeFromList,g=m.activeTradeType;return Object(T.jsx)(q.a,{children:Object(T.jsxs)(Ot.a,{verticalAlign:"middle",children:[Object(T.jsxs)(Ot.a.Column,{tablet:16,computer:11,children:[Object(T.jsx)("div",{children:Object(T.jsx)(yt,{cardImage:j,children:Object(T.jsx)(E.a,{as:"h4",style:{cursor:"help"},children:n})})}),Object(T.jsx)(De,{set:c,rarity:a}),Object(T.jsx)(z.a,{color:"grey",children:c.toUpperCase()}),o&&Object(T.jsxs)("span",{children:[o.split("_")[1]," "," | ",o.split("_")[0]]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("span",{style:{whiteSpace:"nowrap"},children:["Cash:"," ",Object(T.jsx)("b",{children:Object(T.jsx)(ft,{num:i||0})})]})," \u2022 ",Object(T.jsxs)("span",{style:{whiteSpace:"nowrap"},children:["Credit:"," ",Object(T.jsx)("b",{children:Object(T.jsx)(ft,{num:s||0})})]})]})]}),Object(T.jsxs)(Ot.a.Column,{tablet:16,computer:5,textAlign:"right",children:[Object(T.jsx)(oe.a,{compact:!0,active:d===b,color:d===b?"blue":void 0,onClick:function(){return g(l,Cn.Cash)},disabled:0===i,icon:!0,children:Object(T.jsx)(A.a,{name:"dollar sign"})}),Object(T.jsx)(oe.a,{compact:!0,active:d===h,color:d===h?"blue":void 0,onClick:function(){return g(l,Cn.Credit)},disabled:0===s,icon:!0,children:Object(T.jsx)(A.a,{name:"credit card outline"})}),Object(T.jsx)(oe.a,{compact:!0,icon:"cancel",circular:!0,onClick:function(){return v(l)},onMouseOver:function(){return f(!0)},onMouseOut:function(){return f(!1)},color:p?"red":void 0})]})]})})},or=n(382),lr=function(e){var t=e.receivingList,n=Ke.a.chain(t).filter((function(e){return"CASH"===e.tradeType})).map((function(e){return Object(rt.a)(Object(rt.a)({},e),{},{temp_uuid:"".concat(e.id,"-").concat(e.cashPrice,"-").concat(e.marketPrice,"-").concat(e.finishCondition)})})).groupBy("temp_uuid").mapValues((function(e){return e.length})).value(),r=Ke.a.chain(t).filter((function(e){return"CASH"===e.tradeType})).map((function(e){return Object(rt.a)(Object(rt.a)({},e),{},{temp_uuid:"".concat(e.id,"-").concat(e.cashPrice,"-").concat(e.marketPrice,"-").concat(e.finishCondition)})})).uniqBy("temp_uuid").value().map((function(e){return Object(rt.a)(Object(rt.a)({},e),{},{tradeQty:n[e.temp_uuid]})})),a=Ke.a.chain(t).filter((function(e){return"CASH"===e.tradeType})).sumBy((function(e){return e.cashPrice||0})).value();return Object(T.jsx)(c.a.Fragment,{children:Object(T.jsx)("div",{id:"cash-report",children:Object(T.jsxs)(Gt.a,{celled:!0,children:[Object(T.jsxs)(Gt.a.Header,{children:[Object(T.jsx)(Gt.a.Row,{children:Object(T.jsx)(Gt.a.HeaderCell,{colSpan:6,children:"Employee Name:"})}),Object(T.jsxs)(Gt.a.Row,{children:[Object(T.jsx)(Gt.a.HeaderCell,{children:"Card Name"}),Object(T.jsx)(Gt.a.HeaderCell,{children:"Market Value"}),Object(T.jsx)(Gt.a.HeaderCell,{children:"Condition"}),Object(T.jsx)(Gt.a.HeaderCell,{children:"Quantity"}),Object(T.jsx)(Gt.a.HeaderCell,{children:"Cash Offer"}),Object(T.jsx)(Gt.a.HeaderCell,{children:"Cash Out"})]})]}),Object(T.jsx)(Gt.a.Body,{children:r.map((function(e){return Object(T.jsxs)(Gt.a.Row,{children:[Object(T.jsx)(Gt.a.Cell,{children:e.name}),Object(T.jsx)(Gt.a.Cell,{children:Object(T.jsx)(ft,{num:e.marketPrice})}),Object(T.jsx)(Gt.a.Cell,{children:e.finishCondition}),Object(T.jsx)(Gt.a.Cell,{children:e.tradeQty}),Object(T.jsx)(Gt.a.Cell,{children:Object(T.jsx)(ft,{num:e.cashPrice})}),Object(T.jsx)(Gt.a.Cell,{children:Object(T.jsx)(ft,{num:e.tradeQty*(e.cashPrice||0)})})]},e.temp_uuid)}))}),Object(T.jsx)(Gt.a.Footer,{children:Object(T.jsxs)(Gt.a.HeaderCell,{colSpan:6,children:["Total: ",Object(T.jsx)(ft,{num:a})]})})]})})})};var ur,dr,jr,br,hr,Or,xr,pr,fr,mr,vr,gr,yr=n(380),Cr={customerName:"",customerContact:""},wr=function(e){var t=e.customerName,n=e.customerContact,r={};return t||(r.customerName="Required"),t.length<3&&(r.customerName="Min 3 characters"),t.length>50&&(r.customerName="Max 50 characters"),n.length>50&&(r.customerContact="Max 50 characters"),r},kr=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),i=Object(u.a)(a,2),s=i[0],d=i[1],j=Object(r.useContext)(tr),b=j.receivingList,h=j.commitToInventory,O=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.customerName,r=t.customerContact,c(!0),e.next=4,h(n,r||null);case 4:c(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=Object(de.a)({initialValues:Cr,validate:wr,onSubmit:O}),p=x.handleChange,f=x.handleSubmit,m=x.errors,v=wt(b.filter((function(e){return e.tradeType===Cn.Cash})).map((function(e){return e.cashPrice||0}))),g=wt(b.filter((function(e){return e.tradeType===Cn.Credit})).map((function(e){return e.creditPrice||0})));return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(oe.a,{color:"blue",disabled:0===b.length,onClick:function(){return d(!0)},children:"Commit to inventory"}),d&&Object(T.jsxs)(It.a,{closeOnDimmerClick:!1,open:s,onClose:function(){return d(!1)},children:[Object(T.jsx)(It.a.Header,{children:"Receiving confirmation"}),Object(T.jsxs)(It.a.Content,{scrolling:!0,children:[Object(T.jsx)(E.a,{as:"h5",children:"Committing the following cards to inventory:"}),Object(T.jsx)(yr.a,{children:b.map((function(e){return Object(T.jsx)(yr.a.Item,{children:"\u25cf ".concat(e.name," | ").concat(e.set_name," (\n                                        ").concat(e.set.toUpperCase(),")")},e.uuid_key)}))}),Object(T.jsx)(E.a,{as:"h5",children:"The customer is owed:"}),Object(T.jsxs)(yr.a,{children:[v>0?Object(T.jsxs)(yr.a.Item,{children:["\u25cf ",Object(T.jsx)(ft,{num:v})," in cold, hard cash"]}):null,g>0?Object(T.jsxs)(yr.a.Item,{children:["\u25cf ",Object(T.jsx)(ft,{num:g})," in store credit"]}):null]})]}),Object(T.jsx)(It.a.Content,{children:Object(T.jsx)(ae.a,{children:Object(T.jsxs)(ae.a.Group,{widths:"equal",children:[Object(T.jsxs)(ae.a.Field,{children:[Object(T.jsx)("label",{children:"Customer name"}),Object(T.jsx)(ae.a.Input,{onChange:p,name:"customerName",error:m.customerName})]}),Object(T.jsxs)(ae.a.Field,{children:[Object(T.jsx)("label",{children:"Customer contact (optional)"}),Object(T.jsx)(ae.a.Input,{onChange:p,name:"customerContact",error:m.customerContact})]})]})})}),Object(T.jsxs)(It.a.Actions,{children:[Object(T.jsx)(oe.a,{onClick:function(){return d(!1)},children:"Cancel"}),Object(T.jsx)(oe.a,{color:"blue",type:"submit",loading:n,disabled:n,onClick:function(){return f()},children:"Submit"})]})]})]})},Sr=G.a.div(ur||(ur=Object(je.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n"]))),Fr=G.a.div(dr||(dr=Object(je.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n    min-height: 100px;\n"]))),_r=Object(G.a)(or.a.Label)(jr||(jr=Object(je.a)(["\n    color: gray !important;\n"]))),Lr=function(){var e=Cn.Cash,t=Cn.Credit,n=Object(r.useState)(!1),c=Object(u.a)(n,2),a=c[0],i=c[1],s=Object(r.useContext)(tr),o=s.receivingList,l=s.selectAll,d=wt(o.filter((function(t){return t.tradeType===e})).map((function(e){return e.cashPrice||0}))),j=wt(o.filter((function(e){return e.tradeType===t})).map((function(e){return e.creditPrice||0})));return Object(T.jsx)(q.a,{children:Object(T.jsxs)(Sr,{children:[Object(T.jsxs)(Fr,{children:[Object(T.jsxs)(oe.a.Group,{children:[Object(T.jsx)(oe.a,{id:"select-all-cash",onClick:function(){return l(Cn.Cash)},children:"Select all cash"}),Object(T.jsx)(oe.a.Or,{}),Object(T.jsx)(oe.a,{id:"select-all-credit",onClick:function(){return l(Cn.Credit)},children:"Select all credit"})]}),Object(T.jsxs)(It.a,{open:a,trigger:Object(T.jsx)(oe.a,{color:d>0?"green":void 0,disabled:0===d,onClick:function(){return i(!0)},children:"Generate cash report"}),children:[Object(T.jsx)(It.a.Content,{children:Object(T.jsx)(lr,{receivingList:o})}),Object(T.jsxs)(It.a.Actions,{children:[Object(T.jsx)(oe.a,{onClick:function(){i(!1),function(){var e=document.getElementById("cash-report"),t=window.open("","_blank");t&&(t.document.open(),t.document.write("<html>"),t.document.write("<head>"),t.document.write("<title>Cash Report</title>"),t.document.write("<style>".concat("\n    body {\n        font-family: 'helvetica neue', helvetica, arial, sans-serif;\n    }\n\n    table {\n        table-layout: fixed;\n        width: 100%;\n        border-collapse: collapse;\n        border: 1px solid gray;\n        text-align: left;\n    }\n\n    thead th:nth-child(1) {\n        width: 30%;\n    }\n\n    thead th:nth-child(2) {\n        width: 20%;\n    }\n\n    thead th:nth-child(3) {\n        width: 15%;\n    }\n\n    thead th:nth-child(4) {\n        width: 35%;\n    }\n\n    th, td {\n        border: 1px solid #ddd;\n        padding: 10px;\n    }\n\n    tfoot {\n        text-align: right !important;\n    }\n","</style>")),t.document.write("</head>"),t.document.write('<body onload="window.print()">'),t.document.write("".concat(e.innerHTML)),t.document.write("</body>"),t.document.write("</html>"),t.document.close())}()},color:"blue",children:"Print Report"}),Object(T.jsx)(oe.a,{onClick:function(){return i(!1)},children:"Cancel"})]})]})]}),Object(T.jsx)(Fr,{children:Object(T.jsxs)(q.a,{children:[Object(T.jsxs)("div",{children:[Object(T.jsxs)(or.a,{size:"mini",children:[Object(T.jsx)(_r,{children:"Cash Due"}),Object(T.jsx)(or.a.Value,{id:"cash-total",children:Object(T.jsx)(ft,{num:d})})]}),Object(T.jsxs)(or.a,{size:"mini",children:[Object(T.jsx)(_r,{children:"Credit Due"}),Object(T.jsx)(or.a.Value,{id:"credit-total",children:Object(T.jsx)(ft,{num:j})})]})]}),Object(T.jsx)(kr,{})]})})]})})},Ir=function(e){var t=e.cards;return Object(T.jsxs)(T.Fragment,{children:[t.length>0&&Object(T.jsx)(q.a.Group,{children:t.map((function(e){return Object(T.jsx)(sr,{card:e})}))}),t.length>0&&Object(T.jsx)(Lr,{})]})},Nr=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),i=Object(u.a)(a,2),s=i[0],d=i[1],j=Object(r.useContext)(tr),b=j.searchResults,h=j.receivingList,O=j.handleSearchSelect,x=j.resetSearchResults;return Object(r.useEffect)((function(){return function(){return x()}}),[]),Object(r.useEffect)((function(){n&&Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,O(n);case 3:d(!1);case 4:case"end":return e.stop()}}),e)})))()}),[n]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Xe,{value:n,onChange:function(e){return c(e)}}),Object(T.jsx)("br",{}),Object(T.jsxs)(We.a,{container:!0,spacing:2,children:[Object(T.jsxs)(We.a,{item:!0,xs:12,lg:8,children:[Object(T.jsxs)(We.a,{container:!0,justify:"space-between",children:[Object(T.jsx)(Ue,{children:"Card Search"}),b.length>0&&Object(T.jsx)(J,{searchResults:b,title:b[0].name})]}),Object(T.jsx)(H.a,{}),!s&&!b.length&&Object(T.jsx)(q.a,{placeholder:!0,children:Object(T.jsxs)(E.a,{icon:!0,children:[Object(T.jsx)(A.a,{name:"search"}),Object(T.jsx)("em",{children:'"So many cards, so little time."'})]})}),s?Object(T.jsx)(tt,{}):Object(T.jsx)(We.a,{container:!0,spacing:2,children:b.map((function(e){return Object(T.jsx)(We.a,{item:!0,xs:12,children:Object(T.jsx)(cr,{card:e})},e.id)}))})]}),Object(T.jsxs)(We.a,{item:!0,xs:12,lg:4,children:[Object(T.jsxs)(We.a,{container:!0,justify:"space-between",children:[Object(T.jsx)(Ue,{children:"Buylist"}),Object(T.jsx)(zt,{listLength:h.length})]}),Object(T.jsx)(H.a,{}),!h.length&&Object(T.jsx)(q.a,{placeholder:!0,children:Object(T.jsxs)(E.a,{icon:!0,children:[Object(T.jsx)(A.a,{name:"search"}),Object(T.jsx)("em",{children:'"If you receive it, they will come."'})]})}),Object(T.jsx)(Ir,{cards:h})]})]})]})},Pr=function(e){var t=e.children,n=B(),r=n.currentUser,c=n.currentLocation;return r&&c?Object(T.jsx)(T.Fragment,{children:t}):Object(T.jsx)(D.a,{to:"/"})},Tr=function(e){var t=e.children,n=Object(dt.a)(e,["children"]);return Object(T.jsx)(D.b,Object(rt.a)(Object(rt.a)({},n),{},{children:Object(T.jsx)(Pr,{children:t})}))},Rr=n(18),Br=n(37),Mr=n.p+"static/media/clubhouse_products.e622049f.png",Dr=n.p+"static/media/tables.451be904.jpg",Hr=n.p+"static/media/learn_to_play.91a17850.jpg",qr=n.p+"static/media/ch2.f55f010a.jpg",Er="#ffffff",Ar={light:"#99aab5",main:"#2c2f33",dark:"#23272a"},zr="13, 49, 69,",Vr="@media only screen and (min-width: 769px)",Gr="@media only screen and (max-width: 768px)",Wr=Object(G.a)("div")({width:"100%",height:500}),Qr=Object(G.a)("div")({marginTop:52}),Ur=G.a.div(br||(br=Object(je.a)(["\n    background: url(",");\n    background-size: cover;\n    height: 100%;\n    width: 100%;\n    border-radius: ",";\n"])),(function(e){return e.src}),(function(e){return e.rounded?"".concat(7,"px"):"0px"})),Yr=Object(G.a)("div")({width:"100%",height:350,borderRadius:7}),Jr=Object(G.a)("div")({backgroundImage:"linear-gradient(\n        to top,\n        rgba(".concat(zr," 0.9),\n        rgba(").concat(zr," 0.85),\n        rgba(").concat(zr," 0.70),\n        rgba(").concat(zr," 0.60),\n        rgba(255, 255, 255, 0)\n    )"),height:"100%",width:"100%"}),$r=Object(G.a)("div")({backgroundColor:"rgba(".concat(zr," 0.85)"),height:"100%",width:"100%",borderRadius:7}),Kr=Object(G.a)("h1")((hr={color:Er,textAlign:"center"},Object(Rr.a)(hr,Gr,{fontSize:40}),Object(Rr.a)(hr,Vr,{fontSize:50}),hr)),Zr=G.a.h1(Or||(Or=Object(je.a)(["\n    color: ",";\n"])),(function(e){return e.inverted?Er:Ar.main})),Xr=Object(G.a)("h2")({color:Er,textAlign:"center"}),ec=Object(G.a)("div")({color:Er,fontSize:18}),tc=Object(G.a)("div")({display:"flex",height:"inherit",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:20}),nc=Object(G.a)("div")((xr={display:"grid",gridGap:60},Object(Rr.a)(xr,Gr,{gridTemplateRows:"1fr 1fr 1fr"}),Object(Rr.a)(xr,Vr,{gridTemplateColumns:"1fr 1fr 1fr"}),xr)),rc=Object(G.a)("div")((pr={display:"grid",gridGap:20},Object(Rr.a)(pr,Gr,{gridTemplateRows:"1fr 1fr"}),Object(Rr.a)(pr,Vr,{gridTemplateColumns:"1fr 1fr"}),pr)),cc=Object(G.a)("div")({padding:40,display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",height:"100%"}),ac=Object(G.a)("div")({padding:20}),ic=G.a.div(fr||(fr=Object(je.a)(["\n    color: ",";\n    font-size: 18px;\n"])),(function(e){return e.inverted?Er:Ar.main})),sc=Object(G.a)("div")((mr={},Object(Rr.a)(mr,Gr,{width:"100%"}),Object(Rr.a)(mr,Vr,{width:"50%"}),mr)),oc=Object(G.a)("div")({padding:40,backgroundColor:Ar.main,borderRadius:7,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),lc=Object(G.a)("div")({width:"100%",padding:40}),uc=Object(G.a)("div")((vr={bottom:0,backgroundColor:Ar.dark},Object(Rr.a)(vr,Gr,{padding:20}),Object(Rr.a)(vr,Vr,{paddingLeft:40,paddingBottom:20,paddingRight:40,paddingTop:40}),vr)),dc=G.a.div(gr||(gr=Object(je.a)(["\n    display: flex;\n    justify-content: ",";\n    align-items: center;\n"])),(function(e){return e.justify||"space-between"})),jc=function(){return Object(T.jsxs)(Qr,{style:{backgroundColor:"#f8f5ef"},children:[Object(T.jsx)(Wr,{children:Object(T.jsx)(Ur,{src:Hr,children:Object(T.jsx)(Jr,{children:Object(T.jsxs)(tc,{children:[Object(T.jsx)(Kr,{children:"The Clubhouse is open \ud83c\udf89"}),Object(T.jsx)(sc,{children:Object(T.jsx)(ec,{children:Object(T.jsx)(Xr,{children:"We are open all week for your tabletop gaming needs!"})})}),Object(T.jsx)("br",{}),Object(T.jsx)(Br.b,{to:"/public-inventory",children:Object(T.jsx)(oe.a,{size:"huge",primary:!0,children:"Browse cards"})})]})})})}),Object(T.jsx)(lc,{}),Object(T.jsxs)(ac,{children:[Object(T.jsx)(Zr,{children:"Your local game store."}),Object(T.jsx)(sc,{children:Object(T.jsx)(ic,{children:"We take pride in our friendly community of players, and always ensure that our customers are well served."})})]}),Object(T.jsx)(ac,{children:Object(T.jsxs)(nc,{children:[Object(T.jsxs)("div",{children:[Object(T.jsxs)(oc,{children:[Object(T.jsx)(A.a,{name:"box",size:"huge",inverted:!0}),Object(T.jsx)(Xr,{children:"Large product selection"})]}),Object(T.jsx)("br",{}),Object(T.jsx)(ic,{children:"We stock an extensive selection of singles and CCG supplies just for you! When the deck-building itch strikes, turn to us"})]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)(oc,{children:[Object(T.jsx)(A.a,{name:"users",size:"huge",inverted:!0}),Object(T.jsx)(Xr,{children:"Inclusive community"})]}),Object(T.jsx)("br",{}),Object(T.jsx)(ic,{children:"Young or seasoned, beginner or advanced, we welcome all players!"})]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)(oc,{children:[Object(T.jsx)(A.a,{name:"dollar sign",size:"huge",inverted:!0}),Object(T.jsx)(Xr,{children:"Cash or credit trade-ins"})]}),Object(T.jsx)("br",{}),Object(T.jsx)(ic,{children:"Whether a whole collection or a single card, come on by and have one of our expert managers appraise it using competitive market rates"})]})]})}),Object(T.jsx)(lc,{}),Object(T.jsxs)(ac,{children:[Object(T.jsx)(Zr,{children:"Two convenient locations"}),Object(T.jsxs)(rc,{children:[Object(T.jsx)(Yr,{children:Object(T.jsx)(Ur,{src:Dr,rounded:!0,children:Object(T.jsx)($r,{children:Object(T.jsxs)(cc,{children:[Object(T.jsx)(Zr,{inverted:!0,children:"Beaverton"}),Object(T.jsx)(lc,{}),Object(T.jsxs)("div",{children:[Object(T.jsxs)(ic,{inverted:!0,children:[Object(T.jsx)(A.a,{name:"map marker alternate",size:"large",inverted:!0}),"13895 SW Farmington Rd, Beaverton, OR 97005"]}),Object(T.jsx)("br",{}),Object(T.jsxs)(ic,{inverted:!0,children:[Object(T.jsx)(A.a,{name:"clock",size:"large",inverted:!0}),"Mon - Fri 12pm to 7pm, Sat - Sun 11am to 7pm"]}),Object(T.jsx)("br",{}),Object(T.jsxs)(ic,{inverted:!0,children:[Object(T.jsx)(A.a,{name:"phone",size:"large",inverted:!0}),"(503) 268-1449"]})]})]})})})}),Object(T.jsx)(Yr,{children:Object(T.jsx)(Ur,{src:qr,rounded:!0,children:Object(T.jsx)($r,{children:Object(T.jsxs)(cc,{children:[Object(T.jsx)(Zr,{inverted:!0,children:"Hillsboro"}),Object(T.jsx)(lc,{}),Object(T.jsxs)("div",{children:[Object(T.jsxs)(ic,{inverted:!0,children:[Object(T.jsx)(A.a,{name:"map marker alternate",size:"large",inverted:!0}),"1300 SW Oak St Suite B, Hillsboro, OR 97123"]}),Object(T.jsx)("br",{}),Object(T.jsxs)(ic,{inverted:!0,children:[Object(T.jsx)(A.a,{name:"clock",size:"large",inverted:!0}),"Mon - Fri 12pm to 7pm, Sat - Sun 11am to 7pm"]}),Object(T.jsx)("br",{}),Object(T.jsxs)(ic,{inverted:!0,children:[Object(T.jsx)(A.a,{name:"phone",size:"large",inverted:!0}),"(971) 249-3096"]})]})]})})})})]})]}),Object(T.jsx)(lc,{}),Object(T.jsx)(Yr,{children:Object(T.jsx)(Ur,{src:Mr,children:Object(T.jsx)(Jr,{children:Object(T.jsxs)(tc,{children:[Object(T.jsx)(Kr,{children:"We look forward to seeing you"}),Object(T.jsx)(sc,{children:Object(T.jsx)(ec,{children:"Follow us on Facebook or become a member of our Discord community for up-to-date announcements on store events, product releases, pre-orders, and so much more!"})})]})})})}),Object(T.jsxs)(uc,{children:[Object(T.jsxs)(dc,{children:[Object(T.jsx)(ic,{inverted:!0,children:"\xa9 2021 The Clubhouse"}),Object(T.jsxs)("div",{children:[Object(T.jsx)("a",{href:"https://discord.gg/Wpej7dQ",target:"_blank",rel:"noopener noreferrer",children:Object(T.jsx)(A.a,{link:!0,name:"discord",size:"huge",inverted:!0})}),Object(T.jsx)("a",{href:"https://www.facebook.com/RGTClubhouse/",target:"_blank",rel:"noopener noreferrer",children:Object(T.jsx)(A.a,{link:!0,name:"facebook",size:"huge",inverted:!0})})]})]}),Object(T.jsx)(dc,{justify:"center",children:Object(T.jsx)(Br.b,{to:"/login",children:Object(T.jsx)(oe.a,{size:"tiny",color:"black",children:"Staff login"})})})]})]})},bc=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,c,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cardName,r=t.startDate,c=t.endDate,e.prev=1,e.next=4,j.a.get(k,{params:{cardName:n,startDate:r,endDate:c},headers:I()});case 4:return a=e.sent,i=a.data,e.abrupt("return",i);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),hc=n(363),Oc=n(364),xc=n(365),pc=n(355),fc=n(356),mc=n(357),vc=n(358),gc=n(359),yc=n(360),Cc=n(361),wc=n(362),kc=Object(mt.a)({meta:{"& > *:not(:last-of-type):after":{content:'" \u2022 "'}}}),Sc=function(e){var t=e.children,n=kc().meta;return Object(T.jsx)("span",{className:n,children:t})},Fc=function(e){return e||"\u2014"},_c=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(k,"/").concat(t),{headers:I()});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Lc=function(e){var t=e.receivedId,n=e.onClose,c=Object(r.useState)(!1),a=Object(u.a)(c,2),i=a[0],s=a[1],d=Object(r.useState)(null),j=Object(u.a)(d,2),b=j[0],h=j[1];if(Object(r.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,_c(t);case 4:n=e.sent,h(n),s(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[]),!b||i)return Object(T.jsxs)(pc.a,{open:!0,onClose:n,maxWidth:"md",fullWidth:!0,children:[Object(T.jsx)(fc.a,{children:"Received cards"}),Object(T.jsx)(mc.a,{children:Object(T.jsx)(tt,{})})]});var O,x=b.received_cards,p=b.created_at,f=b.created_by,m=b.customer_name,v=b.customer_contact;return Object(T.jsxs)(pc.a,{open:!0,onClose:n,maxWidth:"md",fullWidth:!0,children:[Object(T.jsxs)(fc.a,{children:["Received cards",Object(T.jsx)(Qe.a,{color:"textSecondary",children:Object(T.jsxs)(Sc,{children:[Object(T.jsx)("span",{children:Kt(p)}),Object(T.jsxs)("span",{children:["Received by ",f.username]}),Object(T.jsxs)("span",{children:["Customer: ",Fc(m)]}),Object(T.jsxs)("span",{children:["Customer contact: ",Fc(v)]})]})})]}),Object(T.jsx)(mc.a,{children:Object(T.jsx)(vc.a,{children:(O=x,Object($.a)(O).sort((function(e,t){return e.bulk_card_data.name.localeCompare(t.bulk_card_data.name)}))).map((function(e){var t,n=e.finishCondition,r=e.tradeType,c=e.creditPrice,a=e.cashPrice,i=e.marketPrice,s=new ee(e.bulk_card_data),o=s.name,l=s.cardImage,u=s.set,d=s.set_name,j=s.rarity;return Object(T.jsx)(gc.a,{children:Object(T.jsx)(yc.a,{primary:Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(yt,{cardImage:l,children:Object(T.jsxs)("span",{style:{cursor:"help"},children:[o," "]})}),Object(T.jsx)(De,{set:u,rarity:j}),Object(T.jsxs)("span",{children:["(",d,")"]})]}),secondary:Object(T.jsxs)(Sc,{children:[Object(T.jsx)("span",{children:we(n)}),Object(T.jsx)("span",{children:(t=r,t===Cn.Credit?"Credit":t===Cn.Cash?"Cash":void 0)}),r===Cn.Credit&&Object(T.jsxs)("span",{children:["Credit price:"," ",xt(c)]}),r===Cn.Cash&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("span",{children:["Cash price:"," ",xt(a)]}),Object(T.jsxs)("span",{children:["Market price:"," ",xt(i)]})]})]})})})}))})}),Object(T.jsx)(Cc.a,{children:Object(T.jsx)(wc.a,{onClick:n,variant:"outlined",color:"primary",children:"Dismiss"})})]})},Ic=function(e){var t=e.received,n=Object(r.useState)(!1),c=Object(u.a)(n,2),a=c[0],i=c[1],s=t.received_card_list,o=t.created_at,l=t.created_by,d=t.customer_name,j=Object($e.sum)(s.filter((function(e){return e.tradeType===Cn.Cash})).map((function(e){return e.cashPrice}))),b=Object($e.sum)(s.filter((function(e){return e.tradeType===Cn.Credit})).map((function(e){return e.creditPrice})));return Object(T.jsxs)(T.Fragment,{children:[a&&Object(T.jsx)(Lc,{receivedId:t._id,onClose:function(){return i(!1)}}),Object(T.jsx)(hc.a,{variant:"outlined",children:Object(T.jsx)(Oc.a,{disableRipple:!0,onClick:function(){return i(!0)},children:Object(T.jsx)(xc.a,{children:Object(T.jsxs)(We.a,{container:!0,spacing:2,justify:"space-between",alignItems:"center",children:[Object(T.jsxs)(We.a,{item:!0,children:[Object(T.jsx)(Qe.a,{variant:"h6",children:"".concat(s.length," ").concat(At(s.length,"card"))}),Object(T.jsx)(Qe.a,{color:"textSecondary",children:Object(T.jsxs)(Sc,{children:[Object(T.jsx)("span",{children:Kt(o)}),Object(T.jsxs)("span",{children:["Received by ",l.username]}),Object(T.jsxs)("span",{children:["Customer:"," ",Fc(d)]})]})})]}),Object(T.jsxs)(We.a,{item:!0,children:[Object(T.jsxs)(z.a,{color:j>0?"blue":void 0,image:!0,children:["Cash:",Object(T.jsx)(z.a.Detail,{children:pt(j)})]}),Object(T.jsxs)(z.a,{color:b>0?"blue":void 0,image:!0,children:["Credit:",Object(T.jsx)(z.a.Detail,{children:pt(b)})]})]})]})})})})]})},Nc=function(e){var t=e.label,n=e.name,r=e.defaultValue,c=e.handleChange,a=e.min,i=e.max;return Object(T.jsxs)(ae.a.Field,{children:[Object(T.jsx)("label",{children:t}),Object(T.jsx)(ie.a,{id:n,name:n,type:"date",onChange:c,defaultValue:r,min:a,max:i})]})},Pc={cardName:"",startDate:Qt()().subtract(30,"days").format("YYYY-MM-DD"),endDate:Qt()().format("YYYY-MM-DD")},Tc=function(){return{}},Rc=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),i=Object(u.a)(a,2),s=i[0],d=i[1],j=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cardName,r=t.startDate,a=t.endDate,d(!0),e.next=4,bc({cardName:n||null,startDate:r,endDate:a});case 4:i=e.sent,d(!1),c(i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=Object(de.a)({initialValues:Pc,validate:Tc,onSubmit:j}),h=b.handleChange,O=b.values,x=b.setFieldValue,p=b.handleSubmit;return Object(r.useEffect)((function(){Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(Pc);case 2:case"end":return e.stop()}}),e)})))()}),[]),Object(T.jsxs)("div",{children:[Object(T.jsx)(ze.a,{pb:2,children:Object(T.jsx)(Ue,{children:"Browse Receiving"})}),Object(T.jsx)(Ye,{children:"Filters"}),Object(T.jsx)(ze.a,{pb:2,children:Object(T.jsxs)(ae.a,{children:[Object(T.jsxs)(ae.a.Group,{widths:"6",children:[Object(T.jsx)(mn,{label:"Card name",value:O.cardName,onChange:function(e){return x("cardName",e)}}),Object(T.jsx)(Nc,{label:"Start date",name:"startDate",defaultValue:Pc.startDate,handleChange:h,max:O.endDate}),Object(T.jsx)(Nc,{label:"End date",name:"endDate",defaultValue:Pc.endDate,handleChange:h,max:Pc.endDate})]}),Object(T.jsx)(ae.a.Button,{type:"submit",onClick:function(){return p()},primary:!0,children:"Search"})]})}),s?Object(T.jsx)(tt,{}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Ye,{children:"Results"}),Object(T.jsx)(We.a,{container:!0,direction:"column",spacing:2,children:n.map((function(e){return Object(T.jsx)(We.a,{item:!0,xs:12,md:6,children:Object(T.jsx)(Ic,{received:e})},e._id)}))})]})]})},Bc=n(252),Mc=n(371),Dc=n(368),Hc=n(369),qc=n(370),Ec=n(390),Ac=n(249),zc=n.n(Ac),Vc=n(366),Gc=n(367),Wc=n(241),Qc=n.n(Wc),Uc=n(242),Yc=n.n(Uc),Jc=n(243),$c=n.n(Jc),Kc=n(244),Zc=n.n(Kc),Xc=n(245),ea=n.n(Xc),ta=n(246),na=n.n(ta),ra=n(247),ca=n.n(ra),aa=function(){var e=Object(D.g)().pathname;return Object(T.jsxs)(vc.a,{children:[Object(T.jsxs)(gc.a,{button:!0,component:Br.b,to:"/manage-inventory",selected:"/manage-inventory"===e,replace:!0,children:[Object(T.jsx)(Vc.a,{children:Object(T.jsx)(Qc.a,{color:"primary"})}),"Manage Inventory"]}),Object(T.jsxs)(gc.a,{button:!0,component:Br.b,to:"/new-sale",selected:"/new-sale"===e,replace:!0,children:[Object(T.jsx)(Vc.a,{children:Object(T.jsx)(Yc.a,{color:"primary"})}),"New Sale"]}),Object(T.jsxs)(gc.a,{button:!0,component:Br.b,to:"/receiving",selected:"/receiving"===e,replace:!0,children:[Object(T.jsx)(Vc.a,{children:Object(T.jsx)($c.a,{color:"primary"})}),"Receiving"]}),Object(T.jsx)(Gc.a,{}),Object(T.jsxs)(gc.a,{button:!0,component:Br.b,to:"/browse-inventory",selected:"/browse-inventory"===e,replace:!0,children:[Object(T.jsx)(Vc.a,{children:Object(T.jsx)(Zc.a,{color:"primary"})}),"Browse Inventory"]}),Object(T.jsxs)(gc.a,{button:!0,component:Br.b,to:"/browse-sales",selected:"/browse-sales"===e,replace:!0,children:[Object(T.jsx)(Vc.a,{children:Object(T.jsx)(ea.a,{color:"primary"})}),"Browse Sales"]}),Object(T.jsxs)(gc.a,{button:!0,component:Br.b,to:"/browse-receiving",selected:"/browse-receiving"===e,replace:!0,children:[Object(T.jsx)(Vc.a,{children:Object(T.jsx)(na.a,{color:"primary"})}),"Browse Receiving"]}),Object(T.jsx)(Gc.a,{}),Object(T.jsxs)(gc.a,{button:!0,component:Br.b,to:"/logout",selected:"/logout"===e,replace:!0,children:[Object(T.jsx)(Vc.a,{children:Object(T.jsx)(ca.a,{color:"primary"})}),"Log Out"]})]})},ia=n(250),sa=n.n(ia),oa=n(248),la=Object(mt.a)((function(e){var t=e.spacing,n=e.typography,r=e.palette;return{title:{flexGrow:1},menuLinkText:{fontWeight:n.fontWeightBold,"&:hover":{color:r.common.white}},list:{width:250},menuButton:{marginRight:t(2)}}})),ua=function(){var e,t=B(),n=t.loggedIn,c=t.currentLocation,a=t.currentUser,i=Object(r.useState)(!1),s=Object(u.a)(i,2),o=s[0],l=s[1],d=la(),j=d.title,b=d.list,h=d.menuButton,O=d.menuLinkText;return Object(T.jsx)(Dc.a,{children:Object(T.jsxs)(Hc.a,{children:[n&&Object(T.jsx)(qc.a,{edge:"start",color:"inherit",className:h,onClick:function(){return l(!0)},children:Object(T.jsx)(zc.a,{})}),Object(T.jsx)("div",{className:j,children:Object(T.jsx)(Qe.a,{color:"inherit",className:O,component:Br.b,variant:"h6",to:"/",children:"Clubhouse Collection"})}),Object(T.jsx)(Qe.a,{color:"inherit",className:O,component:Br.b,variant:"button",to:"/public-inventory",children:"Search cards"}),Object(T.jsx)(Ec.a,{anchor:"left",open:o,onClose:function(){return l(!1)},children:Object(T.jsxs)(ze.a,{py:2,display:"flex",flexDirection:"column",justifyContent:"space-between",height:1,children:[Object(T.jsxs)("div",{children:[Object(T.jsxs)(We.a,{container:!0,direction:"row",alignItems:"center",justify:"center",children:[Object(T.jsx)(sa.a,{color:"primary"}),Object(T.jsx)(Qe.a,{color:"primary",variant:"h6",children:(e=c,"ch1"===e?"Beaverton":"ch2"===e?"Hillsboro":"")})]}),Object(T.jsxs)(Qe.a,{color:"textSecondary",align:"center",children:["Logged in as ",a]}),Object(T.jsx)("div",{className:b,onClick:function(){return l(!1)},children:Object(T.jsx)(aa,{})})]}),Object(T.jsxs)(Qe.a,{color:"textSecondary",align:"center",children:["Version ",oa.a]})]})})]})})},da=Object(mt.a)((function(e){var t=e.spacing;return{contentContainer:{paddingTop:t(10),marginLeft:t(3),marginRight:t(3)},backgroundColor:{backgroundColor:"#f9fafb",minHeight:"100vh"}}})),ja=Object(Bc.a)({palette:{primary:{main:"#2185d0"}}}),ba=function(){var e=da(),t=e.backgroundColor,n=e.contentContainer;return Object(T.jsx)(M,{children:Object(T.jsxs)(Mc.a,{theme:ja,children:[Object(T.jsx)(ua,{}),Object(T.jsxs)(D.d,{children:[Object(T.jsx)(D.b,{exact:!0,path:"/",component:jc}),Object(T.jsx)("div",{className:t,children:Object(T.jsxs)("div",{className:n,children:[Object(T.jsx)(Tr,{exact:!0,path:"/manage-inventory",children:Object(T.jsx)(re,{children:Object(T.jsx)(nt,{})})}),Object(T.jsx)(Tr,{exact:!0,path:"/new-sale",children:Object(T.jsx)(ut,{children:Object(T.jsx)(Vt,{})})}),Object(T.jsx)(Tr,{exact:!0,path:"/receiving",children:Object(T.jsx)(nr,{children:Object(T.jsx)(Nr,{})})}),Object(T.jsx)(Tr,{exact:!0,path:"/browse-sales",children:Object(T.jsx)(tn,{})}),Object(T.jsx)(Tr,{exact:!0,path:"/browse-inventory",children:Object(T.jsx)(Vn,{})}),Object(T.jsx)(Tr,{exact:!0,path:"/browse-receiving",children:Object(T.jsx)(Rc,{})}),Object(T.jsx)(D.b,{exact:!0,path:"/public-inventory",component:xn}),Object(T.jsx)(D.b,{exact:!0,path:"/login",component:Jn}),Object(T.jsx)(D.b,{exact:!0,path:"/logout",component:$n})]})})]})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(310),n(311);i.a.render(Object(T.jsx)(Br.a,{basename:"/",children:Object(T.jsx)(ba,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[312,1,2]]]);
//# sourceMappingURL=main.aa7ce3e0.chunk.js.map