(this["webpackJsonpclubhouse-pos-importer"]=this["webpackJsonpclubhouse-pos-importer"]||[]).push([[0],{262:function(e){e.exports=JSON.parse('{"a":"1.12.8"}')},298:function(e,t,n){},329:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(23),i=n.n(c),s=(n(298),n(5)),o=n.n(s),l=n(10),u=n(8),d=n(27),j=function(e,t){var n=Object(r.useState)((function(){try{var n=window.localStorage.getItem(e);if(!n)return t;try{return JSON.parse(n)}catch(r){return t}}catch(a){return console.log(a),t}})),a=Object(u.a)(n,2),c=a[0],i=a[1];return[c,function(t){try{var n=t instanceof Function?t(c):t;i(n),null===n?window.localStorage.removeItem(e):window.localStorage.setItem(e,JSON.stringify(n))}catch(r){console.log(r)}}]},b=n(25),h=n.n(b),O=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ENVIRONMENT,x="development"===O?"_test":"",p=function(){return"development"===O?"http://localhost:7331":"https://clubhouse-collection.appspot.com"},f="".concat(p(),"/auth/finishSale"),m="".concat(p(),"/getCardFromAllLocations"),v="".concat(p(),"/auth/addCardToInventory"),g="".concat(p(),"/auth/receiveCards"),y="".concat(p(),"/auth/getCardsByFilter"),C="".concat(p(),"/auth/getDistinctSetNames"),w="".concat(p(),"/auth/suspendSale"),S="".concat(p(),"/jwt"),k="".concat(p(),"/auth/getSaleByTitle"),I="".concat(p(),"/auth/getReceivedCards"),L=("".concat(p(),"/auth/allSales"),"".concat(p(),"/getCardsWithInfo")),N="".concat(p(),"/auth/getCardsWithInfo"),_="".concat(p(),"/auth/getSalesReport"),F="".concat(p(),"/auth/bulkSearch"),P="".concat(p(),"/autocomplete"),T="https://us-central1-clubhouse-collection.cloudfunctions.net/getPriceFromTcg".concat(x);function R(){var e=localStorage.getItem("clubhouse_JWT");return e?{Authorization:"Bearer ".concat(JSON.parse(e))}:null}var B,E=function(){var e=Object(l.a)(o.a.mark((function e(t,n,r){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post(S,{username:t.toLowerCase(),password:n,currentLocation:r},{headers:R()});case 3:return a=e.sent,c=a.data,e.abrupt("return",c);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),M=n(1),D="clubhouse_JWT",z="currentLocation",q="currentUser",A=a.a.createContext({authToken:null,currentLocation:null,currentUser:null,isLoggedIn:function(){return!1},handleLogout:function(){return null},handleLogin:function(){return new Promise((function(){return null}))}}),H=function(){return Object(r.useContext)(A)},W=function(e){var t=e.children,n=Object(d.h)(),a=j(D,localStorage.getItem(D)),c=Object(u.a)(a,2),i=c[0],s=c[1],b=j(z,localStorage.getItem(z)),h=Object(u.a)(b,2),O=h[0],x=h[1],p=j(q,localStorage.getItem(q)),f=Object(u.a)(p,2),m=f[0],v=f[1];Object(r.useEffect)((function(){var e=function(e){e.key===D&&null===e.newValue&&y()};return window.addEventListener("storage",e),function(){return window.removeEventListener("storage",e)}}),[]);var g=function(){var e=Object(l.a)(o.a.mark((function e(t,n,r){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(t,n,r);case 3:return(a=e.sent).token&&(s(a.token),x(r),v(t)),e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),y=function(){s(null),x(null),v(null),n.push("/login")};return Object(M.jsx)(A.Provider,{value:{authToken:i,currentLocation:O,currentUser:m,handleLogin:g,handleLogout:y,isLoggedIn:function(){return!!i}},children:t})},V=n(153),Q=n(376),G=n(426),U=n(20),Y=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,e.prev=1,e.next=4,h.a.get(m,{params:{title:n}});case 4:return r=e.sent,a=r.data,e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),J=Object(U.a)("div")({display:"inline"}),$=Object(U.a)("div")({display:"flex",alignItems:"center","& > *":{marginLeft:"10px"}}),K=function(e){var t=e.label,n=e.value;return Object(M.jsxs)(V.a,{color:n>0?"blue":void 0,image:!0,children:[t,Object(M.jsx)(V.a.Detail,{children:n})]})},Z=function(e){var t=e.title,n=e.searchResults,a=Object(r.useState)({ch1:{foilQty:0,nonfoilQty:0},ch2:{foilQty:0,nonfoilQty:0}}),c=Object(u.a)(a,2),i=c[0],s=c[1],d=Object(r.useState)(!1),j=Object(u.a)(d,2),b=j[0],h=j[1];return Object(r.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,Y({title:t});case 4:n=e.sent,s(n),h(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[t,n]),b?Object(M.jsxs)($,{children:[Object(M.jsx)("span",{children:"Loading totals for all locations"}),Object(M.jsx)("div",{children:Object(M.jsx)(Q.a,{active:!0,inline:!0,size:"small"})})]}):Object(M.jsxs)($,{children:[Object(M.jsxs)("div",{children:[Object(M.jsx)(G.a,{sub:!0,children:"Beaverton totals:"}),Object(M.jsxs)(J,{children:[Object(M.jsx)(K,{label:"Foil",value:i.ch1.foilQty}),Object(M.jsx)(K,{label:"Nonfoil",value:i.ch1.nonfoilQty})]})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)(G.a,{sub:!0,children:"Hillsboro totals:"}),Object(M.jsxs)(J,{children:[Object(M.jsx)(K,{label:"Foil",value:i.ch2.foilQty}),Object(M.jsx)(K,{label:"Nonfoil",value:i.ch2.nonfoilQty})]})]})]})},X=n(18),ee=n(42),te=function(e){var t=e.name,n=e.frame_effects,r=e.border_color,a=e.lang,c=e.set,i=e.foil,s=e.nonfoil,o=e.promo_types,l=t;return"sta"===c&&!0===i&&!1===s?l+=" (Etched foil)":o.includes("godzillaseries")?l+=" (IP series)":n.includes("showcase")?l+=" (Showcase)":0===n.length&&"borderless"===r?l+=" (Borderless)":n.includes("extendedart")&&(l+=" (Extended art)"),"en"!==a&&(l+=" (".concat(a.toUpperCase(),")")),l},ne=function(e){var t;try{t=e.image_uris.normal}catch(n){t=e.card_faces[0].image_uris.normal}return t},re=function e(t){Object(ee.a)(this,e),this.id=void 0,this.name=void 0,this.printed_name=void 0,this.set=void 0,this.set_name=void 0,this.rarity=void 0,this.image_uris=void 0,this.card_faces=void 0,this.nonfoil=void 0,this.foil=void 0,this.colors=void 0,this.type_line=void 0,this.frame_effects=void 0,this.lang=void 0,this.border_color=void 0,this.display_name=void 0,this.cardImage=void 0,this.color_identity=void 0,this.promo_types=void 0,this.tcgplayer_id=void 0,this.qoh=void 0,this.id=t.id,this.name=t.name,this.printed_name=t.printed_name||null,this.set=t.set,this.set_name=t.set_name,this.rarity=t.rarity,this.image_uris=t.image_uris||null,this.card_faces=t.card_faces||null,this.nonfoil=t.nonfoil,this.foil=t.foil,this.colors=t.colors,this.type_line=t.type_line,this.frame_effects=t.frame_effects||[],this.lang=t.lang,this.border_color=t.border_color,this.color_identity=t.color_identity||null,this.promo_types=t.promo_types||[],this.cardImage=ne(this),this.display_name=te(this),this.tcgplayer_id=t.tcgplayer_id||null,this.qoh=t.qoh?t.qoh:{}},ae=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cardName,r=t.inStockOnly,e.prev=1,e.next=4,h.a.get(N,{params:{title:n,matchInStock:r},headers:R()});case 4:return a=e.sent,c=a.data,e.abrupt("return",c.map((function(e){return new re(e)})));case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),ce=Object(r.createContext)({searchResults:[],changeCardQuantity:function(){return null},handleSearchSelect:function(){return null}}),ie=function(e){var t=e.children,n=Object(r.useState)([]),a=Object(u.a)(n,2),c=a[0],i=a[1],s=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae({cardName:t,inStockOnly:!1});case 2:n=e.sent,i(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsx)(ce.Provider,{value:{searchResults:c,changeCardQuantity:function(e,t){var n=Object(X.a)(c),r=n.findIndex((function(t){return t.id===e}));n[r].qoh=t,i(n)},handleSearchSelect:s},children:t})},se=n(417),oe=n(415),le=n(383),ue=n(384),de=n(336),je=n(80),be=n.n(je),he=n(38),Oe=n(31),xe=n(421),pe=n(265),fe=Object(U.a)(xe.a)(B||(B=Object(Oe.a)(["\n    position: relative;\n    right: 10px;\n    bottom: 10px;\n"]))),me=function(e){var t=e.color,n=e.header,r=e.message,a=e.duration,c=void 0===a?2e3:a;return pe.a.notify((function(){return Object(M.jsxs)(fe,{color:t,compact:!0,children:[Object(M.jsx)(xe.a.Header,{children:n}),r]})}),{position:"bottom-right",duration:c})},ve=n(13),ge=n(377),ye=n(3),Ce=Object(ge.a)((function(e){return{imageStyle:{boxShadow:"2px 2px 5px 0 rgba(0,0,0,.25)",zIndex:e.zIndex.appBar,transition:"all .2s ease-in-out",maxWidth:"100%",maxHeight:"100%"},hoveredStyle:{transform:"scale(1.75)"}}})),we=function(e){var t=e.image,n=e.hover,a=Ce(),c=a.imageStyle,i=a.hoveredStyle,s=Object(r.useState)(!1),o=Object(u.a)(s,2),l=o[0],d=o[1],j=function(e){n&&d(e)};return Object(M.jsx)("img",{src:t,className:Object(ye.a)(c,Object(ve.a)({},i,l)),onMouseOver:function(){return j(!0)},onMouseOut:function(){return j(!1)}})},Se=[{key:"NONFOIL",text:"Nonfoil",value:"NONFOIL"},{key:"FOIL",text:"Foil",value:"FOIL"}],ke=[{key:"NM",text:"Near Mint",value:"NM"},{key:"LP",text:"Light Play",value:"LP"},{key:"MP",text:"Moderate Play",value:"MP"},{key:"HP",text:"Heavy Play",value:"HP"}];function Ie(e,t){return!e&&t?{selectedFinish:"FOIL",finishDisabled:!0}:e&&!t?{selectedFinish:"NONFOIL",finishDisabled:!0}:{selectedFinish:"NONFOIL",finishDisabled:!1}}var Le=n(380),Ne=n(147),_e=n(12),Fe=n(429),Pe=Object(ge.a)({container:{display:"inline-block",borderRadius:5},chip:{borderRadius:5},leftChip:{borderTopRightRadius:0,borderBottomRightRadius:0,borderTopLeftRadius:5,borderBottomLeftRadius:5},rightChip:{borderTopLeftRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:5,borderBottomRightRadius:5}}),Te=Object(r.forwardRef)((function(e,t){var n=e.quantity,r=e.label,a=Pe(),c=a.container,i=a.leftChip,s=a.rightChip,o=n>0?"primary":void 0;return Object(M.jsxs)("div",Object(_e.a)(Object(_e.a)({},e),{},{ref:t,className:c,children:[Object(M.jsx)(Fe.a,{color:o,className:i,size:"small",label:r}),Object(M.jsx)(Fe.a,{color:o,className:s,size:"small",label:n})]}))})),Re=function(e){return{FOIL_NM:"Foil (NM)",FOIL_LP:"Foil (LP)",FOIL_MP:"Foil (MP)",FOIL_HP:"Foil (HP)",NONFOIL_NM:"Nonfoil (NM)",NONFOIL_LP:"Nonfoil (LP)",NONFOIL_MP:"Nonfoil (MP)",NONFOIL_HP:"Nonfoil (HP)"}[e]};function Be(e){return[(e.FOIL_NM||0)+(e.FOIL_LP||0)+(e.FOIL_MP||0)+(e.FOIL_HP||0),(e.NONFOIL_NM||0)+(e.NONFOIL_LP||0)+(e.NONFOIL_MP||0)+(e.NONFOIL_HP||0)]}var Ee=function(e,t){var n=t.map((function(t){var n=e[t];if(n&&n>0)return"".concat(Re(t),": ").concat(n)})).filter((function(e){return!!e}));return 0===n.length?["None in stock"]:n},Me=function(e){var t=e.quantity,n=e.label,r=e.popupLineItems;return Object(M.jsx)(Le.a,{title:r.map((function(e){return Object(M.jsx)(Ne.a,{variant:"body2",children:e},Math.random())})),arrow:!0,placement:"top",children:Object(M.jsx)(Te,{quantity:t,label:n})})},De=function(e){var t=e.inventoryQty,n=Be(t),r=Object(u.a)(n,2),a=r[0],c=r[1],i=Ee(t,["FOIL_NM","FOIL_LP","FOIL_MP","FOIL_HP"]),s=Ee(t,["NONFOIL_NM","NONFOIL_LP","NONFOIL_MP","NONFOIL_HP"]);return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Me,{label:"Foil",quantity:a,popupLineItems:i}),Object(M.jsx)(Me,{label:"Nonfoil",quantity:c,popupLineItems:s})]})},ze=Object(ge.a)({foilContainer:{backgroundColor:"#ffcfdf !important",backgroundImage:"linear-gradient(90deg, #ffcfdf 0%, #b0f3f1 74%) !important"},border:{borderRadius:5}}),qe=function(e){var t=ze(),n=t.foilContainer,r=t.border;return e.foil?Object(M.jsx)(Fe.a,Object(_e.a)(Object(_e.a)({},e),{},{className:Object(ye.a)(n,r)})):Object(M.jsx)(Fe.a,Object(_e.a)(Object(_e.a)({},e),{},{className:r}))},Ae=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.scryfallId,e.prev=1,e.next=4,h.a.get(T,{params:{scryfallId:n}});case 4:return r=e.sent,a=r.data,c=a.marketPrices,i=a.medianPrices,e.abrupt("return",{marketPrices:c,medianPrices:i});case 10:throw e.prev=10,e.t0=e.catch(1),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),He=function(e){return e?"$".concat(e.toFixed(2)):"N/A"},We=function(e){var t=e.id,n=e.finish,a=e.round,c=e.showMid,i=void 0===c||c,s=Object(r.useState)(null),d=Object(u.a)(s,2),j=d[0],b=d[1],h=Object(r.useState)(null),O=Object(u.a)(h,2),x=O[0],p=O[1],f=Object(r.useState)(!1),m=Object(u.a)(f,2),v=m[0],g=m[1],y="FOIL"===n;Object(r.useEffect)((function(){!function(){var e=Object(l.a)(o.a.mark((function e(){var n,r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,g(!0),e.next=4,Ae({scryfallId:t});case 4:return r=e.sent,a=r.marketPrices,c=r.medianPrices,n&&(y?(b(Number(a.foil)),p(Number(c.foil))):(b(Number(a.normal)),p(Number(c.normal))),g(!1)),e.abrupt("return",(function(){return n=!1}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t,n]);var C,w=Object(M.jsx)("span",{children:"Loading..."});return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(qe,{size:"small",foil:y,label:v?w:Object(M.jsxs)("span",{children:["Mkt."," ",He(a?j?(C=j,Math.ceil(2*C)/2):null:j)]})}),i&&Object(M.jsx)(qe,{size:"small",foil:y,label:v?w:Object(M.jsxs)("span",{children:["Mid. ",He(x)]})})]})},Ve=Object(U.a)("i")({fontSize:"20px"}),Qe=function(e){var t=e.set,n=e.rarity,r=n?"ss-".concat(n):"";return Object(M.jsx)(Ve,{className:"ss ss-fw ss-".concat(t," ").concat(r)})},Ge=n(4),Ue=n(381),Ye=function(e){var t=e.primary,n=e.children,r=Object(Ge.a)(e,["primary","children"]);return Object(M.jsx)(Ue.a,Object(_e.a)(Object(_e.a)({color:"primary",disableElevation:!0,variant:t?"contained":"outlined"},r),{},{children:n}))},Je=n(382),$e=n(9),Ke=n(414),Ze={en:"English",es:"Spanish",fr:"French",de:"German",it:"Italian",pt:"Portuguese",ja:"Japanese",ko:"Korean",ru:"Russian",zhs:"Simplified Chinese",zht:"Traditional Chinese",he:"Hebrew",la:"Latin",grc:"Ancient Greek",ar:"Arabic",sa:"Sanskrit",px:"Phyrexian"};var Xe=function(e){return Ze[e]},et=n(248),tt=n.n(et),nt=function(e){var t=e.tcgId,n="https://www.tcgplayer.com/product/".concat(t);return t?Object(M.jsx)(Je.a,{href:n,target:"_blank",underline:"none",children:Object(M.jsxs)(Ye,{size:"small",children:["View on TCG ",Object(M.jsx)(tt.a,{fontSize:"small"})]})}):Object(M.jsx)(Ye,{disabled:!0,size:"small",children:"TCG Link unavailable"})},rt=Object($e.a)((function(e){return{root:{"& > div":{marginRight:(0,e.spacing)(1)}}}}))(Ke.a),at=function(e){var t=e.card,n=e.selectedFinish,r=e.showMid,a=void 0!==r&&r,c=e.round,i=void 0!==c&&c,s=t.id,o=t.display_name,l=t.set,u=t.rarity,d=t.set_name,j=t.qoh,b=t.lang,h=t.tcgplayer_id;return Object(M.jsxs)(Ke.a,{children:[Object(M.jsxs)(Ke.a,{display:"flex",alignItems:"center",children:[Object(M.jsx)(Ne.a,{variant:"h6",children:Object(M.jsx)("b",{children:o})}),Object(M.jsx)(Qe,{set:l,rarity:u})]}),Object(M.jsxs)(rt,{children:[Object(M.jsxs)(Ne.a,{variant:"body2",children:[d," (",l.toUpperCase(),") - ",Xe(b)]}),Object(M.jsx)(De,{inventoryQty:j}),Object(M.jsx)(We,{id:s,finish:n,showMid:a,round:i}),Object(M.jsx)(nt,{tcgId:h})]})]})},ct=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post(v,t,{headers:R()});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),it=n(213),st=function(e){var t=e.quantity,n={};return(!Number(t)||!Number.isInteger(+t)||+t>100)&&(n.quantity="error"),n},ot=function(e){var t=e.card,n=t.foil,a=t.nonfoil,c=t.name,i=t.set_name,s=t.set,d=t.id,j=t.cardImage,b=Object(r.useState)(Ie(a,n).selectedFinish),h=Object(u.a)(b,2),O=h[0],x=h[1],p=Object(r.useContext)(ce).changeCardQuantity,f={selectedFinish:Ie(a,n).selectedFinish,selectedCondition:"NM",quantity:"0"},m=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,a,l,u,j,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.quantity,a=t.selectedFinish,l=t.selectedCondition,u=n.resetForm,e.prev=2,e.next=5,ct({quantity:parseInt(r,10),finishCondition:"".concat(a,"_").concat(l),cardInfo:{id:d,name:c,set_name:i,set:s}});case 5:j=e.sent,b=j.qoh,u(),p(d,b),me({color:"green",header:"".concat(r,"x ").concat(c," ").concat(parseInt(r,10)>0?"added":"removed","!"),duration:2e3}),be()("#searchBar").focus().select(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}(),v=Object(he.a)({initialValues:f,validate:st,onSubmit:m,validateOnMount:!0}),g=v.values,y=v.handleSubmit,C=v.setFieldValue,w=v.isSubmitting,S=v.isValid;return Object(M.jsx)(it.a,{variant:"outlined",children:Object(M.jsx)(Ke.a,{p:2,children:Object(M.jsx)(se.a.Group,{divided:!0,children:Object(M.jsxs)(se.a,{children:[Object(M.jsx)(se.a.Image,{size:"tiny",children:Object(M.jsx)(we,{image:j,hover:!0})}),Object(M.jsxs)(se.a.Content,{children:[Object(M.jsx)(at,{card:t,selectedFinish:O,round:!0}),Object(M.jsx)(se.a.Description,{children:Object(M.jsx)(oe.a,{children:Object(M.jsxs)(oe.a.Group,{children:[Object(M.jsx)(oe.a.Field,{control:le.a,type:"number",label:"Quantity",value:g.quantity,onChange:function(e,t){var n=t.value;return C("quantity",n)},onFocus:function(){0===+g.quantity&&C("quantity","")}}),Object(M.jsx)(oe.a.Field,{label:"Finish",control:ue.a,value:g.selectedFinish,options:Se,disabled:Ie(a,n).finishDisabled,onChange:function(e,t){var n=t.value;x(n),C("selectedFinish",n)}}),Object(M.jsx)(oe.a.Field,{label:"Condition",control:ue.a,value:g.selectedCondition,options:ke,onChange:function(e,t){var n=t.value;return C("selectedCondition",n)}}),Object(M.jsx)(oe.a.Button,{label:"Add to Inventory?",control:de.a,primary:!0,disabled:!S||w,onClick:function(){return y()},loading:w,children:"Submit"})]})})})]})]})})})})},lt=n(391),ut=function(e){var t=e.children;return Object(M.jsx)(Ne.a,{variant:"h4",children:t})},dt=function(e){var t=e.children;return Object(M.jsx)(Ne.a,{variant:"h6",children:Object(M.jsx)("b",{children:t})})},jt=n(385),bt=function(){return Object(M.jsx)(Ke.a,{display:"flex",justifyContent:"center",width:1,py:3,children:Object(M.jsx)(jt.a,{})})},ht=n(40),Ot=n.n(ht),xt=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get(P,{params:{title:t}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),pt=n(423),ft=n(430),mt=n(52),vt=n.n(mt),gt=Object(ge.a)({popupIndicatorOpen:{transform:"rotate(0deg)"}}),yt=function(e){var t=e.value,n=e.onChange,a=gt(),c=Object(r.useState)(!1),i=Object(u.a)(c,2),s=i[0],d=i[1],j=Object(r.useState)([]),b=Object(u.a)(j,2),h=b[0],O=b[1],x=Object(r.useState)(t),p=Object(u.a)(x,2),f=p[0],m=p[1],v=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,xt(t);case 3:n=e.sent,r=n.map((function(e){return{title:e}})),O(r),d(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=Object(r.useCallback)(Ot.a.debounce(v,500),[]),y=function(){var e=Object(l.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m({title:n}),n&&!(n.length<3)){e.next=4;break}return O([]),e.abrupt("return");case 4:return e.next=6,g(n);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(o.a.mark((function e(t,r,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("clear"!==a){e.next=3;break}return n(null),e.abrupt("return");case 3:return setTimeout((function(){return be()("#searchBar").select()}),10),e.prev=4,d(!0),m(r),e.next=9,n(r);case 9:d(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(M.jsx)(pt.a,{id:"searchBar",autoHighlight:!0,selectOnFocus:!0,value:f,onInputChange:y,onChange:C,loading:s,options:h,getOptionLabel:function(e){return e.title},getOptionSelected:function(e,t){return e.title===t.title},placeholder:"Enter a card title",closeIcon:null,popupIcon:Object(M.jsx)(vt.a,{}),noOptionsText:"No results found",classes:{popupIndicatorOpen:a.popupIndicatorOpen},renderInput:function(e){return Object(M.jsx)(ft.a,Object(_e.a)(Object(_e.a)({},e),{},{label:"Enter a card title",variant:"outlined",size:"small"}))}})},Ct=function(e){var t=e.value,n=e.onChange;return Object(M.jsx)(yt,{value:t?{title:t}:null,onChange:function(e){return n(e?e.title:"")}})},wt=Object(ge.a)((function(e){var t=e.typography,n=e.spacing;return{font:{fontWeight:t.fontWeightBold},container:{boxShadow:"0 2px 25px 0 rgb(34 36 38 / 5%) inset",backgroundColor:"transparent"},flexContainer:{minHeight:n(25)}}})),St=function(e){var t=e.icon,n=e.children,r=wt(),a=r.font,c=r.container,i=r.flexContainer;return Object(M.jsx)(it.a,{variant:"outlined",className:c,children:Object(M.jsxs)(Ke.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",className:i,children:[t&&t,Object(M.jsx)(Ne.a,{variant:"h6",className:a,children:n})]})})};function kt(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),i=Object(u.a)(c,2),s=i[0],d=i[1],j=Object(r.useContext)(ce),b=j.searchResults,h=j.handleSearchSelect;return Object(r.useEffect)((function(){n&&Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,h(n);case 3:d(!1);case 4:case"end":return e.stop()}}),e)})))()}),[n]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(lt.a,{container:!0,children:Object(M.jsx)(lt.a,{item:!0,xs:12,md:4,children:Object(M.jsx)(Ct,{value:n,onChange:function(e){return a(e)}})})}),Object(M.jsx)("br",{}),Object(M.jsxs)(lt.a,{container:!0,justify:"space-between",children:[Object(M.jsx)(ut,{children:"Manage Inventory"}),b.length>0&&Object(M.jsx)(Z,{searchResults:b,title:b[0].name})]}),Object(M.jsx)("br",{}),s?Object(M.jsx)(bt,{}):Object(M.jsxs)(M.Fragment,{children:[!b.length&&Object(M.jsx)(St,{icon:Object(M.jsx)(vt.a,{style:{fontSize:80}}),children:Object(M.jsx)("em",{children:'"For the first time in his life, Grakk felt a little warm and fuzzy inside."'})}),Object(M.jsx)(lt.a,{container:!0,spacing:2,children:b.map((function(e){return Object(M.jsx)(lt.a,{item:!0,xs:12,children:Object(M.jsx)(ot,{card:e})},e.id)}))})]})]})}var It=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat(w,"/").concat(t),{headers:R()});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Lt=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.delete("".concat(w,"/").concat(t),{headers:R()});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Nt=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post(w,t,{headers:R()});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),_t=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post(f,t,{headers:R()});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Ft={_id:"",name:"",notes:"",list:[]},Pt=Object(r.createContext)({saleListCards:[],searchResults:[],searchTerm:"",suspendedSale:Ft,handleResultSelect:function(){return null},addToSaleList:function(){return null},removeFromSaleList:function(){return null},restoreSale:function(){return null},suspendSale:function(){return null},deleteSuspendedSale:function(){return null},finalizeSale:function(){return null},resetSaleState:function(){return null}}),Tt=function(e){var t=e.children,n=Object(r.useState)([]),a=Object(u.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(""),d=Object(u.a)(s,2),j=d[0],b=d[1],h=Object(r.useState)([]),O=Object(u.a)(h,2),x=O[0],p=O[1],f=Object(r.useState)(Ft),m=Object(u.a)(f,2),v=m[0],g=m[1],y=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae({cardName:t,inStockOnly:!0});case 2:n=e.sent,p(n),b(t),0===n.length&&be()("#searchBar").focus().select();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,It(t);case 3:n=e.sent,r=n.list.map((function(e){return e})),i(r),g(n),me({color:"green",header:"You are viewing ".concat(n.name,"'s sale")}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.response),me({color:"red",header:"Error"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.customerName,r=t.notes,a=v._id,e.prev=2,!a){e.next=6;break}return e.next=6,Lt(a);case 6:return e.next=8,Nt({customerName:n,notes:r,saleList:c});case 8:i=e.sent,I(),me({color:"green",header:"".concat(i.ops[0].name,"'s sale was suspended")}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0.response),me({color:"red",header:"Error",message:e.t0.response.data||"Error suspending sale"});case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=v._id,n=v.name,e.next=4,Lt(t);case 4:I(),me({color:"green",header:"".concat(n,"'s sale was deleted")}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response),me({color:"red",header:"Error",message:e.t0.response.data||"Error deleting suspended sale"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=v._id,e.prev=1,!t){e.next=5;break}return e.next=5,Lt(t);case 5:return e.next=7,_t({cards:c});case 7:n=e.sent,r=n.sale_data,me({color:"green",header:"Sale created in Lightspeed!",message:"The id number is #".concat(r.Sale.saleID)}),I(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),me({color:"red",header:"Error",message:e.t0.response.data||"Sale was not created"}),I();case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),I=function(){i([]),p([]),b(""),g(Ft)};return Object(M.jsx)(Pt.Provider,{value:{saleListCards:c,searchTerm:j,searchResults:x,suspendedSale:v,handleResultSelect:y,addToSaleList:function(e,t,n,r){var a=Object(X.a)(c),s=Object(_e.a)(Object(_e.a)({},e),{},{finishCondition:t,qtyToSell:n,price:r}),o=a.findIndex((function(e){return e.id===s.id&&e.finishCondition===t}));-1!==o?a.splice(o,1,s):a.push(s),i(function(e){var t=["W","U","B","R","G","MULTI","COLORLESS","LAND"];function n(e){var t=null,n=null,r=null;try{n=e.colors.length,r=e}catch(a){try{n=e.card_faces[0].colors.length,r=e.card_faces[0]}catch(a){n=e.colors.length,r=e}}return 0===n?t="COLORLESS":1===n?t=r.colors[0]:n>1&&(t="MULTI"),"COLORLESS"===t&&(r.color_identity&&(1===r.color_identity.length&&(t=r.color_identity[0]),r.color_identity.length>1&&(t="MULTI")),r.type_line.includes("Land")&&(t="LAND")),t||(t="LAND"),t}return e.sort((function(e,t){return e.name.localeCompare(t.name)})).sort((function(e,r){return t.indexOf(n(e))-t.indexOf(n(r))}))}(a))},removeFromSaleList:function(e,t){var n=Object(X.a)(c).filter((function(n){return!(n.id===e&&n.finishCondition===t)}));i(n)},restoreSale:C,suspendSale:w,deleteSuspendedSale:S,finalizeSale:k,resetSaleState:I},children:t})};var Rt=function(e){var t=e.label,n=e.name,r=e.options,a=e.onChange,c=e.error,i=Object(Ge.a)(e,["label","name","options","onChange","error"]);return Object(M.jsx)(oe.a.Field,Object(_e.a)({error:c,control:ue.a,label:t,placeholder:t,options:r,name:n,onChange:function(e,t){var n=t.value;a(n)}},i))},Bt=function(e){return Math.round(100*e)/100};var Et=function(e){return e.target.select()},Mt=function(e){var t=e.card,n=Object(r.useContext)(Pt).addToSaleList,a=function(e,t){var n=Ot.a.pickBy(e,(function(e){return e&&e>0}));return Object.entries(n).map((function(e){var n=Object(u.a)(e,2),r=n[0],a=n[1];return{text:"".concat(r.split("_").join(" | ")," | Qty: ").concat(a),value:r,key:"".concat(t).concat(r)}}))}(t.qoh,t.id),c={selectedFinishCondition:a[0].value,price:0,quantityToSell:0},i=Object(he.a)({initialValues:c,validate:function(e){var n=e.quantityToSell,r=e.price,a=e.selectedFinishCondition,c={};return n||(c.quantityToSell="error"),r||(c.price="error"),a||(c.selectedFinishCondition="error"),n>t.qoh[a]&&(c.quantityToSell="error"),r<0&&(c.price="error"),n<1&&(c.quantityToSell="error"),c},onSubmit:function(e){var r=e.selectedFinishCondition,a=e.quantityToSell,c=e.price,i=Bt(c);n(t,r,a,i),be()("#searchBar").focus().select()},validateOnMount:!0}),s=i.handleChange,o=i.handleSubmit,l=i.setFieldValue,d=i.values,j=i.isValid;return Object(M.jsx)(it.a,{variant:"outlined",children:Object(M.jsx)(Ke.a,{p:2,children:Object(M.jsx)(se.a.Group,{divided:!0,children:Object(M.jsxs)(se.a,{children:[Object(M.jsx)(se.a.Image,{size:"tiny",children:Object(M.jsx)(we,{image:t.cardImage})}),Object(M.jsxs)(se.a.Content,{children:[Object(M.jsx)(at,{card:t,selectedFinish:d.selectedFinishCondition.split("_")[0],showMid:!0,round:!0}),Object(M.jsx)(se.a.Description,{children:Object(M.jsx)(oe.a,{children:Object(M.jsxs)(oe.a.Group,{children:[Object(M.jsx)(Rt,{label:"Select finish/condition",name:"selectedFinishCondition",options:a,defaultValue:c.selectedFinishCondition,onChange:function(e){l("selectedFinishCondition",e),l("quantityToSell",0)}}),Object(M.jsx)(oe.a.Field,{control:le.a,type:"number",label:"Quantity to sell",value:d.quantityToSell,onChange:function(e,n){var r=n.value,a=parseInt(r,10);a>t.qoh[d.selectedFinishCondition]||l("quantityToSell",a)},onFocus:Et}),Object(M.jsx)(oe.a.Field,{label:"Price",name:"price",control:le.a,type:"number",value:d.price,onChange:s,onFocus:Et,step:"0.5"}),Object(M.jsx)(oe.a.Button,{type:"submit",label:"Add to sale?",control:de.a,primary:!0,onClick:function(){return o()},disabled:!j,children:"Sell"})]})})})]})]})})})})},Dt=function(e){var t=e.loading,n=e.term,r=e.cards;return t?Object(M.jsx)(bt,{}):0===r.length?Object(M.jsx)(St,{icon:Object(M.jsx)(vt.a,{style:{fontSize:80}}),children:Object(M.jsx)("span",{children:n&&!r.length?Object(M.jsxs)("p",{children:["Zero results for ",Object(M.jsx)("em",{children:n})]}):Object(M.jsx)("p",{children:Object(M.jsx)("em",{children:'"Don\'t give the people what they want"'})})})}):Object(M.jsx)(lt.a,{container:!0,spacing:2,children:r.map((function(e){return Object(M.jsx)(lt.a,{item:!0,xs:12,children:Object(M.jsx)(Mt,{card:e})},e.id)}))})};function zt(e){if(null===e)return"$0.00";var t="string"===typeof e?Number(e):e;return isNaN(t)?"$0.00":"$".concat(t.toFixed(2))}function qt(e){if(null===e)return"$0.00";var t="string"===typeof e?Number(e):e;return isNaN(t)?"$0.00":"$".concat(t.toFixed(2))}var At=function(e){var t=e.num;return Object(M.jsx)("span",{children:zt(t)})},Ht=Object(ge.a)({transparentBackground:{backgroundColor:"transparent"},borderRounded:{borderRadius:"7px 7px 7px 7px"},imageSize:{width:155,height:"auto"}}),Wt=function(e){var t=e.cardImage,n=e.children,r=Ht(),a=r.transparentBackground,c=r.borderRounded,i=r.imageSize;return Object(M.jsx)(Le.a,{placement:"bottom-start",title:Object(M.jsx)("img",{className:Object(ye.a)(c,i),src:t}),classes:{tooltip:a},children:Object(M.jsx)("span",{children:n})})},Vt=n(333),Qt=n(386),Gt=n(187),Ut=n.n(Gt),Yt=function(e){var t=e.card,n=t.display_name,a=t.set,c=t.finishCondition,i=t.qtyToSell,s=t.price,o=t.rarity,l=t.id,u=t.cardImage,d=Object(r.useContext)(Pt).removeFromSaleList;return Object(M.jsx)(Vt.a,{children:Object(M.jsxs)(lt.a,{container:!0,alignItems:"center",justify:"space-between",children:[Object(M.jsxs)(lt.a,{item:!0,children:[Object(M.jsx)(Wt,{cardImage:u,children:Object(M.jsxs)(Ke.a,{display:"flex",alignItems:"center",children:[Object(M.jsx)(Ne.a,{variant:"h6",style:{cursor:"help"},children:n}),Object(M.jsx)(Qe,{set:a,rarity:o}),Object(M.jsx)(qe,{size:"small",label:a.toUpperCase()})]})}),Object(M.jsxs)("div",{className:"line-item-price",children:[i,"x @ ",Object(M.jsx)(At,{num:s})," \u2022 ",c&&Object(M.jsxs)("span",{children:[c.split("_")[1]," "," | ",c.split("_")[0]]})]})]}),Object(M.jsx)(lt.a,{item:!0,children:Object(M.jsx)(Qt.a,{onClick:function(){return d(l,c)},color:"secondary",children:Object(M.jsx)(Ut.a,{})})})]})})};function Jt(e){return e.reduce((function(e,t){return e+t}),0)}var $t,Kt,Zt,Xt,en=function(e){var t=Jt(e.saleList.map((function(e){return e.qtyToSell*Number(e.price)})));return Object(M.jsx)("div",{id:"sale-price-total",children:Object(M.jsx)(At,{num:t})})},tn=n(419),nn=n(92),rn=function(){var e=Object(r.useState)({loading:!1,disabled:!1}),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),i=Object(u.a)(c,2),s=i[0],d=i[1],j=Object(r.useContext)(Pt).finalizeSale,b=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({loading:!0,disabled:!0}),e.next=3,j();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=Object(M.jsx)(de.a,{fluid:!0,primary:!0,onClick:function(){return d(!0)},children:"Finalize sale"});return Object(M.jsxs)(tn.a,{basic:!0,open:s,trigger:h,children:[Object(M.jsxs)(tn.a.Content,{children:[Object(M.jsx)(G.a,{inverted:!0,as:"h2",children:"Finalize this sale?"}),Object(M.jsx)("p",{children:"Click 'Yes' to create a sale in Lightspeed. Ensure that you have all cards pulled and double-checked the customer list. Undoing this action will require manual data entry!"})]}),Object(M.jsxs)(tn.a.Actions,{children:[Object(M.jsxs)(de.a,{basic:!0,color:"red",inverted:!0,onClick:function(){return d(!1)},children:[Object(M.jsx)(nn.a,{name:"remove"})," No"]}),Object(M.jsxs)(de.a,{color:"green",inverted:!0,onClick:b,loading:n.loading,disabled:n.disabled,children:[Object(M.jsx)(nn.a,{name:"checkmark"})," Yes"]})]})]})},an=n(188),cn=n.n(an),sn=n(390),on=n(392),ln=function(e){var t=e.saleList;return 0===t.length?Object(M.jsx)(St,{icon:Object(M.jsx)(cn.a,{style:{fontSize:80}}),children:Object(M.jsx)("em",{children:'"Give them what they need"'})}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(sn.a,{component:it.a,variant:"outlined",children:t.map((function(e,t,n){return Object(M.jsxs)(r.Fragment,{children:[Object(M.jsx)(Yt,{card:e}),t!==n.length-1&&Object(M.jsx)(on.a,{})]},"".concat(e.id).concat(e.finishCondition).concat(e.qtyToSell))}))}),Object(M.jsx)("br",{}),Object(M.jsx)(it.a,{variant:"outlined",children:Object(M.jsx)(Ke.a,{p:2,children:Object(M.jsxs)(lt.a,{container:!0,spacing:2,children:[Object(M.jsx)(lt.a,{item:!0,xs:12,children:Object(M.jsxs)(Ke.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(M.jsx)(Ne.a,{children:"SUBTOTAL"}),Object(M.jsx)(Ne.a,{variant:"h6",children:Object(M.jsx)("b",{children:Object(M.jsx)(en,{saleList:t})})})]})}),Object(M.jsx)(lt.a,{item:!0,xs:12,children:Object(M.jsx)(rn,{})})]})})})]})},un=n(249),dn=U.a.div($t||($t=Object(Oe.a)(["\n    @media print {\n        background-color: white;\n        margin: 0;\n        padding: 0;\n        font-size: 30px;\n        line-height: 40px;\n        z-index: 5000;\n        overflow: hidden;\n    }\n    @media screen {\n        display: none !important;\n    }\n"]))),jn=function(e){var t=e.saleListCards,n=Object(r.useRef)(null),a=Object(un.useReactToPrint)({content:function(){return n.current}});return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("div",{children:Object(M.jsx)(de.a,{size:"tiny",onClick:a,icon:!0,children:Object(M.jsx)(nn.a,{name:"print"})})}),Object(M.jsxs)(dn,{ref:n,children:[Object(M.jsx)("ul",{children:t.map((function(e){return Object(M.jsx)("li",{children:Object(M.jsxs)("b",{children:[e.display_name," | x",e.qtyToSell," |"," ",e.finishCondition," | ",e.set_name," |"," ",Object(M.jsx)(At,{num:e.price})]})},e.id)}))}),Object(M.jsx)("span",{children:Object(M.jsxs)("b",{children:["Subtotal:"," ",Object(M.jsx)(en,{saleList:t})]})})]})]})},bn=n(427),hn=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get(w,{headers:R()});case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),On=U.a.div(Kt||(Kt=Object(Oe.a)(["\n    border-left: 1px solid rgba(0, 0, 0, 0.2);\n    height: 100%;\n"]))),xn=U.a.div(Zt||(Zt=Object(Oe.a)(["\n    margin-top: 0px;\n    margin-bottom: 0px;\n"]))),pn=U.a.p(Xt||(Xt=Object(Oe.a)(["\n    font-size: 12px;\n    color: rgba(0, 0, 0, 0.2);\n    float: right;\n"]))),fn=function(e){var t=e.restoreSale,n=e.deleteSuspendedSale,c=e.saleListLength,i=e.suspendSale,s=e.id,d=Object(r.useState)([]),j=Object(u.a)(d,2),b=j[0],h=j[1],O=Object(r.useState)(""),x=Object(u.a)(O,2),p=x[0],f=x[1],m=Object(r.useState)(!1),v=Object(u.a)(m,2),g=v[0],y=v[1],C=Object(r.useState)(""),w=Object(u.a)(C,2),S=w[0],k=w[1],I=Object(r.useState)(""),L=Object(u.a)(I,2),N=L[0],_=L[1],F=Object(r.useState)(!1),P=Object(u.a)(F,2),T=P[0],R=P[1],B=Object(r.useState)({suspendBtn:!1,restoreBtn:!1,deleteBtn:!1}),E=Object(u.a)(B,2),D=E[0],z=E[1],q=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hn();case 2:t=e.sent,h(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){k(""),_(""),f("")};Object(r.useEffect)((function(){q()}),[s]);var H=Object(M.jsx)("div",{children:Object(M.jsx)(de.a,{size:"tiny",id:"suspend-sale-btn",onClick:function(){return y(!0)},icon:"ellipsis horizontal"})}),W=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),z(Object(_e.a)(Object(_e.a)({},D),{},{suspendBtn:!0})),e.next=4,i({customerName:S,notes:N});case 4:return y(!1),e.next=7,q();case 7:A(),R(!1),z(Object(_e.a)(Object(_e.a)({},D),{},{suspendBtn:!1}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),z(Object(_e.a)(Object(_e.a)({},D),{},{restoreBtn:!0})),e.next=4,t(p);case 4:y(!1),A(),R(!1),z(Object(_e.a)(Object(_e.a)({},D),{},{restoreBtn:!1}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),z(Object(_e.a)(Object(_e.a)({},D),{},{deleteBtn:!0})),e.next=4,n();case 4:y(!1),A(),R(!1),z(Object(_e.a)(Object(_e.a)({},D),{},{deleteBtn:!1}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(M.jsx)(a.a.Fragment,{children:Object(M.jsxs)(tn.a,{trigger:H,open:g,children:[Object(M.jsx)(tn.a.Header,{children:"Sales menu"}),Object(M.jsx)(tn.a.Content,{children:Object(M.jsxs)(bn.a,{columns:2,stackable:!0,relaxed:"very",children:[c>0&&Object(M.jsxs)(a.a.Fragment,{children:[Object(M.jsxs)(bn.a.Column,{width:"7",children:[Object(M.jsx)("h3",{children:"Suspend Sale"}),Object(M.jsxs)(oe.a,{children:[Object(M.jsx)(xn,{children:Object(M.jsx)(oe.a.Input,{id:"suspend-sale-name",label:"Customer Name",placeholder:"Jace, the Mind Sculptor",value:S,onChange:function(e,t){var n=t.value;return k(n.substring(0,50))}})}),Object(M.jsx)(xn,{children:Object(M.jsxs)(pn,{children:[S.length,"/50"]})}),Object(M.jsx)(xn,{children:Object(M.jsx)(oe.a.TextArea,{label:"Notes",placeholder:"Sometimes, I forget things...",value:N,onChange:function(e,t){var n=t.value;"string"===typeof n&&_(n.substring(0,150))}})}),Object(M.jsx)(xn,{children:Object(M.jsxs)(pn,{children:[N.length,"/150"]})}),Object(M.jsx)(oe.a.Button,{id:"suspend-sale-submit",primary:!0,disabled:T||!S,loading:D.suspendBtn,onClick:W,children:"Suspend Sale"})]})]}),Object(M.jsx)(bn.a.Column,{width:"1",children:Object(M.jsx)(On,{})})]}),Object(M.jsxs)(bn.a.Column,{width:"7",children:[Object(M.jsx)("h3",{children:"Restore Sale"}),b.length>0&&Object(M.jsx)(a.a.Fragment,{children:Object(M.jsxs)(oe.a,{children:[Object(M.jsx)(oe.a.Select,{fluid:!0,label:"Previously suspended sales",options:b.map((function(e){return{key:e._id,text:e.name,value:e._id}})),placeholder:"Select a sale",onChange:function(e,t){var n=t.value;"string"===typeof n&&f(n)}}),Object(M.jsx)(oe.a.Button,{primary:!0,disabled:T||!p,loading:D.restoreBtn,onClick:V,children:"Restore Sale"})]})}),0===b.length&&Object(M.jsxs)(xe.a,{info:!0,children:[Object(M.jsx)(xe.a.Header,{children:"No sales"}),"Suspend a sale first"]})]})]})}),Object(M.jsxs)(tn.a.Actions,{children:[!!s&&Object(M.jsx)(de.a,{color:"red",disabled:T,loading:D.deleteBtn,onClick:Q,children:"Delete current Sale"}),Object(M.jsx)(de.a,{primary:!0,disabled:T,onClick:function(){return y(!1)},children:"Cancel"})]})]})})};function mn(e,t){return"".concat(t).concat(1===e?"":"s")}var vn=function(e){var t=e.listLength;return 0===t?null:Object(M.jsx)(qe,{label:"".concat(t," ").concat(mn(t,"card")),size:"small"})},gn=function(e){e.preventDefault(),e.returnValue=""},yn=function(e){e?window.addEventListener("beforeunload",gn):window.removeEventListener("beforeunload",gn)},Cn=function(e){var t=Object(r.useState)(e),n=Object(u.a)(t,2),a=n[0],c=n[1];return yn(a),Object(r.useEffect)((function(){return yn(a),function(){window.removeEventListener("beforeunload",gn)}}),[a]),{showPrompt:a,setShowPrompt:c}},wn=function(){var e=Cn(!1).setShowPrompt,t=Object(r.useState)(""),n=Object(u.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(!1),s=Object(u.a)(i,2),j=s[0],b=s[1],h=Object(r.useContext)(Pt),O=h.saleListCards,x=h.searchTerm,p=h.searchResults,f=h.handleResultSelect,m=h.suspendedSale,v=h.restoreSale,g=h.deleteSuspendedSale,y=h.suspendSale;return Object(r.useEffect)((function(){O.length>0?e(!0):e(!1)}),[O]),Object(r.useEffect)((function(){a&&Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,f(a);case 3:b(!1);case 4:case"end":return e.stop()}}),e)})))()}),[a]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(d.a,{message:"You have items in your list. Are you sure you wish to leave?",when:O.length>0}),Object(M.jsx)(lt.a,{container:!0,children:Object(M.jsx)(lt.a,{item:!0,xs:12,md:4,children:Object(M.jsx)(Ct,{value:a,onChange:function(e){return c(e)}})})}),Object(M.jsx)("br",{}),Object(M.jsxs)(lt.a,{container:!0,spacing:2,children:[Object(M.jsxs)(lt.a,{item:!0,xs:12,lg:8,children:[Object(M.jsxs)(lt.a,{container:!0,justify:"space-between",children:[Object(M.jsx)(ut,{children:"Inventory"}),a&&Object(M.jsx)(Z,{searchResults:p,title:a})]}),Object(M.jsx)("br",{}),Object(M.jsx)(Dt,{loading:j,term:x,cards:p})]}),Object(M.jsxs)(lt.a,{item:!0,xs:12,lg:4,children:[Object(M.jsxs)(lt.a,{container:!0,justify:"space-between",children:[Object(M.jsxs)(Ke.a,{display:"flex",alignItems:"center",children:[Object(M.jsx)(ut,{children:""===m.name?"Sale Items":"".concat(m.name,"'s Items")}),Object(M.jsx)(vn,{listLength:Jt(O.map((function(e){return e.qtyToSell})))})]}),Object(M.jsxs)(Ke.a,{display:"flex",children:[Object(M.jsx)(fn,{restoreSale:v,suspendSale:y,saleListLength:O.length,deleteSuspendedSale:g,id:m._id}),O.length>0&&Object(M.jsx)(jn,{saleListCards:O})]})]}),Object(M.jsx)("br",{}),Object(M.jsx)(ln,{saleList:O})]})]})]})},Sn=n(395),kn=n(396),In=n(397),Ln=n(393),Nn=n(394),_n=n(398),Fn=n(84),Pn=n.n(Fn);var Tn,Rn,Bn,En,Mn=function(e){return Pn()(e).format("MM/DD/YYYY - h:mm A")},Dn=function(e){var t=e.sale,n=t.card_list,r=t.sale_data,a=Jt(n.map((function(e){return Number(e.qtyToSell)})));return Object(M.jsxs)(Ln.a,{children:[Object(M.jsx)(Nn.a,{children:r.saleID}),Object(M.jsx)(Nn.a,{children:Mn(r.createTime)}),Object(M.jsx)(Nn.a,{children:a})]})},zn=function(e){var t=e.list;return Object(M.jsx)(Sn.a,{component:it.a,variant:"outlined",children:Object(M.jsxs)(kn.a,{size:"small",children:[Object(M.jsx)(In.a,{children:Object(M.jsxs)(Ln.a,{children:[Object(M.jsx)(Nn.a,{children:"Sale ID"}),Object(M.jsx)(Nn.a,{children:"Date of Sale"}),Object(M.jsx)(Nn.a,{children:"Quantity Sold"})]})}),Object(M.jsx)(_n.a,{children:t.map((function(e){return Object(M.jsx)(Dn,{sale:e})}))})]})})},qn=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cardName,e.prev=1,e.next=4,h.a.get(k,{params:{cardName:n},headers:R()});case 4:return r=e.sent,a=r.data,e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),An=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),i=Object(u.a)(c,2),s=i[0],d=i[1],j=Object(r.useState)([]),b=Object(u.a)(j,2),h=b[0],O=b[1],x=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qn({cardName:t});case 2:n=e.sent,O(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){n&&Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,x(n);case 3:d(!1);case 4:case"end":return e.stop()}}),e)})))()}),[n]),Object(M.jsxs)("div",{children:[Object(M.jsx)(lt.a,{container:!0,children:Object(M.jsx)(lt.a,{item:!0,xs:12,md:4,children:Object(M.jsx)(Ct,{value:n,onChange:function(e){return a(e)}})})}),Object(M.jsx)("br",{}),Object(M.jsx)(ut,{children:"Browse Sales"}),Object(M.jsx)(on.a,{}),s?Object(M.jsx)(bt,{}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Ke.a,{py:2,children:""!==n&&Object(M.jsxs)(Ne.a,{children:[h.length," results for ",Object(M.jsx)("em",{children:n})]})}),Object(M.jsx)(zn,{list:h})]})]})},Hn=n(267),Wn=U.a.div(Tn||(Tn=Object(Oe.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: ","px;\n"])),275),Vn=U.a.div(Rn||(Rn=Object(Oe.a)(["\n    display: flex;\n    width: 100%;\n    flex-direction: column;\n    justify-content: space-between;\n    padding: 5px;\n    background-color: rgba(0, 0, 0, 0.9);\n    border-radius: 10px 10px 10px 10px;\n    box-shadow: 2px 2px 5px 0 rgba(0, 0, 0, 0.25);\n"]))),Qn=U.a.div(Bn||(Bn=Object(Oe.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    margin: 5px;\n"]))),Gn=U.a.div(En||(En=Object(Oe.a)(["\n    width: ","px;\n    height: ","px;\n    box-shadow: 2px 2px 5px 0 rgba(0, 0, 0, 0.25);\n    background: repeating-linear-gradient(\n        45deg,\n        #bfbfbf,\n        #bfbfbf 10px,\n        #b0b0b0 10px,\n        #b0b0b0 20px\n    );\n    border-radius: 15px;\n"])),275,383.4416666666667),Un=Object(U.a)(Hn.a)({borderRadius:"15px"}),Yn=function(e){var t=e.card,n=t.id,r=t.cardImage,a=Be(t.qoh),c=Object(u.a)(a,2),i=c[0],s=c[1];return Object(M.jsxs)(Wn,{children:[Object(M.jsx)(Gn,{children:Object(M.jsx)(Un,{src:r,size:"medium"})}),Object(M.jsxs)(Vn,{children:[i>0&&Object(M.jsxs)(Qn,{children:[Object(M.jsxs)(V.a,{color:"blue",image:!0,children:["Foil",Object(M.jsx)(V.a.Detail,{children:i})]}),Object(M.jsx)(We,{id:n,finish:"FOIL",round:!0,showMid:!1})]}),s>0&&Object(M.jsxs)(Qn,{children:[Object(M.jsxs)(V.a,{color:"blue",image:!0,children:["Nonfoil",Object(M.jsx)(V.a.Detail,{children:s})]}),Object(M.jsx)(We,{id:n,finish:"NONFOIL",round:!0,showMid:!1})]})]})]})},Jn=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get(L,{params:t});case 3:return n=e.sent,r=n.data,e.abrupt("return",r.map((function(e){return new re(e)})));case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),$n=n(389),Kn=n(432),Zn=n(416),Xn=n(399);var er=function(e){var t=e.label,n=e.name,r=e.value,a=e.onChange,c=e.options,i=Object(Ge.a)(e,["label","name","value","onChange","options"]);return Object(M.jsxs)($n.a,{variant:"outlined",size:"small",fullWidth:!0,children:[Object(M.jsx)(Kn.a,{children:t}),Object(M.jsx)(Zn.a,Object(_e.a)(Object(_e.a)({label:t,name:n,value:r,onChange:function(e){a(e.target.value)}},i),{},{children:c.map((function(e,t){return Object(M.jsx)(Xn.a,{value:e.value,children:e.text},"".concat(e.value,"-").concat(t))}))}))]})},tr=Object(U.a)("div")({display:"grid",gridGap:"20px",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",justifyItems:"center"}),nr={searchResults:[],searchTerm:"",selectedLocation:"ch1"},rr={searchTerm:"",selectedLocation:"ch1"},ar=[{key:"beaverton",text:"CH Beaverton",value:"ch1"},{key:"hillsboro",text:"CH Hillsboro",value:"ch2"}],cr=function(e){var t={};return e.searchTerm||(t.searchTerm="error"),t},ir=function(){var e=Object(r.useState)(nr),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),i=Object(u.a)(c,2),s=i[0],d=i[1],j=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.title,c=t.location,e.prev=1,e.next=4,Jn({title:r,location:c,matchInStock:!0});case 4:i=e.sent,a(Object(_e.a)(Object(_e.a)({},n),{},{searchResults:i})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.searchTerm,r=t.selectedLocation,e.next=3,j({title:n,location:r});case 3:d(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=Object(he.a)({initialValues:rr,validate:cr,onSubmit:b}),O=h.values,x=h.handleSubmit,p=h.setFieldValue,f=h.isSubmitting;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(lt.a,{container:!0,spacing:2,alignItems:"center",children:[Object(M.jsx)(lt.a,{item:!0,xs:12,md:4,children:Object(M.jsx)(Ct,{value:O.searchTerm,onChange:function(e){return p("searchTerm",e)}})}),Object(M.jsx)(lt.a,{item:!0,xs:12,md:4,children:Object(M.jsx)(er,{name:"storeLocation",value:O.selectedLocation,options:ar,onChange:function(e){return p("selectedLocation",e)}})}),Object(M.jsx)(lt.a,{item:!0,xs:12,md:4,children:Object(M.jsx)(Ye,{type:"submit",primary:!0,disabled:!O.searchTerm||f,onClick:function(){return x()},children:"Search"})})]}),Object(M.jsx)("br",{}),Object(M.jsx)(bn.a,{stackable:!0,children:Object(M.jsxs)(bn.a.Column,{children:[Object(M.jsxs)(G.a,{as:"h2",children:["Inventory Search",Object(M.jsx)(G.a.Subheader,{children:Object(M.jsx)("em",{children:"Card prices subject to change. Consult a Clubhouse employee for final estimates"})})]}),n.searchResults.length>0?Object(M.jsx)(tr,{children:n.searchResults.map((function(e){return Object(M.jsx)(Yn,{card:e},e.id)}))}):Object(M.jsx)(St,{icon:Object(M.jsx)(vt.a,{style:{fontSize:80}}),children:s?Object(M.jsx)("span",{children:"No cards found in stock"}):Object(M.jsx)("span",{children:"Search for a card"})})]})})]})},sr=n(250),or=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get(C,{headers:R()});case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();var lr,ur,dr,jr=function(e){var t=e.label,n=e.name,r=e.value,a=e.onChange,c=e.options,i=Object(Ge.a)(e,["label","name","value","onChange","options"]);return Object(M.jsxs)($n.a,{variant:"outlined",size:"small",fullWidth:!0,children:[Object(M.jsx)(Kn.a,{children:t}),Object(M.jsx)(Zn.a,Object(_e.a)(Object(_e.a)({label:t,name:n,multiple:!0,renderValue:function(e){return e.join(", ")},value:r,onChange:function(e){a(e.target.value)}},i),{},{children:c.map((function(e,t){return Object(M.jsx)(Xn.a,{value:e.value,children:e.text},"".concat(e.value,"-").concat(t))}))}))]})},br=[{key:"qw",value:"",text:"None"},{key:"we",value:"standard",text:"Standard"},{key:"er",value:"future",text:"Future"},{key:"rt",value:"historic",text:"Historic"},{key:"ty",value:"pioneer",text:"Pioneer"},{key:"yu",value:"modern",text:"Modern"},{key:"ui",value:"legacy",text:"Legacy"},{key:"io",value:"pauper",text:"Pauper"},{key:"op",value:"vintage",text:"Vintage"},{key:"as",value:"penny",text:"Penny"},{key:"sd",value:"commander",text:"Commander"},{key:"df",value:"brawl",text:"Brawl"},{key:"fg",value:"duel",text:"Duel"},{key:"gh",value:"oldschool",text:"Oldschool"}],hr=[{key:"gte",value:"gte",text:">="},{key:"lte",value:"lte",text:"<="},{key:"gtx",value:"gt",text:">"},{key:"ltx",value:"lt",text:"<"}],Or=[{key:"nonfoil_foil",value:"",text:"None"},{key:"nonfoil",value:"NONFOIL",text:"Nonfoil"},{key:"foil",value:"FOIL",text:"Foil"}],xr=[{key:"pricesort",value:"price",text:"Price"},{key:"alphasort",value:"name",text:"Card Name"}],pr=[{key:"descdirsort",value:1,text:"Ascending"},{key:"ascdirsort",value:-1,text:"Descending"}],fr=[{key:"w",value:"White",text:"White"},{key:"u",value:"Blue",text:"Blue"},{key:"b",value:"Black",text:"Black"},{key:"r",value:"Red",text:"Red"},{key:"g",value:"Green",text:"Green"}],mr=[{key:"all",value:"",text:"None"},{key:"colorless",value:"colorless",text:"Colorless only"},{key:"mono",value:"mono",text:"Monocolor only"},{key:"multi",value:"multi",text:"Multicolor only"}],vr=[{key:"na",value:"",text:"None"},{key:"artifact",value:"Artifact",text:"Artifact"},{key:"creature",value:"Creature",text:"Creature"},{key:"enchantment",value:"Enchantment",text:"Enchantment"},{key:"instant",value:"Instant",text:"Instant"},{key:"land",value:"Land",text:"Land"},{key:"planeswalker",value:"Planeswalker",text:"Planeswalker"},{key:"sorcery",value:"Sorcery",text:"Sorcery"},{key:"tribal",value:"Tribal",text:"Tribal"}],gr=[{key:"na",value:"",text:"None"},{key:"borderless",value:"borderless",text:"Borderless"},{key:"extendedArt",value:"extendedArt",text:"Extended Art"},{key:"showcase",value:"showcase",text:"Showcase"}],yr={title:"",setName:"",format:"",price:0,priceOperator:"gte",finish:"",sortBy:"price",colorsArray:[],sortByDirection:-1,colorSpecificity:"",typeLine:"",frame:""},Cr=function(){return{}},wr=Object($e.a)((function(e){return{root:{padding:(0,e.spacing)(2)}}}))(it.a),Sr=function(e){var t=e.doSubmit,n=Object(r.useState)([]),a=Object(u.a)(n,2),c=a[0],i=a[1],s=function(){var e=Object(l.a)(o.a.mark((function e(n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(sr.a)(r),e.prev=1,e.next=4,t({title:n.title||void 0,setName:n.setName||void 0,format:n.format||void 0,price:Number(n.price)||void 0,finish:n.finish||void 0,colors:n.colorsArray.length>0?n.colorsArray.map((function(e){return{White:"W",Blue:"U",Black:"B",Red:"R",Green:"G"}[e]})).sort().join(""):void 0,colorSpecificity:n.colorSpecificity||void 0,type:n.typeLine||void 0,frame:n.frame||void 0,sortByDirection:n.sortByDirection,priceOperator:n.priceOperator,sortBy:n.sortBy},1);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,or();case 2:t=e.sent,n=t.map((function(e,t){return{key:"set".concat(t),value:e,text:e}})),r=[{key:"snull",value:"",text:"None"}].concat(Object(X.a)(n)),i(r);case 6:case"end":return e.stop()}}),e)})))()}),[]);var d=Object(he.a)({initialValues:yr,validate:Cr,onSubmit:s}),j=d.handleChange,b=d.setFieldValue,h=d.handleSubmit,O=d.values;return Object(M.jsxs)(wr,{variant:"outlined",children:[Object(M.jsx)(dt,{children:"Filters"}),Object(M.jsxs)(lt.a,{container:!0,spacing:2,children:[Object(M.jsx)(lt.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)(Ct,{value:O.title,onChange:function(e){return b("title",e)}})}),Object(M.jsx)(lt.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)(er,{name:"format",label:"Format",options:br,value:O.format,onChange:function(e){return b("format",e)}})}),Object(M.jsx)(lt.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)(er,{name:"setName",label:"Edition",options:c,value:O.setName,onChange:function(e){return b("setName",e)}})}),Object(M.jsx)(lt.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)(er,{name:"finish",label:"Finish",options:Or,value:O.finish,onChange:function(e){return b("finish",e)}})}),Object(M.jsx)(lt.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)(jr,{name:"colorsArray",label:"Colors",options:fr,value:O.colorsArray,onChange:function(e){return b("colorsArray",e)}})}),Object(M.jsx)(lt.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)(er,{name:"colorSpecificity",label:"Color specificity",options:mr,value:O.colorSpecificity,onChange:function(e){return b("colorSpecificity",e)}})}),Object(M.jsx)(lt.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)(er,{name:"typeLine",label:"Type Line",options:vr,value:O.typeLine,onChange:function(e){return b("typeLine",e)}})}),Object(M.jsx)(lt.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)(er,{name:"frame",label:"Frame Effects",options:gr,value:O.frame,onChange:function(e){return b("frame",e)}})}),Object(M.jsx)(lt.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)(er,{name:"priceOperator",label:"Price operator",options:hr,value:O.priceOperator,onChange:function(e){return b("priceOperator",e)}})}),Object(M.jsx)(lt.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)($n.a,{fullWidth:!0,children:Object(M.jsx)(ft.a,{label:"Price filter",variant:"outlined",size:"small",placeholder:"Enter a price",name:"price",type:"number",onChange:j})})})]}),Object(M.jsx)("br",{}),Object(M.jsx)(dt,{children:"Sort & Order"}),Object(M.jsxs)(lt.a,{container:!0,spacing:2,children:[Object(M.jsx)(lt.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)(er,{name:"sortBy",label:"Sort by",options:xr,value:O.sortBy,onChange:function(e){return b("sortBy",e)}})}),Object(M.jsx)(lt.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)(er,{name:"sortByDirection",label:"Order",options:pr,value:O.sortByDirection.toString(),onChange:function(e){return b("sortByDirection",e)}})})]}),Object(M.jsx)("br",{}),Object(M.jsx)(Ye,{type:"submit",onClick:function(){return h()},primary:!0,children:"Submit"})]})},kr=n(251),Ir=n.n(kr),Lr={NM:"Near Mint",LP:"Light Play",MP:"Moderate Play",HP:"Heavy Play"},Nr=function(e){var t=e.card,n=t.finishCondition,r=t.quantityInStock,a=t.name,c=t.set_name,i=t.price,s=t.set,o=t.rarity,l=t.image_uri,u=n.split("_")[0],d=n.split("_")[1];return Object(M.jsxs)(Ln.a,{children:[Object(M.jsxs)(Nn.a,{children:[Object(M.jsx)(Wt,{cardImage:l,children:Object(M.jsxs)("span",{style:{cursor:"help"},children:[a," "]})}),"FOIL"===u&&Object(M.jsx)(Ir.a,{fontSize:"small",color:"primary",style:{verticalAlign:"middle"}})]}),Object(M.jsxs)(Nn.a,{children:[Object(M.jsx)(Qe,{set:s,rarity:o}),c]}),Object(M.jsx)(Nn.a,{children:Lr[d]}),Object(M.jsx)(Nn.a,{children:r}),Object(M.jsx)(Nn.a,{children:Object(M.jsx)(At,{num:i})})]})},_r=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(_e.a)(Object(_e.a)({},t),{},{page:n}),e.next=3,h.a.get(y,{params:r,headers:R()});case 3:return a=e.sent,c=a.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Fr=n(400),Pr=n(337),Tr=n(252),Rr=n.n(Tr),Br=n(418),Er=Object($e.a)((function(e){return{root:{color:e.palette.common.white}}}))(jt.a),Mr=function(){var e=Object(r.useState)({cards:[],count:0,currentPage:0,numPages:0,isLoading:!1,cachedFilters:yr,searchTouched:!1}),t=Object(u.a)(e,2),n=t[0],a=t[1],c=function(){var e=Object(l.a)(o.a.mark((function e(t,r){var c,i,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(Object(_e.a)(Object(_e.a)({},n),{},{isLoading:!0})),e.next=4,_r(t,r);case 4:c=e.sent,i=c.cards,s=c.total,l=Math.ceil(s/100),a(Object(_e.a)(Object(_e.a)({},n),{},{cards:i,count:s,isLoading:!1,numPages:l,currentPage:r,searchTouched:!0,cachedFilters:t})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),i=n.cards,s=n.isLoading,d=n.currentPage,j=n.numPages,b=n.count,h=n.cachedFilters;return Object(M.jsxs)(Fr.a,{children:[Object(M.jsx)(Pr.a,{open:s,children:Object(M.jsx)(Ke.a,{display:"flex",justifyContent:"center",alignItems:"center",height:1,children:Object(M.jsx)(Er,{})})}),Object(M.jsx)(Ke.a,{pb:2,children:Object(M.jsxs)(Ne.a,{children:[Object(M.jsx)(Rr.a,{fontSize:"small",color:"primary",style:{verticalAlign:"middle"}}),"Prices from this table are updated weekly and are subject to fluctuations. Consult 'New Sale' or 'Manage Inventory' for up-to-date values"]})}),Object(M.jsx)(Sr,{doSubmit:c}),Object(M.jsx)("br",{}),!!i.length&&Object(M.jsxs)(Sn.a,{component:it.a,variant:"outlined",children:[Object(M.jsxs)(Ke.a,{p:2,display:"flex",justifyContent:"space-between",children:[Object(M.jsx)(Br.a,{count:j,page:d,onChange:function(e,t){return c(h,t)},color:"primary"}),Object(M.jsxs)(Ne.a,{children:["Total results: ",b]})]}),Object(M.jsxs)(kn.a,{size:"small",children:[Object(M.jsx)(In.a,{children:Object(M.jsxs)(Ln.a,{children:[Object(M.jsx)(Nn.a,{children:"Name"}),Object(M.jsx)(Nn.a,{children:"Edition"}),Object(M.jsx)(Nn.a,{children:"Condition"}),Object(M.jsx)(Nn.a,{children:"Quantity"}),Object(M.jsx)(Nn.a,{children:"Price Estimate"})]})}),Object(M.jsx)(_n.a,{children:i.map((function(e){return Object(M.jsx)(Nr,{card:e},"".concat(e._id,"-").concat(e.finishCondition))}))})]})]}),!i.length&&Object(M.jsx)(St,{icon:Object(M.jsx)(vt.a,{style:{fontSize:80}}),children:n.searchTouched?"No results found":"Use the filters to browse inventory"})]})},Dr=n(428),zr=U.a.div(lr||(lr=Object(Oe.a)(["\n    margin-top: 15px;\n    display: flex;\n    justify-content: center;\n"]))),qr=Object(U.a)(Dr.a)(ur||(ur=Object(Oe.a)(["\n    width: 400px;\n    padding: 25px 25px 25px 25px !important;\n"]))),Ar={username:"",password:"",location:null},Hr=[{key:"beaverton",text:"Beaverton",value:"ch1"},{key:"hillsboro",text:"Hillsboro",value:"ch2"}],Wr=function(e){var t=e.username,n=e.password,r=e.location,a={};return t||(a.username="Required"),n||(a.password="Required"),r||(a.location="Please select a location"),a},Vr=function(){var e=H(),t=e.isLoggedIn,n=e.handleLogin,r=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.username,a=t.password,c=t.location){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n(r,a,c);case 5:(i=e.sent).token?me({color:"green",header:"Success",message:"Enjoy your time here!"}):me({color:"red",header:"Error",message:i});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a=Object(he.a)({initialValues:Ar,validate:Wr,onSubmit:r,validateOnChange:!1}),c=a.handleChange,i=a.handleSubmit,s=a.setFieldValue,u=a.errors,j=a.isSubmitting;return t()?Object(M.jsx)(d.b,{to:"/manage-inventory"}):Object(M.jsx)(zr,{children:Object(M.jsx)(qr,{raised:!0,loading:j,children:Object(M.jsxs)(oe.a,{children:[Object(M.jsxs)(oe.a.Field,{children:[Object(M.jsx)("label",{children:"Username"}),Object(M.jsx)(oe.a.Input,{error:u.username,onChange:c,name:"username"})]}),Object(M.jsxs)(oe.a.Field,{children:[Object(M.jsx)("label",{children:"Password"}),Object(M.jsx)(oe.a.Input,{error:u.password,type:"password",onChange:c,name:"password"})]}),Object(M.jsx)(Rt,{error:u.location,label:"Location",name:"location",placeholder:"Select location",options:Hr,onChange:function(e){s("location",e)}}),Object(M.jsx)(de.a,{primary:!0,fluid:!0,type:"submit",onClick:function(){return i()},children:"Submit"})]})})})},Qr=n(253),Gr=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cards,r=t.customerName,a=t.customerContact,e.prev=1,e.next=4,h.a.post(g,{cards:n,customerName:r,customerContact:a},{headers:R()});case 4:return c=e.sent,i=c.data,e.abrupt("return",i);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();!function(e){e.Cash="CASH",e.Credit="CREDIT"}(dr||(dr={}));var Ur={CASH:dr.Cash,CREDIT:dr.Credit},Yr={searchResults:[],receivingList:[],handleSearchSelect:function(){return null},addToList:function(){return null},removeFromList:function(){return null},activeTradeType:function(){return null},selectAll:function(){return null},commitToInventory:function(){return null},resetSearchResults:function(){return null}},Jr=Object(r.createContext)(Yr),$r=function(e){var t=e.children,n=Object(r.useState)([]),a=Object(u.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)([]),d=Object(u.a)(s,2),j=d[0],b=d[1],h=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae({cardName:t,inStockOnly:!1});case 2:n=e.sent,i(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=j.map((function(e){return{quantity:1,id:e.id,name:e.name,set_name:e.set_name,finishCondition:e.finishCondition,set:e.set,creditPrice:e.creditPrice,cashPrice:e.cashPrice,marketPrice:e.marketPrice,tradeType:e.tradeType}})),e.next=4,Gr({cards:r,customerName:t,customerContact:n});case 4:i([]),b([]),me({color:"green",header:"".concat(j.length," cards were added to inventory!"),duration:2e3}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),me({color:"red",header:"Error",message:e.t0.response.data||"Error receiving cards",duration:2e3});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(M.jsx)(Jr.Provider,{value:{searchResults:c,receivingList:j,handleSearchSelect:h,addToList:function(e,t,n){var r=n.cashPrice,a=n.marketPrice,c=n.creditPrice,i=n.finishCondition,s=Object(X.a)(j),o=Object(X.a)(new Array(e)).map((function(){return Object(_e.a)(Object(_e.a)({},t),{},{cashPrice:r,marketPrice:a,creditPrice:c,finishCondition:i,tradeType:0===c?dr.Cash:dr.Credit,uuid_key:Object(Qr.v4)()})}));b(Object(ht.sortBy)([].concat(Object(X.a)(s),Object(X.a)(o)),"name"))},removeFromList:function(e){var t=Object(X.a)(j);b(t.filter((function(t){return t.uuid_key!==e})))},activeTradeType:function(e,t){b(Object(X.a)(j).map((function(n){return n.uuid_key===e&&(n.tradeType=Ur[t]),n})))},selectAll:function(e){var t=Ur.CASH,n=Ur.CREDIT,r=Object(X.a)(j).map((function(r){return(e===t&&null!==r.cashPrice&&r.cashPrice>0||e===n&&null!==r.creditPrice&&r.creditPrice>0)&&(r.tradeType=e),r}));b(r)},commitToInventory:O,resetSearchResults:function(){return i([])}},children:t})},Kr=function(e){var t=e.quantity,n=e.cashPrice,r=e.creditPrice,a=e.marketPrice,c=e.selectedFinish,i=e.selectedCondition,s={};return t||(s.quantity="error"),n||r||(s.cashPrice="error",s.creditPrice="error"),n&&(a||(s.marketPrice="error")),c||(s.selectedFinish="error"),i||(s.selectedCondition="error"),s},Zr=function(e){var t=e.card,n={quantity:1,cashPrice:0,creditPrice:0,marketPrice:0,selectedCondition:"NM",selectedFinish:Ie(t.nonfoil,t.foil).selectedFinish},a=Ie(t.nonfoil,t.foil).finishDisabled,c=Object(r.useContext)(Jr).addToList,i=function(e){return e.target.select()},s=Object(he.a)({initialValues:n,validate:Kr,onSubmit:function(e,n){var r=n.resetForm;!function(e){var n=e.quantity,r=e.cashPrice,a=e.creditPrice,i=e.marketPrice,s=e.selectedFinish,o=e.selectedCondition;if(!n)throw new Error("Quantity is missing");c(n,t,{cashPrice:r||0,marketPrice:i||0,creditPrice:a||0,finishCondition:"".concat(s,"_").concat(o)}),me({color:"green",header:"".concat(n,"x ").concat(t.name," added to buylist!"),duration:2e3}),be()("#searchBar").focus().select()}(e),r()},validateOnMount:!0}),o=s.handleSubmit,l=s.setFieldValue,u=s.values,d=s.isValid,j=s.handleChange,b=t.cardImage;return Object(M.jsx)(it.a,{variant:"outlined",children:Object(M.jsx)(Ke.a,{p:2,children:Object(M.jsx)(se.a.Group,{divided:!0,children:Object(M.jsxs)(se.a,{children:[Object(M.jsx)(se.a.Image,{size:"small",children:Object(M.jsx)(we,{image:b})}),Object(M.jsxs)(se.a.Content,{children:[Object(M.jsx)(at,{card:t,selectedFinish:u.selectedFinish,showMid:!0}),Object(M.jsx)(se.a.Description,{children:Object(M.jsxs)(oe.a,{children:[Object(M.jsxs)(oe.a.Group,{widths:"equal",children:[Object(M.jsx)(oe.a.Field,{fluid:!0,control:le.a,type:"number",label:"Quantity",value:u.quantity,onChange:function(e,t){var n=t.value,r=parseInt(n);l("quantity",Math.min(r<0?0:r,50))},onFocus:function(e){return e.target.select()}}),Object(M.jsx)(oe.a.Field,{fluid:!0,label:"Credit Price",name:"creditPrice",control:le.a,type:"number",value:u.creditPrice,onChange:j,onFocus:i,step:"0.25"}),Object(M.jsx)(oe.a.Field,{fluid:!0,label:"Cash Price",name:"cashPrice",control:le.a,type:"number",value:u.cashPrice,onChange:j,onFocus:i,step:"0.25"}),Object(M.jsx)(oe.a.Field,{fluid:!0,label:"Market Price",name:"marketPrice",control:le.a,type:"number",value:u.marketPrice,onChange:j,onFocus:i,step:"0.25",disabled:!u.cashPrice})]}),Object(M.jsxs)(oe.a.Group,{widths:"equal",children:[Object(M.jsx)(Rt,{label:"Finish",name:"selectedFinish",options:Se,defaultValue:n.selectedFinish,onChange:function(e){l("selectedFinish",e)},disabled:a}),Object(M.jsx)(Rt,{label:"Condition",name:"selectedCondition",options:ke,defaultValue:n.selectedCondition,onChange:function(e){l("selectedCondition",e)}}),Object(M.jsx)(oe.a.Button,{type:"submit",label:"Add to List?",control:de.a,primary:!0,disabled:!d,onClick:function(){return o()},children:"Add"})]})]})})]})]})})})})},Xr=n(190),ea=n.n(Xr),ta=n(254),na=n.n(ta),ra="CASH",aa="CREDIT",ca=function(e){var t=e.card,n=t.display_name,a=t.set,c=t.rarity,i=t.cashPrice,s=t.creditPrice,o=t.finishCondition,l=t.uuid_key,u=t.tradeType,d=t.cardImage,j=ra,b=aa,h=Object(r.useContext)(Jr),O=h.removeFromList,x=h.activeTradeType;return Object(M.jsx)(Vt.a,{children:Object(M.jsxs)(lt.a,{container:!0,alignItems:"center",justify:"space-between",children:[Object(M.jsxs)(lt.a,{item:!0,children:[Object(M.jsx)(Wt,{cardImage:d,children:Object(M.jsxs)(Ke.a,{display:"flex",alignItems:"center",children:[Object(M.jsx)(Ne.a,{variant:"h6",style:{cursor:"help"},children:n}),Object(M.jsx)(Qe,{set:a,rarity:c}),Object(M.jsx)(qe,{size:"small",label:a.toUpperCase()})]})}),o&&Object(M.jsxs)("span",{children:[o.split("_")[1]," "," | ",o.split("_")[0]]}),Object(M.jsxs)("div",{children:[Object(M.jsxs)("span",{style:{whiteSpace:"nowrap"},children:["Cash:"," ",Object(M.jsx)("b",{children:Object(M.jsx)(At,{num:i||0})})]})," \u2022 ",Object(M.jsxs)("span",{style:{whiteSpace:"nowrap"},children:["Credit:"," ",Object(M.jsx)("b",{children:Object(M.jsx)(At,{num:s||0})})]})]})]}),Object(M.jsxs)(lt.a,{item:!0,children:[Object(M.jsx)(Qt.a,{color:u===j?"primary":void 0,onClick:function(){return x(l,dr.Cash)},disabled:0===i,children:Object(M.jsx)(ea.a,{})}),Object(M.jsx)(Qt.a,{color:u===b?"primary":void 0,onClick:function(){return x(l,dr.Credit)},disabled:0===s,children:Object(M.jsx)(na.a,{})}),Object(M.jsx)(Qt.a,{onClick:function(){return O(l)},color:"secondary",children:Object(M.jsx)(Ut.a,{})})]})]})})},ia=function(e){var t=e.cards;return Object(M.jsx)(M.Fragment,{children:t.length>0&&Object(M.jsx)(sn.a,{component:it.a,variant:"outlined",children:t.map((function(e,t,n){return Object(M.jsxs)(r.Fragment,{children:[Object(M.jsx)(ca,{card:e}),t!==n.length-1&&Object(M.jsx)(on.a,{})]})}))})})},sa=n(401),oa=function(e){var t=e.receivingList,n=Ot.a.chain(t).filter((function(e){return"CASH"===e.tradeType})).map((function(e){return Object(_e.a)(Object(_e.a)({},e),{},{temp_uuid:"".concat(e.id,"-").concat(e.cashPrice,"-").concat(e.marketPrice,"-").concat(e.finishCondition)})})).groupBy("temp_uuid").mapValues((function(e){return e.length})).value(),r=Ot.a.chain(t).filter((function(e){return"CASH"===e.tradeType})).map((function(e){return Object(_e.a)(Object(_e.a)({},e),{},{temp_uuid:"".concat(e.id,"-").concat(e.cashPrice,"-").concat(e.marketPrice,"-").concat(e.finishCondition)})})).uniqBy("temp_uuid").value().map((function(e){return Object(_e.a)(Object(_e.a)({},e),{},{tradeQty:n[e.temp_uuid]})})),c=Ot.a.chain(t).filter((function(e){return"CASH"===e.tradeType})).sumBy((function(e){return e.cashPrice||0})).value();return Object(M.jsx)(a.a.Fragment,{children:Object(M.jsx)("div",{id:"cash-report",children:Object(M.jsxs)(kn.a,{children:[Object(M.jsxs)(In.a,{children:[Object(M.jsx)(Ln.a,{children:Object(M.jsx)(Nn.a,{colSpan:6,children:"Employee Name:"})}),Object(M.jsxs)(Ln.a,{children:[Object(M.jsx)(Nn.a,{children:"Card Name"}),Object(M.jsx)(Nn.a,{children:"Market Value"}),Object(M.jsx)(Nn.a,{children:"Condition"}),Object(M.jsx)(Nn.a,{children:"Quantity"}),Object(M.jsx)(Nn.a,{children:"Cash Offer"}),Object(M.jsx)(Nn.a,{children:"Cash Out"})]})]}),Object(M.jsx)(_n.a,{children:r.map((function(e){return Object(M.jsxs)(Ln.a,{children:[Object(M.jsx)(Nn.a,{children:e.name}),Object(M.jsx)(Nn.a,{children:Object(M.jsx)(At,{num:e.marketPrice})}),Object(M.jsx)(Nn.a,{children:e.finishCondition}),Object(M.jsx)(Nn.a,{children:e.tradeQty}),Object(M.jsx)(Nn.a,{children:Object(M.jsx)(At,{num:e.cashPrice})}),Object(M.jsx)(Nn.a,{children:Object(M.jsx)(At,{num:e.tradeQty*(e.cashPrice||0)})})]},e.temp_uuid)}))}),Object(M.jsx)(sa.a,{children:Object(M.jsxs)(Nn.a,{colSpan:6,children:["Total: ",Object(M.jsx)(At,{num:c})]})})]})})})};var la,ua,da,ja,ba,ha,Oa,xa,pa,fa=n(420),ma={customerName:"",customerContact:""},va=function(e){var t=e.customerName,n=e.customerContact,r={};return t||(r.customerName="Required"),t.length<3&&(r.customerName="Min 3 characters"),t.length>50&&(r.customerName="Max 50 characters"),n.length>50&&(r.customerContact="Max 50 characters"),r},ga=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),i=Object(u.a)(c,2),s=i[0],d=i[1],j=Object(r.useContext)(Jr),b=j.receivingList,h=j.commitToInventory,O=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.customerName,r=t.customerContact,a(!0),e.next=4,h(n,r||null);case 4:a(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=Object(he.a)({initialValues:ma,validate:va,onSubmit:O}),p=x.handleChange,f=x.handleSubmit,m=x.errors,v=Jt(b.filter((function(e){return e.tradeType===dr.Cash})).map((function(e){return e.cashPrice||0}))),g=Jt(b.filter((function(e){return e.tradeType===dr.Credit})).map((function(e){return e.creditPrice||0})));return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(de.a,{fluid:!0,color:"blue",disabled:0===b.length,onClick:function(){return d(!0)},children:"Commit to inventory"}),d&&Object(M.jsxs)(tn.a,{closeOnDimmerClick:!1,open:s,onClose:function(){return d(!1)},children:[Object(M.jsx)(tn.a.Header,{children:"Receiving confirmation"}),Object(M.jsxs)(tn.a.Content,{scrolling:!0,children:[Object(M.jsx)(G.a,{as:"h5",children:"Committing the following cards to inventory:"}),Object(M.jsx)(fa.a,{children:b.map((function(e){return Object(M.jsx)(fa.a.Item,{children:"\u25cf ".concat(e.name," | ").concat(e.set_name," (\n                                        ").concat(e.set.toUpperCase(),")")},e.uuid_key)}))}),Object(M.jsx)(G.a,{as:"h5",children:"The customer is owed:"}),Object(M.jsxs)(fa.a,{children:[v>0?Object(M.jsxs)(fa.a.Item,{children:["\u25cf ",Object(M.jsx)(At,{num:v})," in cold, hard cash"]}):null,g>0?Object(M.jsxs)(fa.a.Item,{children:["\u25cf ",Object(M.jsx)(At,{num:g})," in store credit"]}):null]})]}),Object(M.jsx)(tn.a.Content,{children:Object(M.jsx)(oe.a,{children:Object(M.jsxs)(oe.a.Group,{widths:"equal",children:[Object(M.jsxs)(oe.a.Field,{children:[Object(M.jsx)("label",{children:"Customer name"}),Object(M.jsx)(oe.a.Input,{onChange:p,name:"customerName",error:m.customerName})]}),Object(M.jsxs)(oe.a.Field,{children:[Object(M.jsx)("label",{children:"Customer contact (optional)"}),Object(M.jsx)(oe.a.Input,{onChange:p,name:"customerContact",error:m.customerContact})]})]})})}),Object(M.jsxs)(tn.a.Actions,{children:[Object(M.jsx)(de.a,{onClick:function(){return d(!1)},children:"Cancel"}),Object(M.jsx)(de.a,{color:"blue",type:"submit",loading:n,disabled:n,onClick:function(){return f()},children:"Submit"})]})]})]})},ya=function(){var e=dr.Cash,t=dr.Credit,n=Object(r.useState)(!1),a=Object(u.a)(n,2),c=a[0],i=a[1],s=Object(r.useContext)(Jr),o=s.receivingList,l=s.selectAll,d=Jt(o.filter((function(t){return t.tradeType===e})).map((function(e){return e.cashPrice||0}))),j=Jt(o.filter((function(e){return e.tradeType===t})).map((function(e){return e.creditPrice||0})));return Object(M.jsx)(it.a,{variant:"outlined",children:Object(M.jsx)(Ke.a,{p:2,children:Object(M.jsxs)(lt.a,{container:!0,spacing:2,children:[Object(M.jsx)(lt.a,{item:!0,xs:12,justify:"space-between",children:Object(M.jsxs)(de.a.Group,{fluid:!0,children:[Object(M.jsx)(de.a,{id:"select-all-cash",onClick:function(){return l(dr.Cash)},children:"Select all cash"}),Object(M.jsx)(de.a.Or,{}),Object(M.jsx)(de.a,{id:"select-all-credit",onClick:function(){return l(dr.Credit)},children:"Select all credit"})]})}),Object(M.jsx)(lt.a,{item:!0,xs:12,children:Object(M.jsxs)(tn.a,{open:c,trigger:Object(M.jsx)(de.a,{floated:"right",color:d>0?"green":void 0,disabled:0===d,onClick:function(){return i(!0)},children:"Generate cash report"}),children:[Object(M.jsx)(tn.a.Content,{children:Object(M.jsx)(oa,{receivingList:o})}),Object(M.jsxs)(tn.a.Actions,{children:[Object(M.jsx)(de.a,{onClick:function(){i(!1),function(){var e=document.getElementById("cash-report"),t=window.open("","_blank");t&&(t.document.open(),t.document.write("<html>"),t.document.write("<head>"),t.document.write("<title>Cash Report</title>"),t.document.write("<style>".concat("\n    body {\n        font-family: 'helvetica neue', helvetica, arial, sans-serif;\n    }\n\n    table {\n        table-layout: fixed;\n        width: 100%;\n        border-collapse: collapse;\n        border: 1px solid gray;\n        text-align: left;\n    }\n\n    thead th:nth-child(1) {\n        width: 30%;\n    }\n\n    thead th:nth-child(2) {\n        width: 20%;\n    }\n\n    thead th:nth-child(3) {\n        width: 15%;\n    }\n\n    thead th:nth-child(4) {\n        width: 35%;\n    }\n\n    th, td {\n        border: 1px solid #ddd;\n        padding: 10px;\n    }\n\n    tfoot {\n        text-align: right !important;\n    }\n","</style>")),t.document.write("</head>"),t.document.write('<body onload="window.print()">'),t.document.write("".concat(e.innerHTML)),t.document.write("</body>"),t.document.write("</html>"),t.document.close())}()},color:"blue",children:"Print Report"}),Object(M.jsx)(de.a,{onClick:function(){return i(!1)},children:"Cancel"})]})]})}),Object(M.jsx)(lt.a,{item:!0,xs:12,children:Object(M.jsxs)(Ke.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(M.jsx)(Ne.a,{children:"CASH DUE"}),Object(M.jsx)(Ne.a,{variant:"h6",children:Object(M.jsx)("b",{children:Object(M.jsx)(At,{num:d})})})]})}),Object(M.jsx)(lt.a,{item:!0,xs:12,children:Object(M.jsxs)(Ke.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(M.jsx)(Ne.a,{children:"CREDIT DUE"}),Object(M.jsx)(Ne.a,{variant:"h6",children:Object(M.jsx)("b",{children:Object(M.jsx)(At,{num:j})})})]})}),Object(M.jsx)(lt.a,{item:!0,xs:12,children:Object(M.jsx)(ga,{})})]})})})},Ca=function(){var e=Cn(!1).setShowPrompt,t=Object(r.useState)(""),n=Object(u.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(!1),s=Object(u.a)(i,2),j=s[0],b=s[1],h=Object(r.useContext)(Jr),O=h.searchResults,x=h.receivingList,p=h.handleSearchSelect,f=h.resetSearchResults;return Object(r.useEffect)((function(){return function(){return f()}}),[]),Object(r.useEffect)((function(){x.length>0?e(!0):e(!1)}),[x]),Object(r.useEffect)((function(){a&&Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,p(a);case 3:b(!1);case 4:case"end":return e.stop()}}),e)})))()}),[a]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(d.a,{message:"You have items in your list. Are you sure you wish to leave?",when:x.length>0}),Object(M.jsx)(lt.a,{container:!0,children:Object(M.jsx)(lt.a,{item:!0,xs:12,md:4,children:Object(M.jsx)(Ct,{value:a,onChange:function(e){return c(e)}})})}),Object(M.jsx)("br",{}),Object(M.jsxs)(lt.a,{container:!0,spacing:2,children:[Object(M.jsxs)(lt.a,{item:!0,xs:12,lg:8,children:[Object(M.jsxs)(lt.a,{container:!0,justify:"space-between",children:[Object(M.jsx)(ut,{children:"Card Search"}),O.length>0&&Object(M.jsx)(Z,{searchResults:O,title:O[0].name})]}),Object(M.jsx)("br",{}),!j&&!O.length&&Object(M.jsx)(St,{icon:Object(M.jsx)(vt.a,{style:{fontSize:80}}),children:Object(M.jsx)("em",{children:'"So many cards, so little time."'})}),j?Object(M.jsx)(bt,{}):Object(M.jsx)(lt.a,{container:!0,spacing:2,children:O.map((function(e){return Object(M.jsx)(lt.a,{item:!0,xs:12,children:Object(M.jsx)(Zr,{card:e})},e.id)}))})]}),Object(M.jsxs)(lt.a,{item:!0,xs:12,lg:4,children:[Object(M.jsxs)(lt.a,{container:!0,justify:"space-between",children:[Object(M.jsx)(ut,{children:"Buylist"}),Object(M.jsx)(vn,{listLength:x.length})]}),Object(M.jsx)("br",{}),!x.length&&Object(M.jsx)(St,{icon:Object(M.jsx)(vt.a,{style:{fontSize:80}}),children:Object(M.jsx)("em",{children:'"If you receive it, they will come."'})}),Object(M.jsx)(ia,{cards:x}),Object(M.jsx)("br",{}),x.length>0&&Object(M.jsx)(ya,{})]})]})]})},wa=function(e){var t=e.children,n=H(),r=n.currentUser,a=n.currentLocation,c=n.authToken;return r&&a&&c?Object(M.jsx)(M.Fragment,{children:t}):Object(M.jsx)(d.b,{to:"/"})},Sa=function(e){var t=e.children,n=Object(Ge.a)(e,["children"]);return Object(M.jsx)(d.c,Object(_e.a)(Object(_e.a)({},n),{},{children:Object(M.jsx)(wa,{children:t})}))},ka=n(35),Ia=n.p+"static/media/clubhouse_products.e622049f.png",La=n.p+"static/media/tables.451be904.jpg",Na=n.p+"static/media/learn_to_play.91a17850.jpg",_a=n.p+"static/media/ch2.f55f010a.jpg",Fa="#ffffff",Pa={light:"#99aab5",main:"#2c2f33",dark:"#23272a"},Ta="13, 49, 69,",Ra="@media only screen and (min-width: 769px)",Ba="@media only screen and (max-width: 768px)",Ea=Object(U.a)("div")({width:"100%",height:500}),Ma=Object(U.a)("div")({marginTop:52}),Da=U.a.div(la||(la=Object(Oe.a)(["\n    background: url(",");\n    background-size: cover;\n    height: 100%;\n    width: 100%;\n    border-radius: ",";\n"])),(function(e){return e.src}),(function(e){return e.rounded?"".concat(7,"px"):"0px"})),za=Object(U.a)("div")({width:"100%",height:350,borderRadius:7}),qa=Object(U.a)("div")({backgroundImage:"linear-gradient(\n        to top,\n        rgba(".concat(Ta," 0.9),\n        rgba(").concat(Ta," 0.85),\n        rgba(").concat(Ta," 0.70),\n        rgba(").concat(Ta," 0.60),\n        rgba(255, 255, 255, 0)\n    )"),height:"100%",width:"100%"}),Aa=Object(U.a)("div")({backgroundColor:"rgba(".concat(Ta," 0.85)"),height:"100%",width:"100%",borderRadius:7}),Ha=Object(U.a)("h1")((ua={color:Fa,textAlign:"center"},Object(ve.a)(ua,Ba,{fontSize:40}),Object(ve.a)(ua,Ra,{fontSize:50}),ua)),Wa=U.a.h1(da||(da=Object(Oe.a)(["\n    color: ",";\n"])),(function(e){return e.inverted?Fa:Pa.main})),Va=Object(U.a)("h2")({color:Fa,textAlign:"center"}),Qa=Object(U.a)("div")({color:Fa,fontSize:18}),Ga=Object(U.a)("div")({display:"flex",height:"inherit",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:20}),Ua=Object(U.a)("div")((ja={display:"grid",gridGap:60},Object(ve.a)(ja,Ba,{gridTemplateRows:"1fr 1fr 1fr"}),Object(ve.a)(ja,Ra,{gridTemplateColumns:"1fr 1fr 1fr"}),ja)),Ya=Object(U.a)("div")((ba={display:"grid",gridGap:20},Object(ve.a)(ba,Ba,{gridTemplateRows:"1fr 1fr"}),Object(ve.a)(ba,Ra,{gridTemplateColumns:"1fr 1fr"}),ba)),Ja=Object(U.a)("div")({padding:40,display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",height:"100%"}),$a=Object(U.a)("div")({padding:20}),Ka=U.a.div(ha||(ha=Object(Oe.a)(["\n    color: ",";\n    font-size: 18px;\n"])),(function(e){return e.inverted?Fa:Pa.main})),Za=Object(U.a)("div")((Oa={},Object(ve.a)(Oa,Ba,{width:"100%"}),Object(ve.a)(Oa,Ra,{width:"50%"}),Oa)),Xa=Object(U.a)("div")({padding:40,backgroundColor:Pa.main,borderRadius:7,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),ec=Object(U.a)("div")({width:"100%",padding:40}),tc=Object(U.a)("div")((xa={bottom:0,backgroundColor:Pa.dark},Object(ve.a)(xa,Ba,{padding:20}),Object(ve.a)(xa,Ra,{paddingLeft:40,paddingBottom:20,paddingRight:40,paddingTop:40}),xa)),nc=U.a.div(pa||(pa=Object(Oe.a)(["\n    display: flex;\n    justify-content: ",";\n    align-items: center;\n"])),(function(e){return e.justify||"space-between"})),rc=function(){return Object(M.jsxs)(Ma,{style:{backgroundColor:"#f8f5ef"},children:[Object(M.jsx)(Ea,{children:Object(M.jsx)(Da,{src:Na,children:Object(M.jsx)(qa,{children:Object(M.jsxs)(Ga,{children:[Object(M.jsx)(Ha,{children:"The Clubhouse is open \ud83c\udf89"}),Object(M.jsx)(Za,{children:Object(M.jsx)(Qa,{children:Object(M.jsx)(Va,{children:"We are open all week for your tabletop gaming needs!"})})}),Object(M.jsx)("br",{}),Object(M.jsx)(ka.b,{to:"/public-inventory",children:Object(M.jsx)(de.a,{size:"huge",primary:!0,children:"Browse cards"})})]})})})}),Object(M.jsx)(ec,{}),Object(M.jsxs)($a,{children:[Object(M.jsx)(Wa,{children:"Your local game store."}),Object(M.jsx)(Za,{children:Object(M.jsx)(Ka,{children:"We take pride in our friendly community of players, and always ensure that our customers are well served."})})]}),Object(M.jsx)($a,{children:Object(M.jsxs)(Ua,{children:[Object(M.jsxs)("div",{children:[Object(M.jsxs)(Xa,{children:[Object(M.jsx)(nn.a,{name:"box",size:"huge",inverted:!0}),Object(M.jsx)(Va,{children:"Large product selection"})]}),Object(M.jsx)("br",{}),Object(M.jsx)(Ka,{children:"We stock an extensive selection of singles and CCG supplies just for you! When the deck-building itch strikes, turn to us"})]}),Object(M.jsxs)("div",{children:[Object(M.jsxs)(Xa,{children:[Object(M.jsx)(nn.a,{name:"users",size:"huge",inverted:!0}),Object(M.jsx)(Va,{children:"Inclusive community"})]}),Object(M.jsx)("br",{}),Object(M.jsx)(Ka,{children:"Young or seasoned, beginner or advanced, we welcome all players!"})]}),Object(M.jsxs)("div",{children:[Object(M.jsxs)(Xa,{children:[Object(M.jsx)(nn.a,{name:"dollar sign",size:"huge",inverted:!0}),Object(M.jsx)(Va,{children:"Cash or credit trade-ins"})]}),Object(M.jsx)("br",{}),Object(M.jsx)(Ka,{children:"Whether a whole collection or a single card, come on by and have one of our expert managers appraise it using competitive market rates"})]})]})}),Object(M.jsx)(ec,{}),Object(M.jsxs)($a,{children:[Object(M.jsx)(Wa,{children:"Two convenient locations"}),Object(M.jsxs)(Ya,{children:[Object(M.jsx)(za,{children:Object(M.jsx)(Da,{src:La,rounded:!0,children:Object(M.jsx)(Aa,{children:Object(M.jsxs)(Ja,{children:[Object(M.jsx)(Wa,{inverted:!0,children:"Beaverton"}),Object(M.jsx)(ec,{}),Object(M.jsxs)("div",{children:[Object(M.jsxs)(Ka,{inverted:!0,children:[Object(M.jsx)(nn.a,{name:"map marker alternate",size:"large",inverted:!0}),"13895 SW Farmington Rd, Beaverton, OR 97005"]}),Object(M.jsx)("br",{}),Object(M.jsxs)(Ka,{inverted:!0,children:[Object(M.jsx)(nn.a,{name:"clock",size:"large",inverted:!0}),"Mon - Fri 12pm to 7pm, Sat - Sun 11am to 7pm"]}),Object(M.jsx)("br",{}),Object(M.jsxs)(Ka,{inverted:!0,children:[Object(M.jsx)(nn.a,{name:"phone",size:"large",inverted:!0}),"(503) 268-1449"]})]})]})})})}),Object(M.jsx)(za,{children:Object(M.jsx)(Da,{src:_a,rounded:!0,children:Object(M.jsx)(Aa,{children:Object(M.jsxs)(Ja,{children:[Object(M.jsx)(Wa,{inverted:!0,children:"Hillsboro"}),Object(M.jsx)(ec,{}),Object(M.jsxs)("div",{children:[Object(M.jsxs)(Ka,{inverted:!0,children:[Object(M.jsx)(nn.a,{name:"map marker alternate",size:"large",inverted:!0}),"1300 SW Oak St Suite B, Hillsboro, OR 97123"]}),Object(M.jsx)("br",{}),Object(M.jsxs)(Ka,{inverted:!0,children:[Object(M.jsx)(nn.a,{name:"clock",size:"large",inverted:!0}),"Mon - Fri 12pm to 7pm, Sat - Sun 11am to 7pm"]}),Object(M.jsx)("br",{}),Object(M.jsxs)(Ka,{inverted:!0,children:[Object(M.jsx)(nn.a,{name:"phone",size:"large",inverted:!0}),"(971) 249-3096"]})]})]})})})})]})]}),Object(M.jsx)(ec,{}),Object(M.jsx)(za,{children:Object(M.jsx)(Da,{src:Ia,children:Object(M.jsx)(qa,{children:Object(M.jsxs)(Ga,{children:[Object(M.jsx)(Ha,{children:"We look forward to seeing you"}),Object(M.jsx)(Za,{children:Object(M.jsx)(Qa,{children:"Follow us on Facebook or become a member of our Discord community for up-to-date announcements on store events, product releases, pre-orders, and so much more!"})})]})})})}),Object(M.jsxs)(tc,{children:[Object(M.jsxs)(nc,{children:[Object(M.jsx)(Ka,{inverted:!0,children:"\xa9 2021 The Clubhouse"}),Object(M.jsxs)("div",{children:[Object(M.jsx)("a",{href:"https://discord.gg/Wpej7dQ",target:"_blank",rel:"noopener noreferrer",children:Object(M.jsx)(nn.a,{link:!0,name:"discord",size:"huge",inverted:!0})}),Object(M.jsx)("a",{href:"https://www.facebook.com/RGTClubhouse/",target:"_blank",rel:"noopener noreferrer",children:Object(M.jsx)(nn.a,{link:!0,name:"facebook",size:"huge",inverted:!0})})]})]}),Object(M.jsx)(nc,{justify:"center",children:Object(M.jsx)(ka.b,{to:"/login",children:Object(M.jsx)(de.a,{size:"tiny",color:"black",children:"Staff login"})})})]})]})},ac=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cardName,r=t.startDate,a=t.endDate,e.prev=1,e.next=4,h.a.get(I,{params:{cardName:n,startDate:r,endDate:a},headers:R()});case 4:return c=e.sent,i=c.data,e.abrupt("return",i);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),cc=n(407),ic=n(408),sc=n(409),oc=n(402),lc=n(403),uc=n(404),dc=n(405),jc=n(406),bc=Object(ge.a)({meta:{"& > *:not(:last-of-type):after":{content:'" \u2022 "'}}}),hc=function(e){var t=e.children,n=bc().meta;return Object(M.jsx)("span",{className:n,children:t})},Oc=function(e){return e||"\u2014"},xc=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(I,"/").concat(t),{headers:R()});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var pc=function(e){var t=e.receivedId,n=e.onClose,a=Object(r.useState)(!1),c=Object(u.a)(a,2),i=c[0],s=c[1],d=Object(r.useState)(null),j=Object(u.a)(d,2),b=j[0],h=j[1];if(Object(r.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,xc(t);case 4:n=e.sent,h(n),s(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[]),!b||i)return Object(M.jsxs)(oc.a,{open:!0,onClose:n,maxWidth:"md",fullWidth:!0,children:[Object(M.jsx)(lc.a,{children:"Received cards"}),Object(M.jsx)(uc.a,{children:Object(M.jsx)(bt,{})})]});var O,x=b.received_cards,p=b.created_at,f=b.created_by,m=b.customer_name,v=b.customer_contact;return Object(M.jsxs)(oc.a,{open:!0,onClose:n,maxWidth:"md",fullWidth:!0,children:[Object(M.jsxs)(lc.a,{children:["Received cards",Object(M.jsx)(Ne.a,{color:"textSecondary",children:Object(M.jsxs)(hc,{children:[Object(M.jsx)("span",{children:Mn(p)}),Object(M.jsxs)("span",{children:["Received by ",f.username]}),Object(M.jsxs)("span",{children:["Customer: ",Oc(m)]}),Object(M.jsxs)("span",{children:["Customer contact: ",Oc(v)]})]})})]}),Object(M.jsx)(uc.a,{children:Object(M.jsx)(sn.a,{children:(O=x,Object(X.a)(O).sort((function(e,t){return e.bulk_card_data.name.localeCompare(t.bulk_card_data.name)}))).map((function(e){var t,n=e.finishCondition,r=e.tradeType,a=e.creditPrice,c=e.cashPrice,i=e.marketPrice,s=new re(e.bulk_card_data),o=s.name,l=s.cardImage,u=s.set,d=s.set_name,j=s.rarity;return Object(M.jsx)(Vt.a,{children:Object(M.jsx)(dc.a,{primary:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Wt,{cardImage:l,children:Object(M.jsxs)("span",{style:{cursor:"help"},children:[o," "]})}),Object(M.jsx)(Qe,{set:u,rarity:j}),Object(M.jsxs)("span",{children:["(",d,")"]})]}),secondary:Object(M.jsxs)(hc,{children:[Object(M.jsx)("span",{children:Re(n)}),Object(M.jsx)("span",{children:(t=r,t===dr.Credit?"Credit":t===dr.Cash?"Cash":void 0)}),r===dr.Credit&&Object(M.jsxs)("span",{children:["Credit price:"," ",zt(a)]}),r===dr.Cash&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("span",{children:["Cash price:"," ",zt(c)]}),Object(M.jsxs)("span",{children:["Market price:"," ",zt(i)]})]})]})})})}))})}),Object(M.jsx)(jc.a,{children:Object(M.jsx)(Ue.a,{onClick:n,variant:"outlined",color:"primary",children:"Dismiss"})})]})},fc=function(e){var t=e.received,n=Object(r.useState)(!1),a=Object(u.a)(n,2),c=a[0],i=a[1],s=t.received_card_list,o=t.created_at,l=t.created_by,d=t.customer_name,j=Object(ht.sum)(s.filter((function(e){return e.tradeType===dr.Cash})).map((function(e){return e.cashPrice}))),b=Object(ht.sum)(s.filter((function(e){return e.tradeType===dr.Credit})).map((function(e){return e.creditPrice})));return Object(M.jsxs)(M.Fragment,{children:[c&&Object(M.jsx)(pc,{receivedId:t._id,onClose:function(){return i(!1)}}),Object(M.jsx)(cc.a,{variant:"outlined",children:Object(M.jsx)(ic.a,{disableRipple:!0,onClick:function(){return i(!0)},children:Object(M.jsx)(sc.a,{children:Object(M.jsxs)(lt.a,{container:!0,spacing:2,justify:"space-between",alignItems:"center",children:[Object(M.jsxs)(lt.a,{item:!0,children:[Object(M.jsx)(Ne.a,{variant:"h6",children:"".concat(s.length," ").concat(mn(s.length,"card"))}),Object(M.jsx)(Ne.a,{color:"textSecondary",children:Object(M.jsxs)(hc,{children:[Object(M.jsx)("span",{children:Mn(o)}),Object(M.jsxs)("span",{children:["Received by ",l.username]}),Object(M.jsxs)("span",{children:["Customer:"," ",Oc(d)]})]})})]}),Object(M.jsxs)(lt.a,{item:!0,children:[Object(M.jsx)(qe,{size:"small",label:"Cash: ".concat(qt(j)),color:j>0?"primary":void 0}),Object(M.jsx)(qe,{size:"small",label:"Credit: ".concat(qt(b)),color:b>0?"primary":void 0})]})]})})})})]})},mc=function(e){var t=e.label,n=e.name,r=e.defaultValue,a=e.handleChange,c=e.min,i=e.max;return Object(M.jsx)($n.a,{fullWidth:!0,children:Object(M.jsx)(ft.a,{id:n,label:t,name:n,size:"small",variant:"outlined",type:"date",onChange:a,defaultValue:r,InputProps:{inputProps:{min:c,max:i}}})})},vc=function(){return{}},gc=function(e){var t=e.onSubmit,n=e.filters,a=Object(r.useState)(!1),c=Object(u.a)(a,2),i=c[0],s=c[1],d=function(){return s(!1)},j=Object(he.a)({initialValues:n,validate:vc,onSubmit:function(){var e=Object(l.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:d();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),enableReinitialize:!0}),b=j.handleChange,h=j.values,O=j.setFieldValue,x=j.handleSubmit;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Ue.a,{disableElevation:!0,variant:"contained",color:"primary",onClick:function(){return s(!0)},children:"Filter"}),i&&Object(M.jsxs)(oc.a,{open:!0,onClose:d,maxWidth:"sm",fullWidth:!0,children:[Object(M.jsx)(lc.a,{children:"Receiving search"}),Object(M.jsx)(uc.a,{children:Object(M.jsx)("form",{children:Object(M.jsxs)(lt.a,{container:!0,spacing:2,children:[Object(M.jsx)(lt.a,{item:!0,xs:12,children:Object(M.jsx)(Ct,{value:h.cardName,onChange:function(e){return O("cardName",e)}})}),Object(M.jsx)(lt.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)(mc,{label:"Start date",name:"startDate",defaultValue:n.startDate,handleChange:b,max:h.endDate})}),Object(M.jsx)(lt.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)(mc,{label:"End date",name:"endDate",defaultValue:n.endDate,handleChange:b,max:n.endDate})})]})})}),Object(M.jsxs)(jc.a,{children:[Object(M.jsx)(Ue.a,{variant:"outlined",onClick:d,children:"Cancel"}),Object(M.jsx)(Ue.a,{disableElevation:!0,variant:"contained",color:"primary",onClick:function(){return x()},children:"Search"})]})]})]})},yc={cardName:"",startDate:Pn()().subtract(30,"days").format("YYYY-MM-DD"),endDate:Pn()().format("YYYY-MM-DD")};var Cc,wc=function(){var e,t,n=Object(r.useState)(yc),a=Object(u.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(!1),d=Object(u.a)(s,2),j=d[0],b=d[1],h=Object(r.useState)([]),O=Object(u.a)(h,2),x=O[0],p=O[1],f=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(Object(_e.a)(Object(_e.a)({},c),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.cardName,n=c.startDate,r=c.endDate,b(!0),e.next=4,ac({cardName:t||null,startDate:n,endDate:r});case 4:a=e.sent,b(!1),p(a);case 7:case"end":return e.stop()}}),e)})))()}),[c]),Object(M.jsxs)("div",{children:[Object(M.jsx)(Ke.a,{pb:2,children:Object(M.jsx)(ut,{children:"Browse Receiving"})}),Object(M.jsxs)(lt.a,{container:!0,justify:"space-between",spacing:2,children:[Object(M.jsx)(lt.a,{item:!0,alignItems:"center",md:12,lg:6,children:Object(M.jsxs)(Ke.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(M.jsxs)("div",{children:[Object(M.jsx)(dt,{children:"Results"}),Object(M.jsx)(Ne.a,{color:"textSecondary",children:"Searching ".concat(c.cardName||"all cards"," from ").concat(c.startDate," to ").concat(c.endDate)})]}),Object(M.jsxs)("div",{children:[(e=yc,t=c,!(JSON.stringify(e)===JSON.stringify(t))&&Object(M.jsx)(Ue.a,{color:"primary",onClick:function(){return i(yc)},children:"Clear filters"})),Object(M.jsx)(gc,{filters:c,onSubmit:f})]})]})}),j?Object(M.jsx)(bt,{}):0===x.length?Object(M.jsx)(lt.a,{item:!0,xs:12,children:Object(M.jsx)(St,{children:"No results"})}):x.map((function(e){return Object(M.jsx)(lt.a,{item:!0,xs:12,children:Object(M.jsx)(fc,{received:e})},e._id)}))]})]})},Sc=n(266),kc=n(413),Ic=n(411),Lc=n(412),Nc=n(433),_c=n(263),Fc=n.n(_c),Pc=n(410),Tc=n(256),Rc=n.n(Tc),Bc=n(257),Ec=n.n(Bc),Mc=n(258),Dc=n.n(Mc),zc=n(259),qc=n.n(zc),Ac=n(261),Hc=n.n(Ac),Wc=n(260),Vc=n.n(Wc),Qc=n(255),Gc=n.n(Qc),Uc=function(){var e=Object(d.i)().pathname,t=H().handleLogout;return Object(M.jsxs)(sn.a,{children:[Object(M.jsxs)(Vt.a,{button:!0,component:ka.b,to:"/manage-inventory",selected:"/manage-inventory"===e,replace:!0,children:[Object(M.jsx)(Pc.a,{children:Object(M.jsx)(cn.a,{color:"primary"})}),"Manage Inventory"]}),Object(M.jsxs)(Vt.a,{button:!0,component:ka.b,to:"/bulk-add",selected:"/bulk-add"===e,replace:!0,children:[Object(M.jsx)(Pc.a,{children:Object(M.jsx)(Gc.a,{color:"primary"})}),"Bulk Entry"]}),Object(M.jsxs)(Vt.a,{button:!0,component:ka.b,to:"/new-sale",selected:"/new-sale"===e,replace:!0,children:[Object(M.jsx)(Pc.a,{children:Object(M.jsx)(ea.a,{color:"primary"})}),"New Sale"]}),Object(M.jsxs)(Vt.a,{button:!0,component:ka.b,to:"/receiving",selected:"/receiving"===e,replace:!0,children:[Object(M.jsx)(Pc.a,{children:Object(M.jsx)(Rc.a,{color:"primary"})}),"Receiving"]}),Object(M.jsx)(on.a,{}),Object(M.jsxs)(Vt.a,{button:!0,component:ka.b,to:"/browse-inventory",selected:"/browse-inventory"===e,replace:!0,children:[Object(M.jsx)(Pc.a,{children:Object(M.jsx)(Ec.a,{color:"primary"})}),"Browse Inventory"]}),Object(M.jsxs)(Vt.a,{button:!0,component:ka.b,to:"/browse-sales",selected:"/browse-sales"===e,replace:!0,children:[Object(M.jsx)(Pc.a,{children:Object(M.jsx)(Dc.a,{color:"primary"})}),"Browse Sales"]}),Object(M.jsxs)(Vt.a,{button:!0,component:ka.b,to:"/browse-receiving",selected:"/browse-receiving"===e,replace:!0,children:[Object(M.jsx)(Pc.a,{children:Object(M.jsx)(qc.a,{color:"primary"})}),"Browse Receiving"]}),Object(M.jsxs)(Vt.a,{button:!0,component:ka.b,to:"/reporting",selected:"/reporting"===e,replace:!0,children:[Object(M.jsx)(Pc.a,{children:Object(M.jsx)(Vc.a,{color:"primary"})}),"Reporting (Beta)"]}),Object(M.jsx)(on.a,{}),Object(M.jsxs)(Vt.a,{button:!0,onClick:function(){return t()},children:[Object(M.jsx)(Pc.a,{children:Object(M.jsx)(Hc.a,{color:"primary"})}),"Log Out"]})]})},Yc=n(264),Jc=n.n(Yc),$c=n(262),Kc=Object(ge.a)((function(e){var t=e.spacing,n=e.typography,r=e.palette;return{title:{flexGrow:1},menuLinkText:{fontWeight:n.fontWeightBold,"&:hover":{color:r.common.white}},list:{width:250},menuButton:{marginRight:t(2)}}})),Zc=function(){var e,t=H(),n=t.isLoggedIn,a=t.currentLocation,c=t.currentUser,i=Object(r.useState)(!1),s=Object(u.a)(i,2),o=s[0],l=s[1],d=Kc(),j=d.title,b=d.list,h=d.menuButton,O=d.menuLinkText;return Object(M.jsx)(Ic.a,{children:Object(M.jsxs)(Lc.a,{children:[n()&&Object(M.jsx)(Qt.a,{edge:"start",color:"inherit",className:h,onClick:function(){return l(!0)},children:Object(M.jsx)(Fc.a,{})}),Object(M.jsx)("div",{className:j,children:Object(M.jsx)(Ne.a,{color:"inherit",className:O,component:ka.b,variant:"h6",to:"/",children:"Clubhouse Collection"})}),Object(M.jsx)(Ne.a,{color:"inherit",className:O,component:ka.b,variant:"button",to:"/public-inventory",children:"Search cards"}),Object(M.jsx)(Nc.a,{anchor:"left",open:o,onClose:function(){return l(!1)},children:Object(M.jsxs)(Ke.a,{py:2,display:"flex",flexDirection:"column",justifyContent:"space-between",height:1,children:[Object(M.jsxs)("div",{children:[Object(M.jsxs)(lt.a,{container:!0,direction:"row",alignItems:"center",justify:"center",children:[Object(M.jsx)(Jc.a,{color:"primary"}),Object(M.jsx)(Ne.a,{color:"primary",variant:"h6",children:(e=a,"ch1"===e?"Beaverton":"ch2"===e?"Hillsboro":"")})]}),Object(M.jsxs)(Ne.a,{color:"textSecondary",align:"center",children:["Logged in as ",c]}),Object(M.jsx)("div",{className:b,onClick:function(){return l(!1)},children:Object(M.jsx)(Uc,{})})]}),Object(M.jsxs)(Ne.a,{color:"textSecondary",align:"center",children:["Version ",$c.a]})]})})]})})},Xc=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.startDate,r=t.endDate,e.prev=1,e.next=4,h.a.get(_,{params:{startDate:n,endDate:r},headers:R()});case 4:return a=e.sent,c=a.data,e.abrupt("return",c);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();!function(e){e.ALL_TIME="All time",e.LAST_MONTH="Last 30 days"}(Cc||(Cc={}));var ei={startDate:Pn()().year(1999).toISOString(),endDate:Pn()().toISOString()},ti={startDate:Pn()().subtract(30,"days").toISOString(),endDate:Pn()().toISOString()},ni=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(null),i=Object(u.a)(c,2),s=i[0],d=i[1],j=Object(r.useState)(Cc.ALL_TIME),b=Object(u.a)(j,2),h=b[0],O=b[1],x=Object(r.useState)(ei),p=Object(u.a)(x,2),f=p[0],m=p[1];Object(r.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,Xc(f);case 3:t=e.sent,a(!1),d(t);case 6:case"end":return e.stop()}}),e)})))()}),[h,f]);return Object(M.jsxs)("div",{children:[Object(M.jsxs)(Ke.a,{pb:2,display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(M.jsx)(ut,{children:"Reporting"}),Object(M.jsxs)(Zn.a,{value:h,onChange:function(e){if(e.target.value===Cc.ALL_TIME)O(Cc.ALL_TIME),m(ei);else{if(e.target.value!==Cc.LAST_MONTH)throw new Error("Range selection not found");O(Cc.LAST_MONTH),m(ti)}},children:[Object(M.jsx)(Xn.a,{value:Cc.ALL_TIME,children:"All time"}),Object(M.jsx)(Xn.a,{value:Cc.LAST_MONTH,children:"Last 30 days"})]})]}),n||!s?Object(M.jsx)(bt,{}):Object(M.jsxs)(lt.a,{container:!0,spacing:2,children:[Object(M.jsxs)(lt.a,{item:!0,xs:12,md:6,children:[Object(M.jsx)(dt,{children:"Top cards sold by name"}),Object(M.jsx)(Sn.a,{component:it.a,variant:"outlined",children:Object(M.jsxs)(kn.a,{size:"small",children:[Object(M.jsx)(In.a,{children:Object(M.jsxs)(Ln.a,{children:[Object(M.jsx)(Nn.a,{children:Object(M.jsx)("b",{children:"Quantity sold"})}),Object(M.jsx)(Nn.a,{children:Object(M.jsx)("b",{children:"Card name"})})]})}),Object(M.jsx)(_n.a,{children:s.countByCardName.map((function(e){return Object(M.jsxs)(Ln.a,{children:[Object(M.jsx)(Nn.a,{children:e.count}),Object(M.jsx)(Nn.a,{children:e.card_title})]},Object(ht.uniqueId)())}))})]})})]}),Object(M.jsxs)(lt.a,{item:!0,xs:12,md:6,children:[Object(M.jsx)(dt,{children:"Top cards sold by a single printing"}),Object(M.jsx)(Sn.a,{component:it.a,variant:"outlined",children:Object(M.jsxs)(kn.a,{size:"small",children:[Object(M.jsx)(In.a,{children:Object(M.jsxs)(Ln.a,{children:[Object(M.jsx)(Nn.a,{children:Object(M.jsx)("b",{children:"Quantity sold"})}),Object(M.jsx)(Nn.a,{children:Object(M.jsx)("b",{children:"Card name"})}),Object(M.jsx)(Nn.a,{children:Object(M.jsx)("b",{children:"Set name"})})]})}),Object(M.jsx)(_n.a,{children:s.countByPrinting.map((function(e){return Object(M.jsxs)(Ln.a,{children:[Object(M.jsx)(Nn.a,{children:e.count}),Object(M.jsx)(Nn.a,{children:e.card_title}),Object(M.jsx)(Nn.a,{children:e.card_metadata.set_name})]},Object(ht.uniqueId)())}))})]})})]})]})]})},ri=function(e){var t=e.value,n=e.onChange,r=e.label,a=e.name,c=Object(Ge.a)(e,["value","onChange","label","name"]);return Object(M.jsx)(ft.a,Object(_e.a)({fullWidth:!0,type:"number",size:"small",variant:"outlined",label:r,name:a,value:t,InputProps:{inputProps:{min:1}},onBlur:function(e){var t=e.target.value,r=parseInt(t);if(isNaN(r)||r<1)return n("1");n(r.toString())},onChange:function(e){n(e.target.value)}},c))},ai=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get(F,{params:{cardName:t},headers:R()});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ci=Object(ge.a)({popupIndicatorOpen:{transform:"rotate(0deg)"}}),ii=function(e){var t=e.value,n=e.onChange,a=e.onHighlight,c=ci(),i=Object(r.useState)(!1),s=Object(u.a)(i,2),d=s[0],j=s[1],b=Object(r.useState)([]),h=Object(u.a)(b,2),O=h[0],x=h[1],p=Object(r.useState)(t),f=Object(u.a)(p,2),m=f[0],v=f[1],g=Object(r.useRef)();Object(r.useEffect)((function(){t||v(null),g&&g.current&&g.current.focus()}),[t]);var y=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,ai(t);case 3:return n=e.sent,e.next=6,x(n);case 6:j(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=Object(r.useCallback)(Ot.a.debounce(y,750),[]),w=function(){var e=Object(l.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&!(n.length<3)){e.next=3;break}return x([]),e.abrupt("return");case 3:return e.next=5,C(n);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(o.a.mark((function e(t,r,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("clear"!==a){e.next=4;break}return n(null),v(null),e.abrupt("return");case 4:return e.prev=4,j(!0),v(r),e.next=9,n(r);case 9:j(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(pt.a,{id:"searchBar",autoHighlight:!0,selectOnFocus:!0,value:m,onInputChange:w,onChange:S,loading:d,options:O,getOptionLabel:function(e){return e.display_name},filterOptions:function(e){return e},getOptionSelected:function(e,t){return e.scryfall_id===t.scryfall_id},onHighlightChange:function(e,t){a&&a(t)},renderOption:function(e){return Object(M.jsxs)("div",{children:[Object(M.jsx)(Ne.a,{component:"span",children:e.display_name}),Object(M.jsx)(Qe,{set:e.set_abbreviation,rarity:e.rarity})]})},placeholder:"Enter a card title",closeIcon:null,popupIcon:Object(M.jsx)(vt.a,{}),noOptionsText:"No results found",classes:{popupIndicatorOpen:c.popupIndicatorOpen},renderInput:function(e){return Object(M.jsx)("div",{ref:e.InputProps.ref,children:Object(M.jsx)(ft.a,Object(_e.a)(Object(_e.a)({inputProps:{ref:g}},e.inputProps),{},{fullWidth:!0,label:"Enter a card title",variant:"outlined",size:"small"}))})}})})},si=n(424),oi=n(422),li=Object(r.createContext)({createToast:function(){return null}}),ui=function(e){var t=e.children,n=Object(r.useState)(!1),a=Object(u.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)("success"),o=Object(u.a)(s,2),l=o[0],d=o[1],j=Object(r.useState)(""),b=Object(u.a)(j,2),h=b[0],O=b[1];return Object(M.jsxs)(li.Provider,{value:{createToast:function(e){var t=e.severity,n=e.message;d(t),O(n),i(!0)}},children:[Object(M.jsx)(si.a,{open:c,autoHideDuration:3e3,anchorOrigin:{vertical:"bottom",horizontal:"right"},onClose:function(){return i(!1)},children:Object(M.jsx)(oi.a,{severity:l,children:h})}),t]})},di=function(e){var t=e.cards;return Object(M.jsx)(Sn.a,{component:it.a,variant:"outlined",children:Object(M.jsxs)(kn.a,{size:"small",children:[Object(M.jsx)(In.a,{children:Object(M.jsxs)(Ln.a,{children:[Object(M.jsx)(Nn.a,{children:Object(M.jsx)("b",{children:"Name"})}),Object(M.jsx)(Nn.a,{children:Object(M.jsx)("b",{children:"Quantity"})}),Object(M.jsx)(Nn.a,{children:Object(M.jsx)("b",{children:"Finish"})}),Object(M.jsx)(Nn.a,{children:Object(M.jsx)("b",{children:"Condition"})})]})}),Object(M.jsx)(_n.a,{children:t.map((function(e){if(e.bulkCard){var t=e.bulkCard,n=e.quantity,r=e.finish,a=e.condition;return Object(M.jsxs)(Ln.a,{children:[Object(M.jsx)(Nn.a,{children:t.display_name}),Object(M.jsx)(Nn.a,{children:n}),Object(M.jsx)(Nn.a,{children:r}),Object(M.jsx)(Nn.a,{children:a})]},"".concat(e.bulkCard.scryfall_id,"-").concat(Math.random()))}}))})]})})},ji=Object(ge.a)((function(e){var t=e.palette;return{imageContainer:{maxWidth:200,height:"auto"},placeholderImage:{background:"repeating-linear-gradient(\n            45deg,\n            ".concat(t.grey[200],",\n            ").concat(t.grey[200]," 10px,\n            ").concat(t.grey[300]," 10px,\n            ").concat(t.grey[300]," 20px\n          )"),borderRadius:10,height:280,width:200}}})),bi=function(){var e,t,n=ji(),a=n.imageContainer,c=n.placeholderImage,i=Object(r.useState)(""),s=Object(u.a)(i,2),d=s[0],j=s[1],b=Object(r.useState)([]),h=Object(u.a)(b,2),O=h[0],x=h[1],p=Object(r.useContext)(li).createToast,f=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.bulkCard){e.next=5;break}return e.next=4,ct({quantity:Number(t.quantity),finishCondition:"".concat(t.finish,"_").concat(t.condition),cardInfo:{id:t.bulkCard.scryfall_id,name:t.bulkCard.name,set_name:t.bulkCard.set_name,set:t.bulkCard.set_abbreviation}});case 4:p({message:"Added ".concat(t.quantity,"x ").concat(t.bulkCard.name," to inventory"),severity:"success"});case 5:x([t].concat(Object(X.a)(O))),C(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),p({message:"Error adding card",severity:"error"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),m=Object(he.a)({initialValues:{bulkCard:null,finish:"NONFOIL",quantity:"1",condition:"NM"},onSubmit:f}),v=m.values,g=m.setFieldValue,y=m.handleSubmit,C=m.resetForm,w=m.isSubmitting;return Object(r.useEffect)((function(){if(v.bulkCard){if(g("condition","NM"),g("quantity","1"),!v.bulkCard.nonfoil_printing)return void g("finish","FOIL");if(!v.bulkCard.foil_printing)return void g("finish","NONFOIL");g("finish","NONFOIL")}}),[v.bulkCard]),Object(M.jsxs)(Fr.a,{maxWidth:"md",children:[Object(M.jsxs)(lt.a,{container:!0,spacing:3,children:[Object(M.jsx)(lt.a,{item:!0,xs:8,children:Object(M.jsx)("form",{children:Object(M.jsxs)(lt.a,{container:!0,spacing:3,xs:12,children:[Object(M.jsxs)(lt.a,{item:!0,xs:12,children:[Object(M.jsx)(dt,{children:"Card search"}),Object(M.jsx)("br",{}),Object(M.jsx)(ii,{value:v.bulkCard,onChange:function(e){return g("bulkCard",e)},onHighlight:function(e){return j((null===e||void 0===e?void 0:e.image)||"")}})]}),Object(M.jsx)(lt.a,{item:!0,xs:4,children:Object(M.jsxs)($n.a,{variant:"outlined",size:"small",fullWidth:!0,disabled:!v.bulkCard,children:[Object(M.jsx)(Kn.a,{children:"Finish"}),Object(M.jsxs)(Zn.a,{label:"Finish",value:v.finish,onChange:function(e){return g("finish",e.target.value)},children:[Object(M.jsx)(Xn.a,{value:"FOIL",disabled:!(null===(e=v.bulkCard)||void 0===e?void 0:e.foil_printing),children:"Foil"},"nonfoil"),Object(M.jsx)(Xn.a,{value:"NONFOIL",disabled:!(null===(t=v.bulkCard)||void 0===t?void 0:t.nonfoil_printing),children:"Nonfoil"},"foil")]})]})}),Object(M.jsx)(lt.a,{item:!0,xs:4,children:Object(M.jsx)(er,{disabled:!v.bulkCard,name:"condition",label:"Condition",options:ke,value:v.condition,onChange:function(e){return g("condition",e)}})}),Object(M.jsx)(lt.a,{item:!0,xs:4,children:Object(M.jsx)(ri,{label:"Quantity",name:"quantity",value:v.quantity,onChange:function(e){return g("quantity",e)},disabled:!v.bulkCard})}),Object(M.jsx)(lt.a,{item:!0,xs:12,children:Object(M.jsx)(Ye,{fullWidth:!0,type:"submit",primary:!0,onClick:function(){return y()},disabled:!v.bulkCard||w,children:"Add to inventory"})})]})})}),Object(M.jsxs)(lt.a,{item:!0,xs:4,children:[Object(M.jsx)(dt,{children:"Card preview"}),Object(M.jsx)("br",{}),d?Object(M.jsx)("div",{className:a,children:Object(M.jsx)(we,{image:d})}):Object(M.jsx)("div",{className:a,children:Object(M.jsx)("div",{className:c})})]})]}),O.length>0&&Object(M.jsxs)("div",{children:[Object(M.jsx)(dt,{children:"Recently added cards"}),Object(M.jsx)(di,{cards:O})]})]})},hi=Object(ge.a)((function(e){var t=e.spacing;return{contentContainer:{paddingTop:t(10),marginLeft:t(3),marginRight:t(3)},backgroundColor:{backgroundColor:"#f9fafb",minHeight:"100vh"}}})),Oi=Object(Sc.a)({palette:{primary:{main:"#2185d0"}}}),xi=function(){var e=hi(),t=e.backgroundColor,n=e.contentContainer;return Object(M.jsx)(W,{children:Object(M.jsx)(kc.a,{theme:Oi,children:Object(M.jsxs)(ui,{children:[Object(M.jsx)(Zc,{}),Object(M.jsxs)(d.e,{children:[Object(M.jsx)(d.c,{exact:!0,path:"/",component:rc}),Object(M.jsx)("div",{className:t,children:Object(M.jsxs)("div",{className:n,children:[Object(M.jsx)(Sa,{exact:!0,path:"/manage-inventory",children:Object(M.jsx)(ie,{children:Object(M.jsx)(kt,{})})}),Object(M.jsx)(Sa,{exact:!0,path:"/new-sale",children:Object(M.jsx)(Tt,{children:Object(M.jsx)(wn,{})})}),Object(M.jsx)(Sa,{exact:!0,path:"/receiving",children:Object(M.jsx)($r,{children:Object(M.jsx)(Ca,{})})}),Object(M.jsx)(Sa,{exact:!0,path:"/browse-sales",children:Object(M.jsx)(An,{})}),Object(M.jsx)(Sa,{exact:!0,path:"/browse-inventory",children:Object(M.jsx)(Mr,{})}),Object(M.jsx)(Sa,{exact:!0,path:"/browse-receiving",children:Object(M.jsx)(wc,{})}),Object(M.jsx)(Sa,{exact:!0,path:"/bulk-add",children:Object(M.jsx)(bi,{})}),Object(M.jsx)(d.c,{exact:!0,path:"/public-inventory",component:ir}),Object(M.jsx)(d.c,{exact:!0,path:"/reporting",component:ni}),Object(M.jsx)(d.c,{exact:!0,path:"/login",component:Vr})]})})]})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(327),n(328);i.a.render(Object(M.jsx)(ka.a,{basename:"/",children:Object(M.jsx)(xi,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[329,1,2]]]);
//# sourceMappingURL=main.f454eae1.chunk.js.map